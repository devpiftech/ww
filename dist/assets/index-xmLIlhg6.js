var ap=e=>{throw TypeError(e)};var _u=(e,t,n)=>t.has(e)||ap("Cannot "+n);var U=(e,t,n)=>(_u(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?ap("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(_u(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),bt=(e,t,n)=>(_u(e,t,"access private method"),n);var Hi=(e,t,n,r)=>({set _(a){we(e,t,a,n)},get _(){return U(e,t,r)}});function ZN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Jx={exports:{}},Sc={},Xx={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=Symbol.for("react.element"),t_=Symbol.for("react.portal"),n_=Symbol.for("react.fragment"),r_=Symbol.for("react.strict_mode"),s_=Symbol.for("react.profiler"),a_=Symbol.for("react.provider"),o_=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),l_=Symbol.for("react.suspense"),c_=Symbol.for("react.memo"),u_=Symbol.for("react.lazy"),op=Symbol.iterator;function d_(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var Zx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ev=Object.assign,tv={};function eo(e,t,n){this.props=e,this.context=t,this.refs=tv,this.updater=n||Zx}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nv(){}nv.prototype=eo.prototype;function nh(e,t,n){this.props=e,this.context=t,this.refs=tv,this.updater=n||Zx}var rh=nh.prototype=new nv;rh.constructor=nh;ev(rh,eo.prototype);rh.isPureReactComponent=!0;var ip=Array.isArray,rv=Object.prototype.hasOwnProperty,sh={current:null},sv={key:!0,ref:!0,__self:!0,__source:!0};function av(e,t,n){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)rv.call(t,r)&&!sv.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:_i,type:e,key:o,ref:i,props:a,_owner:sh.current}}function f_(e,t){return{$$typeof:_i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ah(e){return typeof e=="object"&&e!==null&&e.$$typeof===_i}function h_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lp=/\/+/g;function Su(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h_(""+e.key):t.toString(36)}function _l(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _i:case t_:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Su(i,0):r,ip(a)?(n="",e!=null&&(n=e.replace(lp,"$&/")+"/"),_l(a,t,n,"",function(u){return u})):a!=null&&(ah(a)&&(a=f_(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(lp,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",ip(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Su(o,l);i+=_l(o,t,n,c,a)}else if(c=d_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Su(o,l++),i+=_l(o,t,n,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vi(e,t,n){if(e==null)return e;var r=[],a=0;return _l(e,r,"","",function(o){return t.call(n,o,a++)}),r}function m_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Sl={transition:null},p_={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Sl,ReactCurrentOwner:sh};function ov(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Vi,forEach:function(e,t,n){Vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vi(e,function(){t++}),t},toArray:function(e){return Vi(e,function(t){return t})||[]},only:function(e){if(!ah(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=eo;Ne.Fragment=n_;Ne.Profiler=s_;Ne.PureComponent=nh;Ne.StrictMode=r_;Ne.Suspense=l_;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p_;Ne.act=ov;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ev({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=sh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)rv.call(t,c)&&!sv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_i,type:e.type,key:a,ref:o,props:r,_owner:i}};Ne.createContext=function(e){return e={$$typeof:o_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:a_,_context:e},e.Consumer=e};Ne.createElement=av;Ne.createFactory=function(e){var t=av.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:i_,render:e}};Ne.isValidElement=ah;Ne.lazy=function(e){return{$$typeof:u_,_payload:{_status:-1,_result:e},_init:m_}};Ne.memo=function(e,t){return{$$typeof:c_,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Sl.transition;Sl.transition={};try{e()}finally{Sl.transition=t}};Ne.unstable_act=ov;Ne.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Ne.useContext=function(e){return Ot.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Ne.useId=function(){return Ot.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Ne.useRef=function(e){return Ot.current.useRef(e)};Ne.useState=function(e){return Ot.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Ot.current.useTransition()};Ne.version="18.3.1";Xx.exports=Ne;var m=Xx.exports;const G=Kx(m),iv=ZN({__proto__:null,default:G},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_=m,x_=Symbol.for("react.element"),v_=Symbol.for("react.fragment"),y_=Object.prototype.hasOwnProperty,w_=g_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b_={key:!0,ref:!0,__self:!0,__source:!0};function lv(e,t,n){var r,a={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)y_.call(t,r)&&!b_.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:x_,type:e,key:o,ref:i,props:a,_owner:w_.current}}Sc.Fragment=v_;Sc.jsx=lv;Sc.jsxs=lv;Jx.exports=Sc;var s=Jx.exports,cv={exports:{}},Xt={},uv={exports:{}},dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,O){var B=S.length;S.push(O);e:for(;0<B;){var z=B-1>>>1,X=S[z];if(0<a(X,O))S[z]=O,S[B]=X,B=z;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var O=S[0],B=S.pop();if(B!==O){S[0]=B;e:for(var z=0,X=S.length,ce=X>>>1;z<ce;){var V=2*(z+1)-1,oe=S[V],K=V+1,te=S[K];if(0>a(oe,B))K<X&&0>a(te,oe)?(S[z]=te,S[K]=B,z=K):(S[z]=oe,S[V]=B,z=V);else if(K<X&&0>a(te,B))S[z]=te,S[K]=B,z=K;else break e}}return O}function a(S,O){var B=S.sortIndex-O.sortIndex;return B!==0?B:S.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,g=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=S)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function j(S){if(p=!1,b(S),!g)if(n(c)!==null)g=!0,_(N);else{var O=n(u);O!==null&&A(j,O.startTime-S)}}function N(S,O){g=!1,p&&(p=!1,v(T),T=-1),x=!0;var B=h;try{for(b(O),f=n(c);f!==null&&(!(f.expirationTime>O)||S&&!I());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var X=z(f.expirationTime<=O);O=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),b(O)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var V=n(u);V!==null&&A(j,V.startTime-O),ce=!1}return ce}finally{f=null,h=B,x=!1}}var C=!1,k=null,T=-1,$=5,M=-1;function I(){return!(e.unstable_now()-M<$)}function R(){if(k!==null){var S=e.unstable_now();M=S;var O=!0;try{O=k(!0,S)}finally{O?F():(C=!1,k=null)}}else C=!1}var F;if(typeof y=="function")F=function(){y(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,P=E.port2;E.port1.onmessage=R,F=function(){P.postMessage(null)}}else F=function(){w(R,0)};function _(S){k=S,C||(C=!0,F())}function A(S,O){T=w(function(){S(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,_(N))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var B=h;h=O;try{return S()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,O){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var B=h;h=S;try{return O()}finally{h=B}},e.unstable_scheduleCallback=function(S,O,B){var z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?z+B:z):B=z,S){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,S={id:d++,callback:O,priorityLevel:S,startTime:B,expirationTime:X,sortIndex:-1},B>z?(S.sortIndex=B,t(u,S),n(c)===null&&S===n(u)&&(p?(v(T),T=-1):p=!0,A(j,B-z))):(S.sortIndex=X,t(c,S),g||x||(g=!0,_(N))),S},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(S){var O=h;return function(){var B=h;h=O;try{return S.apply(this,arguments)}finally{h=B}}}})(dv);uv.exports=dv;var j_=uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=m,Jt=j_;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fv=new Set,Yo={};function Gs(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Yo[e]=t,e=0;e<t.length;e++)fv.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bd=Object.prototype.hasOwnProperty,__=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cp={},up={};function S_(e){return bd.call(up,e)?!0:bd.call(cp,e)?!1:__.test(e)?up[e]=!0:(cp[e]=!0,!1)}function k_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C_(e,t,n,r){if(t===null||typeof t>"u"||k_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,n,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var oh=/[\-:]([a-z])/g;function ih(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oh,ih);wt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oh,ih);wt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oh,ih);wt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lh(e,t,n,r){var a=wt.hasOwnProperty(t)?wt[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C_(t,n,a,r)&&(n=null),r||a===null?S_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yr=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),ua=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),hv=Symbol.for("react.provider"),mv=Symbol.for("react.context"),uh=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),_d=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),pv=Symbol.for("react.offscreen"),dp=Symbol.iterator;function mo(e){return e===null||typeof e!="object"?null:(e=dp&&e[dp]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,ku;function Eo(e){if(ku===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ku=t&&t[1]||""}return`
`+ku+e}var Cu=!1;function Eu(e,t){if(!e||Cu)return"";Cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Cu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Eo(e):""}function E_(e){switch(e.tag){case 5:return Eo(e.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return e=Eu(e.type,!1),e;case 11:return e=Eu(e.type.render,!1),e;case 1:return e=Eu(e.type,!0),e;default:return""}}function Sd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ua:return"Portal";case jd:return"Profiler";case ch:return"StrictMode";case Nd:return"Suspense";case _d:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mv:return(e.displayName||"Context")+".Consumer";case hv:return(e._context.displayName||"Context")+".Provider";case uh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dh:return t=e.displayName||null,t!==null?t:Sd(e.type)||"Memo";case Ar:t=e._payload,e=e._init;try{return Sd(e(t))}catch{}}return null}function T_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sd(t);case 8:return t===ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P_(e){var t=gv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=P_(e))}function xv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kd(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ss(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vv(e,t){t=t.checked,t!=null&&lh(e,"checked",t,!1)}function Cd(e,t){vv(e,t);var n=ss(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ed(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ed(e,t.type,ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ed(e,t,n){(t!=="number"||zl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var To=Array.isArray;function ja(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ss(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Td(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(To(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ss(n)}}function yv(e,t){var n=ss(t.value),r=ss(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yi,bv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R_=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){R_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function jv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function Nv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=jv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var A_=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(e,t){if(t){if(A_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function fh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Od=null,Na=null,_a=null;function gp(e){if(e=Ci(e)){if(typeof Od!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Pc(t),Od(e.stateNode,e.type,t))}}function _v(e){Na?_a?_a.push(e):_a=[e]:Na=e}function Sv(){if(Na){var e=Na,t=_a;if(_a=Na=null,gp(e),t)for(e=0;e<t.length;e++)gp(t[e])}}function kv(e,t){return e(t)}function Cv(){}var Tu=!1;function Ev(e,t,n){if(Tu)return e(t,n);Tu=!0;try{return kv(e,t,n)}finally{Tu=!1,(Na!==null||_a!==null)&&(Cv(),Sv())}}function Ko(e,t){var n=e.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Dd=!1;if(dr)try{var po={};Object.defineProperty(po,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Dd=!1}function M_(e,t,n,r,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Do=!1,Ul=null,Wl=!1,Id=null,O_={onError:function(e){Do=!0,Ul=e}};function D_(e,t,n,r,a,o,i,l,c){Do=!1,Ul=null,M_.apply(O_,arguments)}function I_(e,t,n,r,a,o,i,l,c){if(D_.apply(this,arguments),Do){if(Do){var u=Ul;Do=!1,Ul=null}else throw Error(H(198));Wl||(Wl=!0,Id=u)}}function Ys(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xp(e){if(Ys(e)!==e)throw Error(H(188))}function L_(e){var t=e.alternate;if(!t){if(t=Ys(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return xp(a),e;if(o===r)return xp(a),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Pv(e){return e=L_(e),e!==null?Rv(e):null}function Rv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rv(e);if(t!==null)return t;e=e.sibling}return null}var Av=Jt.unstable_scheduleCallback,vp=Jt.unstable_cancelCallback,$_=Jt.unstable_shouldYield,F_=Jt.unstable_requestPaint,at=Jt.unstable_now,B_=Jt.unstable_getCurrentPriorityLevel,hh=Jt.unstable_ImmediatePriority,Mv=Jt.unstable_UserBlockingPriority,Hl=Jt.unstable_NormalPriority,z_=Jt.unstable_LowPriority,Ov=Jt.unstable_IdlePriority,kc=null,Wn=null;function U_(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:V_,W_=Math.log,H_=Math.LN2;function V_(e){return e>>>=0,e===0?32:31-(W_(e)/H_|0)|0}var Qi=64,Ki=4194304;function Po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~a;l!==0?r=Po(l):(o&=i,o!==0&&(r=Po(o)))}else i=n&~a,i!==0?r=Po(i):o!==0&&(r=Po(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nn(t),a=1<<n,r|=e[n],t&=~a;return r}function q_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Nn(o),l=1<<i,c=a[i];c===-1?(!(l&n)||l&r)&&(a[i]=q_(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Ld(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dv(){var e=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),e}function Pu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=n}function Y_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Nn(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function mh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ae=0;function Iv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lv,ph,$v,Fv,Bv,$d=!1,Ji=[],Yr=null,Qr=null,Kr=null,Jo=new Map,Xo=new Map,Dr=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function go(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Ci(t),t!==null&&ph(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function K_(e,t,n,r,a){switch(t){case"focusin":return Yr=go(Yr,e,t,n,r,a),!0;case"dragenter":return Qr=go(Qr,e,t,n,r,a),!0;case"mouseover":return Kr=go(Kr,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Jo.set(o,go(Jo.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Xo.set(o,go(Xo.get(o)||null,e,t,n,r,a)),!0}return!1}function zv(e){var t=ks(e.target);if(t!==null){var n=Ys(t);if(n!==null){if(t=n.tag,t===13){if(t=Tv(n),t!==null){e.blockedOn=t,Bv(e.priority,function(){$v(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Md=r,n.target.dispatchEvent(r),Md=null}else return t=Ci(n),t!==null&&ph(t),e.blockedOn=n,!1;t.shift()}return!0}function wp(e,t,n){kl(e)&&n.delete(t)}function J_(){$d=!1,Yr!==null&&kl(Yr)&&(Yr=null),Qr!==null&&kl(Qr)&&(Qr=null),Kr!==null&&kl(Kr)&&(Kr=null),Jo.forEach(wp),Xo.forEach(wp)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,$d||($d=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,J_)))}function Zo(e){function t(a){return xo(a,e)}if(0<Ji.length){xo(Ji[0],e);for(var n=1;n<Ji.length;n++){var r=Ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yr!==null&&xo(Yr,e),Qr!==null&&xo(Qr,e),Kr!==null&&xo(Kr,e),Jo.forEach(t),Xo.forEach(t),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)zv(n),n.blockedOn===null&&Dr.shift()}var Sa=yr.ReactCurrentBatchConfig,ql=!0;function X_(e,t,n,r){var a=Ae,o=Sa.transition;Sa.transition=null;try{Ae=1,gh(e,t,n,r)}finally{Ae=a,Sa.transition=o}}function Z_(e,t,n,r){var a=Ae,o=Sa.transition;Sa.transition=null;try{Ae=4,gh(e,t,n,r)}finally{Ae=a,Sa.transition=o}}function gh(e,t,n,r){if(ql){var a=Fd(e,t,n,r);if(a===null)Bu(e,t,r,Gl,n),yp(e,r);else if(K_(a,e,t,n,r))r.stopPropagation();else if(yp(e,r),t&4&&-1<Q_.indexOf(e)){for(;a!==null;){var o=Ci(a);if(o!==null&&Lv(o),o=Fd(e,t,n,r),o===null&&Bu(e,t,r,Gl,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else Bu(e,t,r,null,n)}}var Gl=null;function Fd(e,t,n,r){if(Gl=null,e=fh(r),e=ks(e),e!==null)if(t=Ys(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function Uv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B_()){case hh:return 1;case Mv:return 4;case Hl:case z_:return 16;case Ov:return 536870912;default:return 16}default:return 16}}var Hr=null,xh=null,Cl=null;function Wv(){if(Cl)return Cl;var e,t=xh,n=t.length,r,a="value"in Hr?Hr.value:Hr.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[o-r];r++);return Cl=a.slice(e,1<r?1-r:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function bp(){return!1}function Zt(e){function t(n,r,a,o,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xi:bp,this.isPropagationStopped=bp,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vh=Zt(to),ki=Xe({},to,{view:0,detail:0}),eS=Zt(ki),Ru,Au,vo,Cc=Xe({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(Ru=e.screenX-vo.screenX,Au=e.screenY-vo.screenY):Au=Ru=0,vo=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Au}}),jp=Zt(Cc),tS=Xe({},Cc,{dataTransfer:0}),nS=Zt(tS),rS=Xe({},ki,{relatedTarget:0}),Mu=Zt(rS),sS=Xe({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=Zt(sS),oS=Xe({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iS=Zt(oS),lS=Xe({},to,{data:0}),Np=Zt(lS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dS[e])?!!t[e]:!1}function yh(){return fS}var hS=Xe({},ki,{key:function(e){if(e.key){var t=cS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=Zt(hS),pS=Xe({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=Zt(pS),gS=Xe({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),xS=Zt(gS),vS=Xe({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),yS=Zt(vS),wS=Xe({},Cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=Zt(wS),jS=[9,13,27,32],wh=dr&&"CompositionEvent"in window,Io=null;dr&&"documentMode"in document&&(Io=document.documentMode);var NS=dr&&"TextEvent"in window&&!Io,Hv=dr&&(!wh||Io&&8<Io&&11>=Io),Sp=" ",kp=!1;function Vv(e,t){switch(e){case"keyup":return jS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function _S(e,t){switch(e){case"compositionend":return qv(t);case"keypress":return t.which!==32?null:(kp=!0,Sp);case"textInput":return e=t.data,e===Sp&&kp?null:e;default:return null}}function SS(e,t){if(fa)return e==="compositionend"||!wh&&Vv(e,t)?(e=Wv(),Cl=xh=Hr=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hv&&t.locale!=="ko"?null:t.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kS[e.type]:t==="textarea"}function Gv(e,t,n,r){_v(r),t=Yl(t,"onChange"),0<t.length&&(n=new vh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lo=null,ei=null;function CS(e){sy(e,0)}function Ec(e){var t=pa(e);if(xv(t))return e}function ES(e,t){if(e==="change")return t}var Yv=!1;if(dr){var Ou;if(dr){var Du="oninput"in document;if(!Du){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Du=typeof Ep.oninput=="function"}Ou=Du}else Ou=!1;Yv=Ou&&(!document.documentMode||9<document.documentMode)}function Tp(){Lo&&(Lo.detachEvent("onpropertychange",Qv),ei=Lo=null)}function Qv(e){if(e.propertyName==="value"&&Ec(ei)){var t=[];Gv(t,ei,e,fh(e)),Ev(CS,t)}}function TS(e,t,n){e==="focusin"?(Tp(),Lo=t,ei=n,Lo.attachEvent("onpropertychange",Qv)):e==="focusout"&&Tp()}function PS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(ei)}function RS(e,t){if(e==="click")return Ec(t)}function AS(e,t){if(e==="input"||e==="change")return Ec(t)}function MS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:MS;function ti(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!bd.call(t,a)||!Sn(e[a],t[a]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,t){var n=Pp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pp(n)}}function Kv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jv(){for(var e=window,t=zl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zl(e.document)}return t}function bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OS(e){var t=Jv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kv(n.ownerDocument.documentElement,n)){if(r!==null&&bh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=Rp(n,o);var i=Rp(n,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DS=dr&&"documentMode"in document&&11>=document.documentMode,ha=null,Bd=null,$o=null,zd=!1;function Ap(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zd||ha==null||ha!==zl(r)||(r=ha,"selectionStart"in r&&bh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&ti($o,r)||($o=r,r=Yl(Bd,"onSelect"),0<r.length&&(t=new vh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ha)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ma={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Iu={},Xv={};dr&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Tc(e){if(Iu[e])return Iu[e];if(!ma[e])return e;var t=ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xv)return Iu[e]=t[n];return e}var Zv=Tc("animationend"),ey=Tc("animationiteration"),ty=Tc("animationstart"),ny=Tc("transitionend"),ry=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){ry.set(e,t),Gs(t,[e])}for(var Lu=0;Lu<Mp.length;Lu++){var $u=Mp[Lu],IS=$u.toLowerCase(),LS=$u[0].toUpperCase()+$u.slice(1);fs(IS,"on"+LS)}fs(Zv,"onAnimationEnd");fs(ey,"onAnimationIteration");fs(ty,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(ny,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Op(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,I_(r,t,void 0,e),e.currentTarget=null}function sy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;Op(a,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;Op(a,l,u),o=c}}}if(Wl)throw e=Id,Wl=!1,Id=null,e}function He(e,t){var n=t[qd];n===void 0&&(n=t[qd]=new Set);var r=e+"__bubble";n.has(r)||(ay(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),ay(n,e,r,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function ni(e){if(!e[el]){e[el]=!0,fv.forEach(function(n){n!=="selectionchange"&&($S.has(n)||Fu(n,!1,e),Fu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,Fu("selectionchange",!1,t))}}function ay(e,t,n,r){switch(Uv(t)){case 1:var a=X_;break;case 4:a=Z_;break;default:a=gh}n=a.bind(null,t,n,e),a=void 0,!Dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ks(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Ev(function(){var u=o,d=fh(n),f=[];e:{var h=ry.get(e);if(h!==void 0){var x=vh,g=e;switch(e){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":x=mS;break;case"focusin":g="focus",x=Mu;break;case"focusout":g="blur",x=Mu;break;case"beforeblur":case"afterblur":x=Mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=xS;break;case Zv:case ey:case ty:x=aS;break;case ny:x=yS;break;case"scroll":x=eS;break;case"wheel":x=bS;break;case"copy":case"cut":case"paste":x=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=_p}var p=(t&4)!==0,w=!p&&e==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=Ko(y,v),j!=null&&p.push(ri(y,j,b)))),w)break;y=y.return}0<p.length&&(h=new x(h,g,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&n!==Md&&(g=n.relatedTarget||n.fromElement)&&(ks(g)||g[fr]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=u,g=g?ks(g):null,g!==null&&(w=Ys(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=u),x!==g)){if(p=jp,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=_p,j="onPointerLeave",v="onPointerEnter",y="pointer"),w=x==null?h:pa(x),b=g==null?h:pa(g),h=new p(j,y+"leave",x,n,d),h.target=w,h.relatedTarget=b,j=null,ks(d)===u&&(p=new p(v,y+"enter",g,n,d),p.target=b,p.relatedTarget=w,j=p),w=j,x&&g)t:{for(p=x,v=g,y=0,b=p;b;b=ta(b))y++;for(b=0,j=v;j;j=ta(j))b++;for(;0<y-b;)p=ta(p),y--;for(;0<b-y;)v=ta(v),b--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=ta(p),v=ta(v)}p=null}else p=null;x!==null&&Dp(f,h,x,p,!1),g!==null&&w!==null&&Dp(f,w,g,p,!0)}}e:{if(h=u?pa(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var N=ES;else if(Cp(h))if(Yv)N=AS;else{N=PS;var C=TS}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=RS);if(N&&(N=N(e,u))){Gv(f,N,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ed(h,"number",h.value)}switch(C=u?pa(u):window,e){case"focusin":(Cp(C)||C.contentEditable==="true")&&(ha=C,Bd=u,$o=null);break;case"focusout":$o=Bd=ha=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Ap(f,n,d);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":Ap(f,n,d)}var k;if(wh)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fa?Vv(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Hv&&n.locale!=="ko"&&(fa||T!=="onCompositionStart"?T==="onCompositionEnd"&&fa&&(k=Wv()):(Hr=d,xh="value"in Hr?Hr.value:Hr.textContent,fa=!0)),C=Yl(u,T),0<C.length&&(T=new Np(T,e,null,n,d),f.push({event:T,listeners:C}),k?T.data=k:(k=qv(n),k!==null&&(T.data=k)))),(k=NS?_S(e,n):SS(e,n))&&(u=Yl(u,"onBeforeInput"),0<u.length&&(d=new Np("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}sy(f,t)})}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ko(e,n),o!=null&&r.unshift(ri(e,o,a)),o=Ko(e,t),o!=null&&r.push(ri(e,o,a))),e=e.return}return r}function ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dp(e,t,n,r,a){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Ko(n,o),c!=null&&i.unshift(ri(n,c,l))):a||(c=Ko(n,o),c!=null&&i.push(ri(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var FS=/\r\n?/g,BS=/\u0000|\uFFFD/g;function Ip(e){return(typeof e=="string"?e:""+e).replace(FS,`
`).replace(BS,"")}function tl(e,t,n){if(t=Ip(t),Ip(e)!==t&&n)throw Error(H(425))}function Ql(){}var Ud=null,Wd=null;function Hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(e){return Lp.resolve(null).then(e).catch(WS)}:Vd;function WS(e){setTimeout(function(){throw e})}function zu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Zo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Zo(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $p(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),zn="__reactFiber$"+no,si="__reactProps$"+no,fr="__reactContainer$"+no,qd="__reactEvents$"+no,HS="__reactListeners$"+no,VS="__reactHandles$"+no;function ks(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$p(e);e!==null;){if(n=e[zn])return n;e=$p(e)}return t}e=n,n=e.parentNode}return null}function Ci(e){return e=e[zn]||e[fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Pc(e){return e[si]||null}var Gd=[],ga=-1;function hs(e){return{current:e}}function qe(e){0>ga||(e.current=Gd[ga],Gd[ga]=null,ga--)}function Be(e,t){ga++,Gd[ga]=e.current,e.current=t}var as={},Ct=hs(as),Bt=hs(!1),Is=as;function Wa(e,t){var n=e.type.contextTypes;if(!n)return as;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zt(e){return e=e.childContextTypes,e!=null}function Kl(){qe(Bt),qe(Ct)}function Fp(e,t,n){if(Ct.current!==as)throw Error(H(168));Be(Ct,t),Be(Bt,n)}function oy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(H(108,T_(e)||"Unknown",a));return Xe({},n,r)}function Jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,Is=Ct.current,Be(Ct,e),Be(Bt,Bt.current),!0}function Bp(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=oy(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,qe(Bt),qe(Ct),Be(Ct,e)):qe(Bt),Be(Bt,n)}var rr=null,Rc=!1,Uu=!1;function iy(e){rr===null?rr=[e]:rr.push(e)}function qS(e){Rc=!0,iy(e)}function ms(){if(!Uu&&rr!==null){Uu=!0;var e=0,t=Ae;try{var n=rr;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rr=null,Rc=!1}catch(a){throw rr!==null&&(rr=rr.slice(e+1)),Av(hh,ms),a}finally{Ae=t,Uu=!1}}return null}var xa=[],va=0,Xl=null,Zl=0,tn=[],nn=0,Ls=null,sr=1,ar="";function bs(e,t){xa[va++]=Zl,xa[va++]=Xl,Xl=e,Zl=t}function ly(e,t,n){tn[nn++]=sr,tn[nn++]=ar,tn[nn++]=Ls,Ls=e;var r=sr;e=ar;var a=32-Nn(r)-1;r&=~(1<<a),n+=1;var o=32-Nn(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,sr=1<<32-Nn(t)+a|n<<a|r,ar=o+e}else sr=1<<o|n<<a|r,ar=e}function jh(e){e.return!==null&&(bs(e,1),ly(e,1,0))}function Nh(e){for(;e===Xl;)Xl=xa[--va],xa[va]=null,Zl=xa[--va],xa[va]=null;for(;e===Ls;)Ls=tn[--nn],tn[nn]=null,ar=tn[--nn],tn[nn]=null,sr=tn[--nn],tn[nn]=null}var Qt=null,Yt=null,Ye=!1,bn=null;function cy(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Yt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ls!==null?{id:sr,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,Yt=null,!0):!1;default:return!1}}function Yd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qd(e){if(Ye){var t=Yt;if(t){var n=t;if(!zp(e,t)){if(Yd(e))throw Error(H(418));t=Jr(n.nextSibling);var r=Qt;t&&zp(e,t)?cy(r,n):(e.flags=e.flags&-4097|2,Ye=!1,Qt=e)}}else{if(Yd(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ye=!1,Qt=e}}}function Up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function nl(e){if(e!==Qt)return!1;if(!Ye)return Up(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hd(e.type,e.memoizedProps)),t&&(t=Yt)){if(Yd(e))throw uy(),Error(H(418));for(;t;)cy(e,t),t=Jr(t.nextSibling)}if(Up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yt=Jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Qt?Jr(e.stateNode.nextSibling):null;return!0}function uy(){for(var e=Yt;e;)e=Jr(e.nextSibling)}function Ha(){Yt=Qt=null,Ye=!1}function _h(e){bn===null?bn=[e]:bn.push(e)}var GS=yr.ReactCurrentBatchConfig;function yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function rl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wp(e){var t=e._init;return t(e._payload)}function dy(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=ts(v,y),v.index=0,v.sibling=null,v}function o(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,j){return y===null||y.tag!==6?(y=Qu(b,v.mode,j),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,j){var N=b.type;return N===da?d(v,y,b.props.children,j,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ar&&Wp(N)===y.type)?(j=a(y,b.props),j.ref=yo(v,y,b),j.return=v,j):(j=Dl(b.type,b.key,b.props,null,v.mode,j),j.ref=yo(v,y,b),j.return=v,j)}function u(v,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Ku(b,v.mode,j),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function d(v,y,b,j,N){return y===null||y.tag!==7?(y=Os(b,v.mode,j,N),y.return=v,y):(y=a(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qu(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qi:return b=Dl(y.type,y.key,y.props,null,v.mode,b),b.ref=yo(v,null,y),b.return=v,b;case ua:return y=Ku(y,v.mode,b),y.return=v,y;case Ar:var j=y._init;return f(v,j(y._payload),b)}if(To(y)||mo(y))return y=Os(y,v.mode,b,null),y.return=v,y;rl(v,y)}return null}function h(v,y,b,j){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(v,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qi:return b.key===N?c(v,y,b,j):null;case ua:return b.key===N?u(v,y,b,j):null;case Ar:return N=b._init,h(v,y,N(b._payload),j)}if(To(b)||mo(b))return N!==null?null:d(v,y,b,j,null);rl(v,b)}return null}function x(v,y,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(y,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qi:return v=v.get(j.key===null?b:j.key)||null,c(y,v,j,N);case ua:return v=v.get(j.key===null?b:j.key)||null,u(y,v,j,N);case Ar:var C=j._init;return x(v,y,b,C(j._payload),N)}if(To(j)||mo(j))return v=v.get(b)||null,d(y,v,j,N,null);rl(y,j)}return null}function g(v,y,b,j){for(var N=null,C=null,k=y,T=y=0,$=null;k!==null&&T<b.length;T++){k.index>T?($=k,k=null):$=k.sibling;var M=h(v,k,b[T],j);if(M===null){k===null&&(k=$);break}e&&k&&M.alternate===null&&t(v,k),y=o(M,y,T),C===null?N=M:C.sibling=M,C=M,k=$}if(T===b.length)return n(v,k),Ye&&bs(v,T),N;if(k===null){for(;T<b.length;T++)k=f(v,b[T],j),k!==null&&(y=o(k,y,T),C===null?N=k:C.sibling=k,C=k);return Ye&&bs(v,T),N}for(k=r(v,k);T<b.length;T++)$=x(k,v,T,b[T],j),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?T:$.key),y=o($,y,T),C===null?N=$:C.sibling=$,C=$);return e&&k.forEach(function(I){return t(v,I)}),Ye&&bs(v,T),N}function p(v,y,b,j){var N=mo(b);if(typeof N!="function")throw Error(H(150));if(b=N.call(b),b==null)throw Error(H(151));for(var C=N=null,k=y,T=y=0,$=null,M=b.next();k!==null&&!M.done;T++,M=b.next()){k.index>T?($=k,k=null):$=k.sibling;var I=h(v,k,M.value,j);if(I===null){k===null&&(k=$);break}e&&k&&I.alternate===null&&t(v,k),y=o(I,y,T),C===null?N=I:C.sibling=I,C=I,k=$}if(M.done)return n(v,k),Ye&&bs(v,T),N;if(k===null){for(;!M.done;T++,M=b.next())M=f(v,M.value,j),M!==null&&(y=o(M,y,T),C===null?N=M:C.sibling=M,C=M);return Ye&&bs(v,T),N}for(k=r(v,k);!M.done;T++,M=b.next())M=x(k,v,T,M.value,j),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),y=o(M,y,T),C===null?N=M:C.sibling=M,C=M);return e&&k.forEach(function(R){return t(v,R)}),Ye&&bs(v,T),N}function w(v,y,b,j){if(typeof b=="object"&&b!==null&&b.type===da&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case qi:e:{for(var N=b.key,C=y;C!==null;){if(C.key===N){if(N=b.type,N===da){if(C.tag===7){n(v,C.sibling),y=a(C,b.props.children),y.return=v,v=y;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ar&&Wp(N)===C.type){n(v,C.sibling),y=a(C,b.props),y.ref=yo(v,C,b),y.return=v,v=y;break e}n(v,C);break}else t(v,C);C=C.sibling}b.type===da?(y=Os(b.props.children,v.mode,j,b.key),y.return=v,v=y):(j=Dl(b.type,b.key,b.props,null,v.mode,j),j.ref=yo(v,y,b),j.return=v,v=j)}return i(v);case ua:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Ku(b,v.mode,j),y.return=v,v=y}return i(v);case Ar:return C=b._init,w(v,y,C(b._payload),j)}if(To(b))return g(v,y,b,j);if(mo(b))return p(v,y,b,j);rl(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=a(y,b),y.return=v,v=y):(n(v,y),y=Qu(b,v.mode,j),y.return=v,v=y),i(v)):n(v,y)}return w}var Va=dy(!0),fy=dy(!1),ec=hs(null),tc=null,ya=null,Sh=null;function kh(){Sh=ya=tc=null}function Ch(e){var t=ec.current;qe(ec),e._currentValue=t}function Kd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){tc=e,Sh=ya=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Sh!==e)if(e={context:e,memoizedValue:t,next:null},ya===null){if(tc===null)throw Error(H(308));ya=e,tc.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Cs=null;function Eh(e){Cs===null?Cs=[e]:Cs.push(e)}function hy(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Eh(t)):(n.next=a.next,a.next=n),t.interleaved=n,hr(e,r)}function hr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mr=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function my(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,hr(e,n)}return a=r.interleaved,a===null?(t.next=t,Eh(r)):(t.next=a.next,a.next=t),r.interleaved=t,hr(e,n)}function Tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mh(e,n)}}function Hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nc(e,t,n,r){var a=e.updateQueue;Mr=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,x=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(x,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(x,f,h):g,h==null)break e;f=Xe({},f,h);break e;case 2:Mr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Fs|=i,e.lanes=i,e.memoizedState=f}}function Vp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(H(191,a));a.call(r)}}}var Ei={},Hn=hs(Ei),ai=hs(Ei),oi=hs(Ei);function Es(e){if(e===Ei)throw Error(H(174));return e}function Ph(e,t){switch(Be(oi,t),Be(ai,e),Be(Hn,Ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pd(t,e)}qe(Hn),Be(Hn,t)}function qa(){qe(Hn),qe(ai),qe(oi)}function py(e){Es(oi.current);var t=Es(Hn.current),n=Pd(t,e.type);t!==n&&(Be(ai,e),Be(Hn,n))}function Rh(e){ai.current===e&&(qe(Hn),qe(ai))}var Qe=hs(0);function rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wu=[];function Ah(){for(var e=0;e<Wu.length;e++)Wu[e]._workInProgressVersionPrimary=null;Wu.length=0}var Pl=yr.ReactCurrentDispatcher,Hu=yr.ReactCurrentBatchConfig,$s=0,Je=null,lt=null,mt=null,sc=!1,Fo=!1,ii=0,YS=0;function jt(){throw Error(H(321))}function Mh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function Oh(e,t,n,r,a,o){if($s=o,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pl.current=e===null||e.memoizedState===null?XS:ZS,e=n(r,a),Fo){o=0;do{if(Fo=!1,ii=0,25<=o)throw Error(H(301));o+=1,mt=lt=null,t.updateQueue=null,Pl.current=ek,e=n(r,a)}while(Fo)}if(Pl.current=ac,t=lt!==null&&lt.next!==null,$s=0,mt=lt=Je=null,sc=!1,t)throw Error(H(300));return e}function Dh(){var e=ii!==0;return ii=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=e:mt=mt.next=e,mt}function un(){if(lt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=mt===null?Je.memoizedState:mt.next;if(t!==null)mt=t,lt=e;else{if(e===null)throw Error(H(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?Je.memoizedState=mt=e:mt=mt.next=e}return mt}function li(e,t){return typeof t=="function"?t(e):t}function Vu(e){var t=un(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=lt,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if(($s&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Je.lanes|=d,Fs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Sn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,Je.lanes|=o,Fs|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qu(e){var t=un(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Sn(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function gy(){}function xy(e,t){var n=Je,r=un(),a=t(),o=!Sn(r.memoizedState,a);if(o&&(r.memoizedState=a,Ft=!0),r=r.queue,Ih(wy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,ci(9,yy.bind(null,n,r,a,t),void 0,null),pt===null)throw Error(H(349));$s&30||vy(n,t,a)}return a}function vy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yy(e,t,n,r){t.value=n,t.getSnapshot=r,by(t)&&jy(e)}function wy(e,t,n){return n(function(){by(t)&&jy(e)})}function by(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function jy(e){var t=hr(e,1);t!==null&&_n(t,e,1,-1)}function qp(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t.queue=e,e=e.dispatch=JS.bind(null,Je,e),[t.memoizedState,e]}function ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ny(){return un().memoizedState}function Rl(e,t,n,r){var a=Ln();Je.flags|=e,a.memoizedState=ci(1|t,n,void 0,r===void 0?null:r)}function Ac(e,t,n,r){var a=un();r=r===void 0?null:r;var o=void 0;if(lt!==null){var i=lt.memoizedState;if(o=i.destroy,r!==null&&Mh(r,i.deps)){a.memoizedState=ci(t,n,o,r);return}}Je.flags|=e,a.memoizedState=ci(1|t,n,o,r)}function Gp(e,t){return Rl(8390656,8,e,t)}function Ih(e,t){return Ac(2048,8,e,t)}function _y(e,t){return Ac(4,2,e,t)}function Sy(e,t){return Ac(4,4,e,t)}function ky(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cy(e,t,n){return n=n!=null?n.concat([e]):null,Ac(4,4,ky.bind(null,t,e),n)}function Lh(){}function Ey(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ty(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Py(e,t,n){return $s&21?(Sn(n,t)||(n=Dv(),Je.lanes|=n,Fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function QS(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=Hu.transition;Hu.transition={};try{e(!1),t()}finally{Ae=n,Hu.transition=r}}function Ry(){return un().memoizedState}function KS(e,t,n){var r=es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ay(e))My(t,n);else if(n=hy(e,t,n,r),n!==null){var a=Mt();_n(n,e,r,a),Oy(n,t,r)}}function JS(e,t,n){var r=es(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ay(e))My(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,Sn(l,i)){var c=t.interleaved;c===null?(a.next=a,Eh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=hy(e,t,a,r),n!==null&&(a=Mt(),_n(n,e,r,a),Oy(n,t,r))}}function Ay(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function My(e,t){Fo=sc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mh(e,n)}}var ac={readContext:cn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},XS={readContext:cn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Gp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4194308,4,ky.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rl(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KS.bind(null,Je,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:qp,useDebugValue:Lh,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=qp(!1),t=e[0];return e=QS.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Je,a=Ln();if(Ye){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),pt===null)throw Error(H(349));$s&30||vy(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Gp(wy.bind(null,r,o,e),[e]),r.flags|=2048,ci(9,yy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ln(),t=pt.identifierPrefix;if(Ye){var n=ar,r=sr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZS={readContext:cn,useCallback:Ey,useContext:cn,useEffect:Ih,useImperativeHandle:Cy,useInsertionEffect:_y,useLayoutEffect:Sy,useMemo:Ty,useReducer:Vu,useRef:Ny,useState:function(){return Vu(li)},useDebugValue:Lh,useDeferredValue:function(e){var t=un();return Py(t,lt.memoizedState,e)},useTransition:function(){var e=Vu(li)[0],t=un().memoizedState;return[e,t]},useMutableSource:gy,useSyncExternalStore:xy,useId:Ry,unstable_isNewReconciler:!1},ek={readContext:cn,useCallback:Ey,useContext:cn,useEffect:Ih,useImperativeHandle:Cy,useInsertionEffect:_y,useLayoutEffect:Sy,useMemo:Ty,useReducer:qu,useRef:Ny,useState:function(){return qu(li)},useDebugValue:Lh,useDeferredValue:function(e){var t=un();return lt===null?t.memoizedState=e:Py(t,lt.memoizedState,e)},useTransition:function(){var e=qu(li)[0],t=un().memoizedState;return[e,t]},useMutableSource:gy,useSyncExternalStore:xy,useId:Ry,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mc={isMounted:function(e){return(e=e._reactInternals)?Ys(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),a=es(e),o=lr(r,a);o.payload=t,n!=null&&(o.callback=n),t=Xr(e,o,a),t!==null&&(_n(t,e,a,r),Tl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),a=es(e),o=lr(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Xr(e,o,a),t!==null&&(_n(t,e,a,r),Tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=es(e),a=lr(n,r);a.tag=2,t!=null&&(a.callback=t),t=Xr(e,a,r),t!==null&&(_n(t,e,r,n),Tl(t,e,r))}};function Yp(e,t,n,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ti(n,r)||!ti(a,o):!0}function Dy(e,t,n){var r=!1,a=as,o=t.contextType;return typeof o=="object"&&o!==null?o=cn(o):(a=zt(t)?Is:Ct.current,r=t.contextTypes,o=(r=r!=null)?Wa(e,a):as),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mc.enqueueReplaceState(t,t.state,null)}function Xd(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Th(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=cn(o):(o=zt(t)?Is:Ct.current,a.context=Wa(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Jd(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Mc.enqueueReplaceState(a,a.state,null),nc(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ga(e,t){try{var n="",r=t;do n+=E_(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Gu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function Iy(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ic||(ic=!0,uf=r),Zd(e,t)},n}function Ly(e,t,n){n=lr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Zd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zd(e,t),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Kp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tk;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=pk.bind(null,e,t,n),t.then(e,e))}function Jp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xp(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,Xr(n,t,1))),n.lanes|=1),e)}var nk=yr.ReactCurrentOwner,Ft=!1;function Pt(e,t,n,r){t.child=e===null?fy(t,null,n,r):Va(t,e.child,n,r)}function Zp(e,t,n,r,a){n=n.render;var o=t.ref;return ka(t,a),r=Oh(e,t,n,r,o,a),n=Dh(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mr(e,t,a)):(Ye&&n&&jh(t),t.flags|=1,Pt(e,t,r,a),t.child)}function eg(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!Vh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,$y(e,t,o,r,a)):(e=Dl(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ti,n(i,r)&&e.ref===t.ref)return mr(e,t,a)}return t.flags|=1,e=ts(o,r),e.ref=t.ref,e.return=t,t.child=e}function $y(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(ti(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,mr(e,t,a)}return ef(e,t,n,r,a)}function Fy(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ba,qt),qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(ba,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Be(ba,qt),qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Be(ba,qt),qt|=r;return Pt(e,t,a,n),t.child}function By(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ef(e,t,n,r,a){var o=zt(n)?Is:Ct.current;return o=Wa(t,o),ka(t,a),n=Oh(e,t,n,r,o,a),r=Dh(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mr(e,t,a)):(Ye&&r&&jh(t),t.flags|=1,Pt(e,t,n,a),t.child)}function tg(e,t,n,r,a){if(zt(n)){var o=!0;Jl(t)}else o=!1;if(ka(t,a),t.stateNode===null)Al(e,t),Dy(t,n,r),Xd(t,n,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=zt(n)?Is:Ct.current,u=Wa(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Qp(t,i,r,u),Mr=!1;var h=t.memoizedState;i.state=h,nc(t,r,i,a),c=t.memoizedState,l!==r||h!==c||Bt.current||Mr?(typeof d=="function"&&(Jd(t,n,d,r),c=t.memoizedState),(l=Mr||Yp(t,n,l,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,my(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=zt(n)?Is:Ct.current,c=Wa(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Qp(t,i,r,c),Mr=!1,h=t.memoizedState,i.state=h,nc(t,r,i,a);var g=t.memoizedState;l!==f||h!==g||Bt.current||Mr?(typeof x=="function"&&(Jd(t,n,x,r),g=t.memoizedState),(u=Mr||Yp(t,n,u,r,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return tf(e,t,n,r,o,a)}function tf(e,t,n,r,a,o){By(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&Bp(t,n,!1),mr(e,t,o);r=t.stateNode,nk.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Va(t,e.child,null,o),t.child=Va(t,null,l,o)):Pt(e,t,l,o),t.memoizedState=r.state,a&&Bp(t,n,!0),t.child}function zy(e){var t=e.stateNode;t.pendingContext?Fp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fp(e,t.context,!1),Ph(e,t.containerInfo)}function ng(e,t,n,r,a){return Ha(),_h(a),t.flags|=256,Pt(e,t,n,r),t.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uy(e,t,n){var r=t.pendingProps,a=Qe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Be(Qe,a&1),e===null)return Qd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ic(i,r,0,null),e=Os(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rf(n),t.memoizedState=nf,e):$h(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return rk(e,t,i,r,l,a,n);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ts(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=ts(l,o):(o=Os(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?rf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=nf,r}return o=e.child,e=o.sibling,r=ts(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $h(e,t){return t=Ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sl(e,t,n,r){return r!==null&&_h(r),Va(t,e.child,null,n),e=$h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rk(e,t,n,r,a,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Gu(Error(H(422))),sl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Ic({mode:"visible",children:r.children},a,0,null),o=Os(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Va(t,e.child,null,i),t.child.memoizedState=rf(i),t.memoizedState=nf,o);if(!(t.mode&1))return sl(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(H(419)),r=Gu(o,r,void 0),sl(e,t,i,r)}if(l=(i&e.childLanes)!==0,Ft||l){if(r=pt,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,hr(e,a),_n(r,e,a,-1))}return Hh(),r=Gu(Error(H(421))),sl(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=gk.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Yt=Jr(a.nextSibling),Qt=t,Ye=!0,bn=null,e!==null&&(tn[nn++]=sr,tn[nn++]=ar,tn[nn++]=Ls,sr=e.id,ar=e.overflow,Ls=t),t=$h(t,r.children),t.flags|=4096,t)}function rg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kd(e.return,t,n)}function Yu(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Wy(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rg(e,n,t);else if(e.tag===19)rg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&rc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yu(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yu(t,!0,n,null,o);break;case"together":Yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Al(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sk(e,t,n){switch(t.tag){case 3:zy(t),Ha();break;case 5:py(t);break;case 1:zt(t.type)&&Jl(t);break;case 4:Ph(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Be(ec,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?Uy(e,t,n):(Be(Qe,Qe.current&1),e=mr(e,t,n),e!==null?e.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wy(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Be(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,Fy(e,t,n)}return mr(e,t,n)}var Hy,sf,Vy,qy;Hy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sf=function(){};Vy=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Es(Hn.current);var o=null;switch(n){case"input":a=kd(e,a),r=kd(e,r),o=[];break;case"select":a=Xe({},a,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":a=Td(e,a),r=Td(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ql)}Rd(n,r);var i;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};qy=function(e,t,n,r){n!==r&&(t.flags|=4)};function wo(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ak(e,t,n){var r=t.pendingProps;switch(Nh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return zt(t.type)&&Kl(),Nt(t),null;case 3:return r=t.stateNode,qa(),qe(Bt),qe(Ct),Ah(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(hf(bn),bn=null))),sf(e,t),Nt(t),null;case 5:Rh(t);var a=Es(oi.current);if(n=t.type,e!==null&&t.stateNode!=null)Vy(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Nt(t),null}if(e=Es(Hn.current),nl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zn]=t,r[si]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<Ro.length;a++)He(Ro[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":fp(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":mp(r,o),He("invalid",r)}Rd(n,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&tl(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&tl(r.textContent,l,e),a=["children",""+l]):Yo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&He("scroll",r)}switch(n){case"input":Gi(r),hp(r,o,!0);break;case"textarea":Gi(r),pp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ql)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[zn]=t,e[si]=r,Hy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ad(n,r),n){case"dialog":He("cancel",e),He("close",e),a=r;break;case"iframe":case"object":case"embed":He("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ro.length;a++)He(Ro[a],e);a=r;break;case"source":He("error",e),a=r;break;case"img":case"image":case"link":He("error",e),He("load",e),a=r;break;case"details":He("toggle",e),a=r;break;case"input":fp(e,r),a=kd(e,r),He("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Xe({},r,{value:void 0}),He("invalid",e);break;case"textarea":mp(e,r),a=Td(e,r),He("invalid",e);break;default:a=r}Rd(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Nv(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bv(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qo(e,c):typeof c=="number"&&Qo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&He("scroll",e):c!=null&&lh(e,o,c,i))}switch(n){case"input":Gi(e),hp(e,r,!1);break;case"textarea":Gi(e),pp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ss(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ja(e,!!r.multiple,o,!1):r.defaultValue!=null&&ja(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)qy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Es(oi.current),Es(Hn.current),nl(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(o=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:tl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return Nt(t),null;case 13:if(qe(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&Yt!==null&&t.mode&1&&!(t.flags&128))uy(),Ha(),t.flags|=98560,o=!1;else if(o=nl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[zn]=t}else Ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),o=!1}else bn!==null&&(hf(bn),bn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?ct===0&&(ct=3):Hh())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return qa(),sf(e,t),e===null&&ni(t.stateNode.containerInfo),Nt(t),null;case 10:return Ch(t.type._context),Nt(t),null;case 17:return zt(t.type)&&Kl(),Nt(t),null;case 19:if(qe(Qe),o=t.memoizedState,o===null)return Nt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)wo(o,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rc(e),i!==null){for(t.flags|=128,wo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&at()>Ya&&(t.flags|=128,r=!0,wo(o,!1),t.lanes=4194304)}else{if(!r)if(e=rc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ye)return Nt(t),null}else 2*at()-o.renderingStartTime>Ya&&n!==1073741824&&(t.flags|=128,r=!0,wo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,n=Qe.current,Be(Qe,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return Wh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qt&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function ok(e,t){switch(Nh(t),t.tag){case 1:return zt(t.type)&&Kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(),qe(Bt),qe(Ct),Ah(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rh(t),null;case 13:if(qe(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Qe),null;case 4:return qa(),null;case 10:return Ch(t.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var al=!1,St=!1,ik=typeof WeakSet=="function"?WeakSet:Set,Z=null;function wa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function af(e,t,n){try{n()}catch(r){et(e,t,r)}}var sg=!1;function lk(e,t){if(Ud=ql,e=Jv(),bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var x;f!==n||a!==0&&f.nodeType!==3||(l=i+a),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=i),h===o&&++d===r&&(c=i),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wd={focusedElem:e,selectionRange:n},ql=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:pn(t.type,p),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(j){et(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=sg,sg=!1,g}function Bo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&af(t,n,o)}a=a.next}while(a!==r)}}function Oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function of(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gy(e){var t=e.alternate;t!==null&&(e.alternate=null,Gy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[si],delete t[qd],delete t[HS],delete t[VS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yy(e){return e.tag===5||e.tag===3||e.tag===4}function ag(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ql));else if(r!==4&&(e=e.child,e!==null))for(lf(e,t,n),e=e.sibling;e!==null;)lf(e,t,n),e=e.sibling}function cf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cf(e,t,n),e=e.sibling;e!==null;)cf(e,t,n),e=e.sibling}var vt=null,vn=!1;function _r(e,t,n){for(n=n.child;n!==null;)Qy(e,t,n),n=n.sibling}function Qy(e,t,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(kc,n)}catch{}switch(n.tag){case 5:St||wa(n,t);case 6:var r=vt,a=vn;vt=null,_r(e,t,n),vt=r,vn=a,vt!==null&&(vn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(vn?(e=vt,n=n.stateNode,e.nodeType===8?zu(e.parentNode,n):e.nodeType===1&&zu(e,n),Zo(e)):zu(vt,n.stateNode));break;case 4:r=vt,a=vn,vt=n.stateNode.containerInfo,vn=!0,_r(e,t,n),vt=r,vn=a;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&af(n,t,i),a=a.next}while(a!==r)}_r(e,t,n);break;case 1:if(!St&&(wa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,t,l)}_r(e,t,n);break;case 21:_r(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,_r(e,t,n),St=r):_r(e,t,n);break;default:_r(e,t,n)}}function og(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ik),t.forEach(function(r){var a=xk.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,vn=!1;break e;case 3:vt=l.stateNode.containerInfo,vn=!0;break e;case 4:vt=l.stateNode.containerInfo,vn=!0;break e}l=l.return}if(vt===null)throw Error(H(160));Qy(o,i,a),vt=null,vn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){et(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ky(t,e),t=t.sibling}function Ky(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),Dn(e),r&4){try{Bo(3,e,e.return),Oc(3,e)}catch(p){et(e,e.return,p)}try{Bo(5,e,e.return)}catch(p){et(e,e.return,p)}}break;case 1:hn(t,e),Dn(e),r&512&&n!==null&&wa(n,n.return);break;case 5:if(hn(t,e),Dn(e),r&512&&n!==null&&wa(n,n.return),e.flags&32){var a=e.stateNode;try{Qo(a,"")}catch(p){et(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&vv(a,o),Ad(l,i);var u=Ad(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Nv(a,f):d==="dangerouslySetInnerHTML"?bv(a,f):d==="children"?Qo(a,f):lh(a,d,f,u)}switch(l){case"input":Cd(a,o);break;case"textarea":yv(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?ja(a,!!o.multiple,x,!1):h!==!!o.multiple&&(o.defaultValue!=null?ja(a,!!o.multiple,o.defaultValue,!0):ja(a,!!o.multiple,o.multiple?[]:"",!1))}a[si]=o}catch(p){et(e,e.return,p)}}break;case 6:if(hn(t,e),Dn(e),r&4){if(e.stateNode===null)throw Error(H(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(p){et(e,e.return,p)}}break;case 3:if(hn(t,e),Dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(t.containerInfo)}catch(p){et(e,e.return,p)}break;case 4:hn(t,e),Dn(e);break;case 13:hn(t,e),Dn(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(zh=at())),r&4&&og(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||d,hn(t,e),St=u):hn(t,e),Dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,x=h.child,h.tag){case 0:case 11:case 14:case 15:Bo(4,h,h.return);break;case 1:wa(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){et(r,n,p)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){lg(f);continue}}x!==null?(x.return=h,Z=x):lg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jv("display",i))}catch(p){et(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){et(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(t,e),Dn(e),r&4&&og(e);break;case 21:break;default:hn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yy(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Qo(a,""),r.flags&=-33);var o=ag(e);cf(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=ag(e);lf(e,l,i);break;default:throw Error(H(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ck(e,t,n){Z=e,Jy(e)}function Jy(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var a=Z,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||al;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||St;l=al;var u=St;if(al=i,(St=c)&&!u)for(Z=a;Z!==null;)i=Z,c=i.child,i.tag===22&&i.memoizedState!==null?cg(a):c!==null?(c.return=i,Z=c):cg(a);for(;o!==null;)Z=o,Jy(o),o=o.sibling;Z=a,al=l,St=u}ig(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Z=o):ig(e)}}function ig(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||Oc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Vp(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vp(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}St||t.flags&512&&of(t)}catch(h){et(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function lg(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function cg(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oc(4,t)}catch(c){et(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){et(t,a,c)}}var o=t.return;try{of(t)}catch(c){et(t,o,c)}break;case 5:var i=t.return;try{of(t)}catch(c){et(t,i,c)}}}catch(c){et(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var uk=Math.ceil,oc=yr.ReactCurrentDispatcher,Fh=yr.ReactCurrentOwner,on=yr.ReactCurrentBatchConfig,Ce=0,pt=null,it=null,yt=0,qt=0,ba=hs(0),ct=0,ui=null,Fs=0,Dc=0,Bh=0,zo=null,Lt=null,zh=0,Ya=1/0,tr=null,ic=!1,uf=null,Zr=null,ol=!1,Vr=null,lc=0,Uo=0,df=null,Ml=-1,Ol=0;function Mt(){return Ce&6?at():Ml!==-1?Ml:Ml=at()}function es(e){return e.mode&1?Ce&2&&yt!==0?yt&-yt:GS.transition!==null?(Ol===0&&(Ol=Dv()),Ol):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Uv(e.type)),e):1}function _n(e,t,n,r){if(50<Uo)throw Uo=0,df=null,Error(H(185));Si(e,n,r),(!(Ce&2)||e!==pt)&&(e===pt&&(!(Ce&2)&&(Dc|=n),ct===4&&Ir(e,yt)),Ut(e,r),n===1&&Ce===0&&!(t.mode&1)&&(Ya=at()+500,Rc&&ms()))}function Ut(e,t){var n=e.callbackNode;G_(e,t);var r=Vl(e,e===pt?yt:0);if(r===0)n!==null&&vp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vp(n),t===1)e.tag===0?qS(ug.bind(null,e)):iy(ug.bind(null,e)),US(function(){!(Ce&6)&&ms()}),n=null;else{switch(Iv(r)){case 1:n=hh;break;case 4:n=Mv;break;case 16:n=Hl;break;case 536870912:n=Ov;break;default:n=Hl}n=a0(n,Xy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xy(e,t){if(Ml=-1,Ol=0,Ce&6)throw Error(H(327));var n=e.callbackNode;if(Ca()&&e.callbackNode!==n)return null;var r=Vl(e,e===pt?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cc(e,r);else{t=r;var a=Ce;Ce|=2;var o=e0();(pt!==e||yt!==t)&&(tr=null,Ya=at()+500,Ms(e,t));do try{hk();break}catch(l){Zy(e,l)}while(!0);kh(),oc.current=o,Ce=a,it!==null?t=0:(pt=null,yt=0,t=ct)}if(t!==0){if(t===2&&(a=Ld(e),a!==0&&(r=a,t=ff(e,a))),t===1)throw n=ui,Ms(e,0),Ir(e,r),Ut(e,at()),n;if(t===6)Ir(e,r);else{if(a=e.current.alternate,!(r&30)&&!dk(a)&&(t=cc(e,r),t===2&&(o=Ld(e),o!==0&&(r=o,t=ff(e,o))),t===1))throw n=ui,Ms(e,0),Ir(e,r),Ut(e,at()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:js(e,Lt,tr);break;case 3:if(Ir(e,r),(r&130023424)===r&&(t=zh+500-at(),10<t)){if(Vl(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vd(js.bind(null,e,Lt,tr),t);break}js(e,Lt,tr);break;case 4:if(Ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Nn(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uk(r/1960))-r,10<r){e.timeoutHandle=Vd(js.bind(null,e,Lt,tr),r);break}js(e,Lt,tr);break;case 5:js(e,Lt,tr);break;default:throw Error(H(329))}}}return Ut(e,at()),e.callbackNode===n?Xy.bind(null,e):null}function ff(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(Ms(e,t).flags|=256),e=cc(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&hf(t)),e}function hf(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function dk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Sn(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~Bh,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function ug(e){if(Ce&6)throw Error(H(327));Ca();var t=Vl(e,0);if(!(t&1))return Ut(e,at()),null;var n=cc(e,t);if(e.tag!==0&&n===2){var r=Ld(e);r!==0&&(t=r,n=ff(e,r))}if(n===1)throw n=ui,Ms(e,0),Ir(e,t),Ut(e,at()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,Lt,tr),Ut(e,at()),null}function Uh(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Ya=at()+500,Rc&&ms())}}function Bs(e){Vr!==null&&Vr.tag===0&&!(Ce&6)&&Ca();var t=Ce;Ce|=1;var n=on.transition,r=Ae;try{if(on.transition=null,Ae=1,e)return e()}finally{Ae=r,on.transition=n,Ce=t,!(Ce&6)&&ms()}}function Wh(){qt=ba.current,qe(ba)}function Ms(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zS(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Nh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:qa(),qe(Bt),qe(Ct),Ah();break;case 5:Rh(r);break;case 4:qa();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Ch(r.type._context);break;case 22:case 23:Wh()}n=n.return}if(pt=e,it=e=ts(e.current,null),yt=qt=t,ct=0,ui=null,Bh=Dc=Fs=0,Lt=zo=null,Cs!==null){for(t=0;t<Cs.length;t++)if(n=Cs[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}n.pending=r}Cs=null}return e}function Zy(e,t){do{var n=it;try{if(kh(),Pl.current=ac,sc){for(var r=Je.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}sc=!1}if($s=0,mt=lt=Je=null,Fo=!1,ii=0,Fh.current=null,n===null||n.return===null){ct=1,ui=t,it=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Jp(i);if(x!==null){x.flags&=-257,Xp(x,i,l,o,t),x.mode&1&&Kp(o,u,t),t=x,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){Kp(o,u,t),Hh();break e}c=Error(H(426))}}else if(Ye&&l.mode&1){var w=Jp(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xp(w,i,l,o,t),_h(Ga(c,l));break e}}o=c=Ga(c,l),ct!==4&&(ct=2),zo===null?zo=[o]:zo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Iy(o,c,t);Hp(o,v);break e;case 1:l=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zr===null||!Zr.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Ly(o,l,t);Hp(o,j);break e}}o=o.return}while(o!==null)}n0(n)}catch(N){t=N,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function e0(){var e=oc.current;return oc.current=ac,e===null?ac:e}function Hh(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||!(Fs&268435455)&&!(Dc&268435455)||Ir(pt,yt)}function cc(e,t){var n=Ce;Ce|=2;var r=e0();(pt!==e||yt!==t)&&(tr=null,Ms(e,t));do try{fk();break}catch(a){Zy(e,a)}while(!0);if(kh(),Ce=n,oc.current=r,it!==null)throw Error(H(261));return pt=null,yt=0,ct}function fk(){for(;it!==null;)t0(it)}function hk(){for(;it!==null&&!$_();)t0(it)}function t0(e){var t=s0(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?n0(e):it=t,Fh.current=null}function n0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ok(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,it=null;return}}else if(n=ak(n,t,qt),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ct===0&&(ct=5)}function js(e,t,n){var r=Ae,a=on.transition;try{on.transition=null,Ae=1,mk(e,t,n,r)}finally{on.transition=a,Ae=r}return null}function mk(e,t,n,r){do Ca();while(Vr!==null);if(Ce&6)throw Error(H(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Y_(e,o),e===pt&&(it=pt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,a0(Hl,function(){return Ca(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=on.transition,on.transition=null;var i=Ae;Ae=1;var l=Ce;Ce|=4,Fh.current=null,lk(e,n),Ky(n,e),OS(Wd),ql=!!Ud,Wd=Ud=null,e.current=n,ck(n),F_(),Ce=l,Ae=i,on.transition=o}else e.current=n;if(ol&&(ol=!1,Vr=e,lc=a),o=e.pendingLanes,o===0&&(Zr=null),U_(n.stateNode),Ut(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ic)throw ic=!1,e=uf,uf=null,e;return lc&1&&e.tag!==0&&Ca(),o=e.pendingLanes,o&1?e===df?Uo++:(Uo=0,df=e):Uo=0,ms(),null}function Ca(){if(Vr!==null){var e=Iv(lc),t=on.transition,n=Ae;try{if(on.transition=null,Ae=16>e?16:e,Vr===null)var r=!1;else{if(e=Vr,Vr=null,lc=0,Ce&6)throw Error(H(331));var a=Ce;for(Ce|=4,Z=e.current;Z!==null;){var o=Z,i=o.child;if(Z.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Bo(8,d,o)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,x=d.return;if(Gy(d),d===u){Z=null;break}if(h!==null){h.return=x,Z=h;break}Z=x}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Z=i;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bo(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Z=v;break e}Z=o.return}}var y=e.current;for(Z=y;Z!==null;){i=Z;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Z=b;else e:for(i=y;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oc(9,l)}}catch(N){et(l,l.return,N)}if(l===i){Z=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Z=j;break e}Z=l.return}}if(Ce=a,ms(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(kc,e)}catch{}r=!0}return r}finally{Ae=n,on.transition=t}}return!1}function dg(e,t,n){t=Ga(n,t),t=Iy(e,t,1),e=Xr(e,t,1),t=Mt(),e!==null&&(Si(e,1,t),Ut(e,t))}function et(e,t,n){if(e.tag===3)dg(e,e,n);else for(;t!==null;){if(t.tag===3){dg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){e=Ga(n,e),e=Ly(t,e,1),t=Xr(t,e,1),e=Mt(),t!==null&&(Si(t,1,e),Ut(t,e));break}}t=t.return}}function pk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(yt&n)===n&&(ct===4||ct===3&&(yt&130023424)===yt&&500>at()-zh?Ms(e,0):Bh|=n),Ut(e,t)}function r0(e,t){t===0&&(e.mode&1?(t=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):t=1);var n=Mt();e=hr(e,t),e!==null&&(Si(e,t,n),Ut(e,n))}function gk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),r0(e,n)}function xk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),r0(e,n)}var s0;s0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,sk(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,Ye&&t.flags&1048576&&ly(t,Zl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Al(e,t),e=t.pendingProps;var a=Wa(t,Ct.current);ka(t,n),a=Oh(null,t,r,e,a,n);var o=Dh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(o=!0,Jl(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Th(t),a.updater=Mc,t.stateNode=a,a._reactInternals=t,Xd(t,r,e,n),t=tf(null,t,r,!0,o,n)):(t.tag=0,Ye&&o&&jh(t),Pt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Al(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=yk(r),e=pn(r,e),a){case 0:t=ef(null,t,r,e,n);break e;case 1:t=tg(null,t,r,e,n);break e;case 11:t=Zp(null,t,r,e,n);break e;case 14:t=eg(null,t,r,pn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),ef(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),tg(e,t,r,a,n);case 3:e:{if(zy(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,a=o.element,my(e,t),nc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Ga(Error(H(423)),t),t=ng(e,t,r,n,a);break e}else if(r!==a){a=Ga(Error(H(424)),t),t=ng(e,t,r,n,a);break e}else for(Yt=Jr(t.stateNode.containerInfo.firstChild),Qt=t,Ye=!0,bn=null,n=fy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ha(),r===a){t=mr(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return py(t),e===null&&Qd(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Hd(r,a)?i=null:o!==null&&Hd(r,o)&&(t.flags|=32),By(e,t),Pt(e,t,i,n),t.child;case 6:return e===null&&Qd(t),null;case 13:return Uy(e,t,n);case 4:return Ph(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Va(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),Zp(e,t,r,a,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Be(ec,r._currentValue),r._currentValue=i,o!==null)if(Sn(o.value,i)){if(o.children===a.children&&!Bt.current){t=mr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=lr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Kd(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(H(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Kd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Pt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ka(t,n),a=cn(a),r=r(a),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,a=pn(r,t.pendingProps),a=pn(r.type,a),eg(e,t,r,a,n);case 15:return $y(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),Al(e,t),t.tag=1,zt(r)?(e=!0,Jl(t)):e=!1,ka(t,n),Dy(t,r,a),Xd(t,r,a,n),tf(null,t,r,!0,e,n);case 19:return Wy(e,t,n);case 22:return Fy(e,t,n)}throw Error(H(156,t.tag))};function a0(e,t){return Av(e,t)}function vk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,r){return new vk(e,t,n,r)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yk(e){if(typeof e=="function")return Vh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uh)return 11;if(e===dh)return 14}return 2}function ts(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,a,o){var i=2;if(r=e,typeof e=="function")Vh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case da:return Os(n.children,a,o,t);case ch:i=8,a|=8;break;case jd:return e=sn(12,n,t,a|2),e.elementType=jd,e.lanes=o,e;case Nd:return e=sn(13,n,t,a),e.elementType=Nd,e.lanes=o,e;case _d:return e=sn(19,n,t,a),e.elementType=_d,e.lanes=o,e;case pv:return Ic(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hv:i=10;break e;case mv:i=9;break e;case uh:i=11;break e;case dh:i=14;break e;case Ar:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=sn(i,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Os(e,t,n,r){return e=sn(7,e,r,t),e.lanes=n,e}function Ic(e,t,n,r){return e=sn(22,e,r,t),e.elementType=pv,e.lanes=n,e.stateNode={isHidden:!1},e}function Qu(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function Ku(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wk(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qh(e,t,n,r,a,o,i,l,c){return e=new wk(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=sn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(o),e}function bk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function o0(e){if(!e)return as;e=e._reactInternals;e:{if(Ys(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(zt(n))return oy(e,n,t)}return t}function i0(e,t,n,r,a,o,i,l,c){return e=qh(n,r,!0,e,a,o,i,l,c),e.context=o0(null),n=e.current,r=Mt(),a=es(n),o=lr(r,a),o.callback=t??null,Xr(n,o,a),e.current.lanes=a,Si(e,a,r),Ut(e,r),e}function Lc(e,t,n,r){var a=t.current,o=Mt(),i=es(a);return n=o0(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xr(a,t,i),e!==null&&(_n(e,a,i,o),Tl(e,a,i)),i}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gh(e,t){fg(e,t),(e=e.alternate)&&fg(e,t)}function jk(){return null}var l0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yh(e){this._internalRoot=e}$c.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Lc(e,t,null,null)};$c.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bs(function(){Lc(null,e,null,null)}),t[fr]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dr.length&&t!==0&&t<Dr[n].priority;n++);Dr.splice(n,0,e),n===0&&zv(e)}};function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hg(){}function Nk(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var u=uc(i);o.call(u)}}var i=i0(t,r,e,0,null,!1,!1,"",hg);return e._reactRootContainer=i,e[fr]=i.current,ni(e.nodeType===8?e.parentNode:e),Bs(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=uc(c);l.call(u)}}var c=qh(e,0,!1,null,null,!1,!1,"",hg);return e._reactRootContainer=c,e[fr]=c.current,ni(e.nodeType===8?e.parentNode:e),Bs(function(){Lc(t,c,n,r)}),c}function Bc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=uc(i);l.call(c)}}Lc(t,i,e,a)}else i=Nk(n,t,e,a,r);return uc(i)}Lv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Po(t.pendingLanes);n!==0&&(mh(t,n|1),Ut(t,at()),!(Ce&6)&&(Ya=at()+500,ms()))}break;case 13:Bs(function(){var r=hr(e,1);if(r!==null){var a=Mt();_n(r,e,1,a)}}),Gh(e,1)}};ph=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var n=Mt();_n(t,e,134217728,n)}Gh(e,134217728)}};$v=function(e){if(e.tag===13){var t=es(e),n=hr(e,t);if(n!==null){var r=Mt();_n(n,e,t,r)}Gh(e,t)}};Fv=function(){return Ae};Bv=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Od=function(e,t,n){switch(t){case"input":if(Cd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Pc(r);if(!a)throw Error(H(90));xv(r),Cd(r,a)}}}break;case"textarea":yv(e,n);break;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}};kv=Uh;Cv=Bs;var _k={usingClientEntryPoint:!1,Events:[Ci,pa,Pc,_v,Sv,Uh]},bo={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sk={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pv(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{kc=il.inject(Sk),Wn=il}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_k;Xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(t))throw Error(H(200));return bk(e,t,null,n)};Xt.createRoot=function(e,t){if(!Qh(e))throw Error(H(299));var n=!1,r="",a=l0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=qh(e,1,!1,null,null,n,!1,r,a),e[fr]=t.current,ni(e.nodeType===8?e.parentNode:e),new Yh(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Pv(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return Bs(e)};Xt.hydrate=function(e,t,n){if(!Fc(t))throw Error(H(200));return Bc(null,e,t,!0,n)};Xt.hydrateRoot=function(e,t,n){if(!Qh(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",i=l0;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=i0(t,null,e,1,n??null,a,!1,o,i),e[fr]=t.current,ni(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)};Xt.render=function(e,t,n){if(!Fc(t))throw Error(H(200));return Bc(null,e,t,!1,n)};Xt.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(H(40));return e._reactRootContainer?(Bs(function(){Bc(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0):!1};Xt.unstable_batchedUpdates=Uh;Xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fc(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Bc(e,t,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function c0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c0)}catch(e){console.error(e)}}c0(),cv.exports=Xt;var Qs=cv.exports;const u0=Kx(Qs);var d0,mg=Qs;d0=mg.createRoot,mg.hydrateRoot;const kk=5,Ck=1e3,or={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Ju=0;function Ek(){return Ju=(Ju+1)%Number.MAX_VALUE,Ju.toString()}const Xu=new Map,pg=e=>{if(Xu.has(e))return;const t=setTimeout(()=>{Xu.delete(e),Wo({type:or.REMOVE_TOAST,toastId:e})},Ck);Xu.set(e,t)},Tk=(e,t)=>{switch(t.type){case or.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,kk)};case or.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case or.DISMISS_TOAST:{const{toastId:n}=t;return n?pg(n):e.toasts.forEach(r=>{pg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case or.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Il=[];let Ll={toasts:[]};function Wo(e){Ll=Tk(Ll,e),Il.forEach(t=>{t(Ll)})}function Pk({...e}){const t=Ek(),n=a=>Wo({type:or.UPDATE_TOAST,toast:{...a,id:t}}),r=()=>Wo({type:or.DISMISS_TOAST,toastId:t});return Wo({type:or.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Rk(){const[e,t]=m.useState(Ll);return m.useEffect(()=>(Il.push(t),()=>{const n=Il.indexOf(t);n>-1&&Il.splice(n,1)}),[e]),{...e,toast:Pk,dismiss:n=>Wo({type:or.DISMISS_TOAST,toastId:n})}}function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ak(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function f0(...e){return t=>e.forEach(n=>Ak(n,t))}function be(...e){return m.useCallback(f0(...e),e)}function Mk(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:x,...g}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function d(f,h){const x=(h==null?void 0:h[e][c])||l,g=m.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Ok(a,...t)]}function Ok(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var zs=m.forwardRef((e,t)=>{const{children:n,...r}=e,a=m.Children.toArray(n),o=a.find(Dk);if(o){const i=o.props.children,l=a.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return s.jsx(mf,{...r,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return s.jsx(mf,{...r,ref:t,children:n})});zs.displayName="Slot";var mf=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const a=Lk(n);return m.cloneElement(n,{...Ik(r,n.props),ref:t?f0(t,a):a})}return m.Children.count(n)>1?m.Children.only(null):null});mf.displayName="SlotClone";var Kh=({children:e})=>s.jsx(s.Fragment,{children:e});function Dk(e){return m.isValidElement(e)&&e.type===Kh}function Ik(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{o(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function Lk(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zc(e){const t=e+"CollectionProvider",[n,r]=Mk(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:g,children:p}=x,w=G.useRef(null),v=G.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:v,collectionRef:w,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=G.forwardRef((x,g)=>{const{scope:p,children:w}=x,v=o(l,p),y=be(g,v.collectionRef);return s.jsx(zs,{ref:y,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=G.forwardRef((x,g)=>{const{scope:p,children:w,...v}=x,y=G.useRef(null),b=be(g,y),j=o(u,p);return G.useEffect(()=>(j.itemMap.set(y,{ref:y,...v}),()=>void j.itemMap.delete(y))),s.jsx(zs,{[d]:"",ref:b,children:w})});f.displayName=u;function h(x){const g=o(e+"CollectionConsumer",x);return G.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,N)=>v.indexOf(j.ref.current)-v.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,r]}function $k(e,t){const n=m.createContext(t),r=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function a(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function Qn(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var v;const{scope:h,children:x,...g}=f,p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})};u.displayName=o+"Provider";function d(f,h){var p;const x=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=m.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Fk(a,...t)]}function Fk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Bk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=Bk.reduce((e,t)=>{const n=m.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?zs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function h0(e,t){e&&Qs.flushSync(()=>e.dispatchEvent(t))}function rt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function zk(e,t=globalThis==null?void 0:globalThis.document){const n=rt(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Uk="DismissableLayer",pf="dismissableLayer.update",Wk="dismissableLayer.pointerDownOutside",Hk="dismissableLayer.focusOutside",gg,m0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ti=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(m0),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=m.useState({}),g=be(t,k=>f(k)),p=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(w),y=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,N=qk(k=>{const T=k.target,$=[...u.branches].some(M=>M.contains(T));!j||$||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),C=Gk(k=>{const T=k.target;[...u.branches].some(M=>M.contains(T))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return zk(k=>{y===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gg)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xg())},[d,u]),m.useEffect(()=>{const k=()=>x({});return document.addEventListener(pf,k),()=>document.removeEventListener(pf,k)},[]),s.jsx(le.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,N.onPointerDownCapture)})});Ti.displayName=Uk;var Vk="DismissableLayerBranch",p0=m.forwardRef((e,t)=>{const n=m.useContext(m0),r=m.useRef(null),a=be(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(le.div,{...e,ref:a})});p0.displayName=Vk;function qk(e,t=globalThis==null?void 0:globalThis.document){const n=rt(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){g0(Wk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Gk(e,t=globalThis==null?void 0:globalThis.document){const n=rt(e),r=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!r.current&&g0(Hk,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xg(){const e=new CustomEvent(pf);document.dispatchEvent(e)}function g0(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?h0(a,o):a.dispatchEvent(o)}var Yk=Ti,Qk=p0,ut=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Kk="Portal",Uc=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,o]=m.useState(!1);ut(()=>o(!0),[]);const i=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?u0.createPortal(s.jsx(le.div,{...r,ref:t}),i):null});Uc.displayName=Kk;function Jk(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Pn=e=>{const{present:t,children:n}=e,r=Xk(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=be(r.ref,Zk(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:o}):null};Pn.displayName="Presence";function Xk(e){const[t,n]=m.useState(),r=m.useRef({}),a=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Jk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=ll(r.current);o.current=l==="mounted"?u:"none"},[l]),ut(()=>{const u=r.current,d=a.current;if(d!==e){const h=o.current,x=ll(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ut(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=x=>{const p=ll(r.current).includes(x.animationName);if(x.target===t&&p&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=x=>{x.target===t&&(o.current=ll(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ll(e){return(e==null?void 0:e.animationName)||"none"}function Zk(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=eC({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=rt(n),c=m.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[o,e,a,l]);return[i,c]}function eC({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,a=m.useRef(r),o=rt(t);return m.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}var tC="VisuallyHidden",Pi=m.forwardRef((e,t)=>s.jsx(le.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Pi.displayName=tC;var nC=Pi,Jh="ToastProvider",[Xh,rC,sC]=zc("Toast"),[x0,uL]=Qn("Toast",[sC]),[aC,Wc]=x0(Jh),v0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jh}\`. Expected non-empty \`string\`.`),s.jsx(Xh.Provider,{scope:t,children:s.jsx(aC,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(x=>x+1),[]),onToastRemove:m.useCallback(()=>d(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};v0.displayName=Jh;var y0="ToastViewport",oC=["F8"],gf="toast.viewportPause",xf="toast.viewportResume",w0=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=oC,label:a="Notifications ({hotkey})",...o}=e,i=Wc(y0,n),l=rC(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=be(t,f,i.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;m.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(j=>v[j]||v.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),m.useEffect(()=>{const w=c.current,v=f.current;if(g&&w&&v){const y=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(gf);v.dispatchEvent(C),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(xf);v.dispatchEvent(C),i.isClosePausedRef.current=!1}},j=C=>{!w.contains(C.relatedTarget)&&b()},N=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",y),w.addEventListener("focusout",j),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,i.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:w})=>{const y=l().map(b=>{const j=b.ref.current,N=[j,...yC(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const w=f.current;if(w){const v=y=>{var N,C,k;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const T=document.activeElement,$=y.shiftKey;if(y.target===w&&$){(N=u.current)==null||N.focus();return}const R=p({tabbingDirection:$?"backwards":"forwards"}),F=R.findIndex(E=>E===T);Zu(R.slice(F+1))?y.preventDefault():$?(C=u.current)==null||C.focus():(k=d.current)==null||k.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,p]),s.jsxs(Qk,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(vf,{ref:u,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"forwards"});Zu(w)}}),s.jsx(Xh.Slot,{scope:n,children:s.jsx(le.ol,{tabIndex:-1,...o,ref:h})}),g&&s.jsx(vf,{ref:d,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"backwards"});Zu(w)}})]})});w0.displayName=y0;var b0="ToastFocusProxy",vf=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=Wc(b0,n);return s.jsx(Pi,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});vf.displayName=b0;var Hc="Toast",iC="toast.swipeStart",lC="toast.swipeMove",cC="toast.swipeCancel",uC="toast.swipeEnd",j0=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=pr({prop:r,defaultProp:a,onChange:o});return s.jsx(Pn,{present:n||l,children:s.jsx(hC,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:rt(e.onPause),onResume:rt(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});j0.displayName=Hc;var[dC,fC]=x0(Hc,{onClose(){}}),hC=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:x,...g}=e,p=Wc(Hc,n),[w,v]=m.useState(null),y=be(t,E=>v(E)),b=m.useRef(null),j=m.useRef(null),N=a||p.duration,C=m.useRef(0),k=m.useRef(N),T=m.useRef(0),{onToastAdd:$,onToastRemove:M}=p,I=rt(()=>{var P;(w==null?void 0:w.contains(document.activeElement))&&((P=p.viewport)==null||P.focus()),i()}),R=m.useCallback(E=>{!E||E===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(I,E))},[I]);m.useEffect(()=>{const E=p.viewport;if(E){const P=()=>{R(k.current),u==null||u()},_=()=>{const A=new Date().getTime()-C.current;k.current=k.current-A,window.clearTimeout(T.current),c==null||c()};return E.addEventListener(gf,_),E.addEventListener(xf,P),()=>{E.removeEventListener(gf,_),E.removeEventListener(xf,P)}}},[p.viewport,N,c,u,R]),m.useEffect(()=>{o&&!p.isClosePausedRef.current&&R(N)},[o,N,p.isClosePausedRef,R]),m.useEffect(()=>($(),()=>M()),[$,M]);const F=m.useMemo(()=>w?T0(w):null,[w]);return p.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(mC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(dC,{scope:n,onClose:I,children:Qs.createPortal(s.jsx(Xh.ItemSlot,{scope:n,children:s.jsx(Yk,{asChild:!0,onEscapeKeyDown:ee(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ee(e.onPointerDown,E=>{E.button===0&&(b.current={x:E.clientX,y:E.clientY})}),onPointerMove:ee(e.onPointerMove,E=>{if(!b.current)return;const P=E.clientX-b.current.x,_=E.clientY-b.current.y,A=!!j.current,S=["left","right"].includes(p.swipeDirection),O=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,B=S?O(0,P):0,z=S?0:O(0,_),X=E.pointerType==="touch"?10:2,ce={x:B,y:z},V={originalEvent:E,delta:ce};A?(j.current=ce,cl(lC,f,V,{discrete:!1})):vg(ce,p.swipeDirection,X)?(j.current=ce,cl(iC,d,V,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(P)>X||Math.abs(_)>X)&&(b.current=null)}),onPointerUp:ee(e.onPointerUp,E=>{const P=j.current,_=E.target;if(_.hasPointerCapture(E.pointerId)&&_.releasePointerCapture(E.pointerId),j.current=null,b.current=null,P){const A=E.currentTarget,S={originalEvent:E,delta:P};vg(P,p.swipeDirection,p.swipeThreshold)?cl(uC,x,S,{discrete:!0}):cl(cC,h,S,{discrete:!0}),A.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),mC=e=>{const{__scopeToast:t,children:n,...r}=e,a=Wc(Hc,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return xC(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Uc,{asChild:!0,children:s.jsx(Pi,{...r,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},pC="ToastTitle",N0=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(le.div,{...r,ref:t})});N0.displayName=pC;var gC="ToastDescription",_0=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(le.div,{...r,ref:t})});_0.displayName=gC;var S0="ToastAction",k0=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(E0,{altText:n,asChild:!0,children:s.jsx(Zh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${S0}\`. Expected non-empty \`string\`.`),null)});k0.displayName=S0;var C0="ToastClose",Zh=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=fC(C0,n);return s.jsx(E0,{asChild:!0,children:s.jsx(le.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,a.onClose)})})});Zh.displayName=C0;var E0=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function T0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),vC(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...T0(r))}}),t}function cl(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?h0(a,o):a.dispatchEvent(o)}var vg=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function xC(e=()=>{}){const t=rt(e);ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function vC(e){return e.nodeType===e.ELEMENT_NODE}function yC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var wC=v0,P0=w0,R0=j0,A0=N0,M0=_0,O0=k0,D0=Zh;function I0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=I0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function L0(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=I0(e))&&(r&&(r+=" "),r+=t);return r}const yg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wg=L0,Ri=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=yg(d)||yg(f);return a[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...x}=d;return Object.entries(x).every(g=>{let[p,w]=g;return Array.isArray(w)?w.includes({...o,...l}[p]):{...o,...l}[p]===w})?[...u,f,h]:u},[]);return wg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...jC,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$0("lucide",a),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=m.forwardRef(({className:r,...a},o)=>m.createElement(NC,{ref:o,iconNode:t,className:$0(`lucide-${bC(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=me("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=me("ChartNoAxesGantt",[["path",{d:"M8 6h10",key:"9lnwnk"}],["path",{d:"M6 12h9",key:"1g9pqf"}],["path",{d:"M11 18h7",key:"c8dzvl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=me("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=me("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=me("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=me("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=me("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=me("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=me("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=me("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=me("Rotate3d",[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rm="-",HC=e=>{const t=qC(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(rm);return l[0]===""&&l.length!==1&&l.shift(),V0(l,t)||VC(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},V0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?V0(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(rm);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Ng=/^\[(.+)\]$/,VC=e=>{if(Ng.test(e)){const t=Ng.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},qC=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return YC(Object.entries(e.classGroups),n).forEach(([o,i])=>{wf(i,r,o,t)}),r},wf=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:_g(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(GC(a)){wf(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,i])=>{wf(i,_g(t,o),n,r)})})},_g=(e,t)=>{let n=e;return t.split(rm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GC=e=>e.isThemeGetter,YC=(e,t)=>t?e.map(([n,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,a]}):e,QC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){n.has(o)?n.set(o,i):a(o,i)}}},q0="!",KC=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(u===0){if(v===a&&(r||l.slice(w,w+o)===t)){c.push(l.slice(d,w)),d=w+o;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),x=h.startsWith(q0),g=x?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:i}):i},JC=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},XC=e=>({cache:QC(e.cacheSize),parseClassName:KC(e),...HC(e)}),ZC=/\s+/,e2=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(ZC);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:x}=n(u);let g=!!x,p=r(g?h.substring(0,x):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const w=JC(d).join(":"),v=f?w+q0:w,y=v+p;if(o.includes(y))continue;o.push(y);const b=a(p,g);for(let j=0;j<b.length;++j){const N=b[j];o.push(v+N)}l=u+(l.length>0?" "+l:l)}return l};function t2(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=G0(t))&&(r&&(r+=" "),r+=n);return r}const G0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=G0(e[r]))&&(n&&(n+=" "),n+=t);return n};function n2(e,...t){let n,r,a,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=XC(u),r=n.cache.get,a=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=e2(c,n);return a(c,d),d}return function(){return o(t2.apply(null,arguments))}}const We=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Y0=/^\[(?:([a-z-]+):)?(.+)\]$/i,r2=/^\d+\/\d+$/,s2=new Set(["px","full","screen"]),a2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xn=e=>Ea(e)||s2.has(e)||r2.test(e),Sr=e=>ro(e,"length",x2),Ea=e=>!!e&&!Number.isNaN(Number(e)),ed=e=>ro(e,"number",Ea),jo=e=>!!e&&Number.isInteger(Number(e)),u2=e=>e.endsWith("%")&&Ea(e.slice(0,-1)),ve=e=>Y0.test(e),kr=e=>a2.test(e),d2=new Set(["length","size","percentage"]),f2=e=>ro(e,d2,Q0),h2=e=>ro(e,"position",Q0),m2=new Set(["image","url"]),p2=e=>ro(e,m2,y2),g2=e=>ro(e,"",v2),No=()=>!0,ro=(e,t,n)=>{const r=Y0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},x2=e=>o2.test(e)&&!i2.test(e),Q0=()=>!1,v2=e=>l2.test(e),y2=e=>c2.test(e),w2=()=>{const e=We("colors"),t=We("spacing"),n=We("blur"),r=We("brightness"),a=We("borderColor"),o=We("borderRadius"),i=We("borderSpacing"),l=We("borderWidth"),c=We("contrast"),u=We("grayscale"),d=We("hueRotate"),f=We("invert"),h=We("gap"),x=We("gradientColorStops"),g=We("gradientColorStopPositions"),p=We("inset"),w=We("margin"),v=We("opacity"),y=We("padding"),b=We("saturate"),j=We("scale"),N=We("sepia"),C=We("skew"),k=We("space"),T=We("translate"),$=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ve,t],R=()=>[ve,t],F=()=>["",Xn,Sr],E=()=>["auto",Ea,ve],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ve],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ea,ve];return{cacheSize:500,separator:":",theme:{colors:[No],spacing:[Xn,Sr],blur:["none","",kr,ve],brightness:z(),borderColor:[e],borderRadius:["none","","full",kr,ve],borderSpacing:R(),borderWidth:F(),contrast:z(),grayscale:O(),hueRotate:z(),invert:O(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[u2,Sr],inset:I(),margin:I(),opacity:z(),padding:R(),saturate:z(),scale:z(),sepia:O(),skew:z(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),ve]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jo,ve]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",jo,ve]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",jo,ve]},ve]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[jo,ve]},ve]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[kr]},kr]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kr,Sr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Ea,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xn,Sr]}],"underline-offset":[{"underline-offset":["auto",Xn,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),h2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[Xn,ve]}],"outline-w":[{outline:[Xn,Sr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xn,Sr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,g2]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kr,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[jo,ve]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xn,Sr,ed]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b2=n2(w2);function re(...e){return b2(L0(e))}const j2=wC,K0=m.forwardRef(({className:e,...t},n)=>s.jsx(P0,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));K0.displayName=P0.displayName;const N2=Ri("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J0=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(R0,{ref:r,className:re(N2({variant:t}),e),...n}));J0.displayName=R0.displayName;const _2=m.forwardRef(({className:e,...t},n)=>s.jsx(O0,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_2.displayName=O0.displayName;const X0=m.forwardRef(({className:e,...t},n)=>s.jsx(D0,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Cn,{className:"h-4 w-4"})}));X0.displayName=D0.displayName;const Z0=m.forwardRef(({className:e,...t},n)=>s.jsx(A0,{ref:n,className:re("text-sm font-semibold",e),...t}));Z0.displayName=A0.displayName;const ew=m.forwardRef(({className:e,...t},n)=>s.jsx(M0,{ref:n,className:re("text-sm opacity-90",e),...t}));ew.displayName=M0.displayName;function S2(){const{toasts:e}=Rk();return s.jsxs(j2,{children:[e.map(function({id:t,title:n,description:r,action:a,...o}){return s.jsxs(J0,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Z0,{children:n}),r&&s.jsx(ew,{children:r})]}),a,s.jsx(X0,{})]},t)}),s.jsx(K0,{})]})}var Sg=["light","dark"],k2="(prefers-color-scheme: dark)",C2=m.createContext(void 0),E2={setTheme:e=>{},themes:[]},T2=()=>{var e;return(e=m.useContext(C2))!=null?e:E2};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=a?Sg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,w=!0)=>{let v=i?i[g]:g,y=p?g+"|| ''":`'${v}'`,b="";return a&&w&&!p&&Sg.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?p||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},x=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${k2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:x}})});var P2=e=>{switch(e){case"success":return M2;case"info":return D2;case"warning":return O2;case"error":return I2;default:return null}},R2=Array(12).fill(0),A2=({visible:e})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},G.createElement("div",{className:"sonner-spinner"},R2.map((t,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),M2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),D2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),I2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L2=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},bf=1,$2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:bf++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0;return r.then(async o=>{if(B2(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||bf++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Vt=new $2,F2=(e,t)=>{let n=(t==null?void 0:t.id)||bf++;return Vt.addToast({title:e,...t,id:n}),n},B2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",z2=F2,U2=()=>Vt.toasts,D=Object.assign(z2,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:U2});function W2(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}W2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ul(e){return e.label!==void 0}var H2=3,V2="32px",q2=4e3,G2=356,Y2=14,Q2=20,K2=200;function J2(...e){return e.filter(Boolean).join(" ")}var X2=e=>{var t,n,r,a,o,i,l,c,u,d;let{invert:f,toast:h,unstyled:x,interacting:g,setHeights:p,visibleToasts:w,heights:v,index:y,toasts:b,expanded:j,removeToast:N,defaultRichColors:C,closeButton:k,style:T,cancelButtonStyle:$,actionButtonStyle:M,className:I="",descriptionClassName:R="",duration:F,position:E,gap:P,loadingIcon:_,expandByDefault:A,classNames:S,icons:O,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:z,cn:X}=e,[ce,V]=G.useState(!1),[oe,K]=G.useState(!1),[te,ue]=G.useState(!1),[Te,Y]=G.useState(!1),[Q,q]=G.useState(0),[se,de]=G.useState(0),ge=G.useRef(null),he=G.useRef(null),Se=y===0,Me=y+1<=w,je=h.type,ft=h.dismissible!==!1,xt=h.className||"",GN=h.descriptionClassName||"",Ui=G.useMemo(()=>v.findIndex(xe=>xe.toastId===h.id)||0,[v,h.id]),YN=G.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:k},[h.closeButton,k]),ep=G.useMemo(()=>h.duration||F||q2,[h.duration,F]),ju=G.useRef(0),Zs=G.useRef(0),tp=G.useRef(0),ea=G.useRef(null),[np,QN]=E.split("-"),rp=G.useMemo(()=>v.reduce((xe,Ue,Le)=>Le>=Ui?xe:xe+Ue.height,0),[v,Ui]),sp=L2(),KN=h.invert||f,Nu=je==="loading";Zs.current=G.useMemo(()=>Ui*P+rp,[Ui,rp]),G.useEffect(()=>{V(!0)},[]),G.useLayoutEffect(()=>{if(!ce)return;let xe=he.current,Ue=xe.style.height;xe.style.height="auto";let Le=xe.getBoundingClientRect().height;xe.style.height=Ue,de(Le),p(Mn=>Mn.find(On=>On.toastId===h.id)?Mn.map(On=>On.toastId===h.id?{...On,height:Le}:On):[{toastId:h.id,height:Le,position:h.position},...Mn])},[ce,h.title,h.description,p,h.id]);let Nr=G.useCallback(()=>{K(!0),q(Zs.current),p(xe=>xe.filter(Ue=>Ue.toastId!==h.id)),setTimeout(()=>{N(h)},K2)},[h,N,p,Zs]);G.useEffect(()=>{if(h.promise&&je==="loading"||h.duration===1/0||h.type==="loading")return;let xe,Ue=ep;return j||g||z&&sp?(()=>{if(tp.current<ju.current){let Le=new Date().getTime()-ju.current;Ue=Ue-Le}tp.current=new Date().getTime()})():Ue!==1/0&&(ju.current=new Date().getTime(),xe=setTimeout(()=>{var Le;(Le=h.onAutoClose)==null||Le.call(h,h),Nr()},Ue)),()=>clearTimeout(xe)},[j,g,A,h,ep,Nr,h.promise,je,z,sp]),G.useEffect(()=>{let xe=he.current;if(xe){let Ue=xe.getBoundingClientRect().height;return de(Ue),p(Le=>[{toastId:h.id,height:Ue,position:h.position},...Le]),()=>p(Le=>Le.filter(Mn=>Mn.toastId!==h.id))}},[p,h.id]),G.useEffect(()=>{h.delete&&Nr()},[Nr,h.delete]);function JN(){return O!=null&&O.loading?G.createElement("div",{className:"sonner-loader","data-visible":je==="loading"},O.loading):_?G.createElement("div",{className:"sonner-loader","data-visible":je==="loading"},_):G.createElement(A2,{visible:je==="loading"})}return G.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:he,className:X(I,xt,S==null?void 0:S.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[je],(n=h==null?void 0:h.classNames)==null?void 0:n[je]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":ce,"data-promise":!!h.promise,"data-removed":oe,"data-visible":Me,"data-y-position":np,"data-x-position":QN,"data-index":y,"data-front":Se,"data-swiping":te,"data-dismissible":ft,"data-type":je,"data-invert":KN,"data-swipe-out":Te,"data-expanded":!!(j||A&&ce),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${oe?Q:Zs.current}px`,"--initial-height":A?"auto":`${se}px`,...T,...h.style},onPointerDown:xe=>{Nu||!ft||(ge.current=new Date,q(Zs.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(ue(!0),ea.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Ue,Le,Mn;if(Te||!ft)return;ea.current=null;let On=Number(((xe=he.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Wi=new Date().getTime()-((Ue=ge.current)==null?void 0:Ue.getTime()),XN=Math.abs(On)/Wi;if(Math.abs(On)>=Q2||XN>.11){q(Zs.current),(Le=h.onDismiss)==null||Le.call(h,h),Nr(),Y(!0);return}(Mn=he.current)==null||Mn.style.setProperty("--swipe-amount","0px"),ue(!1)},onPointerMove:xe=>{var Ue;if(!ea.current||!ft)return;let Le=xe.clientY-ea.current.y,Mn=xe.clientX-ea.current.x,On=(np==="top"?Math.min:Math.max)(0,Le),Wi=xe.pointerType==="touch"?10:2;Math.abs(On)>Wi?(Ue=he.current)==null||Ue.style.setProperty("--swipe-amount",`${Le}px`):Math.abs(Mn)>Wi&&(ea.current=null)}},YN&&!h.jsx?G.createElement("button",{"aria-label":B,"data-disabled":Nu,"data-close-button":!0,onClick:Nu||!ft?()=>{}:()=>{var xe;Nr(),(xe=h.onDismiss)==null||xe.call(h,h)},className:X(S==null?void 0:S.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||G.isValidElement(h.title)?h.jsx||h.title:G.createElement(G.Fragment,null,je||h.icon||h.promise?G.createElement("div",{"data-icon":"",className:X(S==null?void 0:S.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||JN():null,h.type!=="loading"?h.icon||(O==null?void 0:O[je])||P2(je):null):null,G.createElement("div",{"data-content":"",className:X(S==null?void 0:S.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},G.createElement("div",{"data-title":"",className:X(S==null?void 0:S.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?G.createElement("div",{"data-description":"",className:X(R,GN,S==null?void 0:S.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),G.isValidElement(h.cancel)?h.cancel:h.cancel&&ul(h.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||$,onClick:xe=>{var Ue,Le;ul(h.cancel)&&ft&&((Le=(Ue=h.cancel).onClick)==null||Le.call(Ue,xe),Nr())},className:X(S==null?void 0:S.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,G.isValidElement(h.action)?h.action:h.action&&ul(h.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:xe=>{var Ue,Le;ul(h.action)&&(xe.defaultPrevented||((Le=(Ue=h.action).onClick)==null||Le.call(Ue,xe),Nr()))},className:X(S==null?void 0:S.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function kg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Z2=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=H2,toastOptions:x,dir:g=kg(),gap:p=Y2,loadingIcon:w,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:j=J2}=e,[N,C]=G.useState([]),k=G.useMemo(()=>Array.from(new Set([n].concat(N.filter(z=>z.position).map(z=>z.position)))),[N,n]),[T,$]=G.useState([]),[M,I]=G.useState(!1),[R,F]=G.useState(!1),[E,P]=G.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=G.useRef(null),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=G.useRef(null),O=G.useRef(!1),B=G.useCallback(z=>{var X;(X=N.find(ce=>ce.id===z.id))!=null&&X.delete||Vt.dismiss(z.id),C(ce=>ce.filter(({id:V})=>V!==z.id))},[N]);return G.useEffect(()=>Vt.subscribe(z=>{if(z.dismiss){C(X=>X.map(ce=>ce.id===z.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{u0.flushSync(()=>{C(X=>{let ce=X.findIndex(V=>V.id===z.id);return ce!==-1?[...X.slice(0,ce),{...X[ce],...z},...X.slice(ce+1)]:[z,...X]})})})}),[]),G.useEffect(()=>{if(c!=="system"){P(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{P(z?"dark":"light")})},[c]),G.useEffect(()=>{N.length<=1&&I(!1)},[N]),G.useEffect(()=>{let z=X=>{var ce,V;r.every(oe=>X[oe]||X.code===oe)&&(I(!0),(ce=_.current)==null||ce.focus()),X.code==="Escape"&&(document.activeElement===_.current||(V=_.current)!=null&&V.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),G.useEffect(()=>{if(_.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,O.current=!1)}},[_.current]),N.length?G.createElement("section",{"aria-label":`${y} ${A}`,tabIndex:-1},k.map((z,X)=>{var ce;let[V,oe]=z.split("-");return G.createElement("ol",{key:z,dir:g==="auto"?kg():g,tabIndex:-1,ref:_,className:i,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":V,"data-x-position":oe,style:{"--front-toast-height":`${((ce=T[0])==null?void 0:ce.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||V2,"--width":`${G2}px`,"--gap":`${p}px`,...f},onBlur:K=>{O.current&&!K.currentTarget.contains(K.relatedTarget)&&(O.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||O.current||(O.current=!0,S.current=K.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{R||I(!1)},onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},N.filter(K=>!K.position&&X===0||K.position===z).map((K,te)=>{var ue,Te;return G.createElement(X2,{key:K.id,icons:v,index:te,toast:K,defaultRichColors:u,duration:(ue=x==null?void 0:x.duration)!=null?ue:d,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Te=x==null?void 0:x.closeButton)!=null?Te:o,interacting:R,position:z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:B,toasts:N.filter(Y=>Y.position==K.position),heights:T.filter(Y=>Y.position==K.position),setHeights:$,expandByDefault:a,gap:p,loadingIcon:w,expanded:M,pauseWhenPageIsHidden:b,cn:j})}))})):null};const tw=({...e})=>{const{theme:t="system"}=T2();return s.jsx(Z2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var eE=iv.useId||(()=>{}),tE=0;function cr(e){const[t,n]=m.useState(eE());return ut(()=>{e||n(r=>r??String(tE++))},[e]),e||(t?`radix-${t}`:"")}const nE=["top","right","bottom","left"],is=Math.min,Gt=Math.max,dc=Math.round,dl=Math.floor,ls=e=>({x:e,y:e}),rE={left:"right",right:"left",bottom:"top",top:"bottom"},sE={start:"end",end:"start"};function jf(e,t,n){return Gt(e,is(t,n))}function gr(e,t){return typeof e=="function"?e(t):e}function xr(e){return e.split("-")[0]}function so(e){return e.split("-")[1]}function sm(e){return e==="x"?"y":"x"}function am(e){return e==="y"?"height":"width"}function cs(e){return["top","bottom"].includes(xr(e))?"y":"x"}function om(e){return sm(cs(e))}function aE(e,t,n){n===void 0&&(n=!1);const r=so(e),a=om(e),o=am(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=fc(i)),[i,fc(i)]}function oE(e){const t=fc(e);return[Nf(e),t,Nf(t)]}function Nf(e){return e.replace(/start|end/g,t=>sE[t])}function iE(e,t,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?o:i;default:return[]}}function lE(e,t,n,r){const a=so(e);let o=iE(xr(e),n==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Nf)))),o}function fc(e){return e.replace(/left|right|bottom|top/g,t=>rE[t])}function cE(e){return{top:0,right:0,bottom:0,left:0,...e}}function nw(e){return typeof e!="number"?cE(e):{top:e,right:e,bottom:e,left:e}}function hc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Cg(e,t,n){let{reference:r,floating:a}=e;const o=cs(t),i=om(t),l=am(i),c=xr(t),u=o==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let x;switch(c){case"top":x={x:d,y:r.y-a.height};break;case"bottom":x={x:d,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-a.width,y:f};break;default:x={x:r.x,y:r.y}}switch(so(t)){case"start":x[i]-=h*(n&&u?-1:1);break;case"end":x[i]+=h*(n&&u?-1:1);break}return x}const uE=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Cg(u,r,c),h=r,x={},g=0;for(let p=0;p<l.length;p++){const{name:w,fn:v}=l[p],{x:y,y:b,data:j,reset:N}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:x,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=b??f,x={...x,[w]:{...x[w],...j}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=Cg(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:x}};async function di(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:x=0}=gr(t,e),g=nw(x),w=l[h?f==="floating"?"reference":"floating":f],v=hc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=hc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-N.top+g.top)/j.y,bottom:(N.bottom-v.bottom+g.bottom)/j.y,left:(v.left-N.left+g.left)/j.x,right:(N.right-v.right+g.right)/j.x}}const dE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=gr(e,t)||{};if(u==null)return{};const f=nw(d),h={x:n,y:r},x=om(a),g=am(x),p=await i.getDimensions(u),w=x==="y",v=w?"top":"left",y=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=o.reference[g]+o.reference[x]-h[x]-o.floating[g],N=h[x]-o.reference[x],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=C?C[b]:0;(!k||!await(i.isElement==null?void 0:i.isElement(C)))&&(k=l.floating[b]||o.floating[g]);const T=j/2-N/2,$=k/2-p[g]/2-1,M=is(f[v],$),I=is(f[y],$),R=M,F=k-p[g]-I,E=k/2-p[g]/2+T,P=jf(R,E,F),_=!c.arrow&&so(a)!=null&&E!==P&&o.reference[g]/2-(E<R?M:I)-p[g]/2<0,A=_?E<R?E-R:E-F:0;return{[x]:h[x]+A,data:{[x]:P,centerOffset:E-P-A,..._&&{alignmentOffset:A}},reset:_}}}),fE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...w}=gr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=xr(a),y=cs(l),b=xr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(b||!p?[fc(l)]:oE(l)),C=g!=="none";!h&&C&&N.push(...lE(l,p,g,j));const k=[l,...N],T=await di(t,w),$=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&$.push(T[v]),f){const E=aE(a,i,j);$.push(T[E[0]],T[E[1]])}if(M=[...M,{placement:a,overflows:$}],!$.every(E=>E<=0)){var I,R;const E=(((I=o.flip)==null?void 0:I.index)||0)+1,P=k[E];if(P)return{data:{index:E,overflows:M},reset:{placement:P}};let _=(R=M.filter(A=>A.overflows[0]<=0).sort((A,S)=>A.overflows[1]-S.overflows[1])[0])==null?void 0:R.placement;if(!_)switch(x){case"bestFit":{var F;const A=(F=M.filter(S=>{if(C){const O=cs(S.placement);return O===y||O==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(O=>O>0).reduce((O,B)=>O+B,0)]).sort((S,O)=>S[1]-O[1])[0])==null?void 0:F[0];A&&(_=A);break}case"initialPlacement":_=l;break}if(a!==_)return{reset:{placement:_}}}return{}}}};function Eg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tg(e){return nE.some(t=>e[t]>=0)}const hE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=gr(e,t);switch(r){case"referenceHidden":{const o=await di(t,{...a,elementContext:"reference"}),i=Eg(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Tg(i)}}}case"escaped":{const o=await di(t,{...a,altBoundary:!0}),i=Eg(o,n.floating);return{data:{escapedOffsets:i,escaped:Tg(i)}}}default:return{}}}}};async function mE(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=xr(n),l=so(n),c=cs(n)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=gr(t,e);let{mainAxis:h,crossAxis:x,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(x=l==="end"?g*-1:g),c?{x:x*d,y:h*u}:{x:h*u,y:x*d}}const pE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await mE(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},gE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...c}=gr(e,t),u={x:n,y:r},d=await di(t,c),f=cs(xr(a)),h=sm(f);let x=u[h],g=u[f];if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=x+d[w],b=x-d[v];x=jf(y,x,b)}if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+d[w],b=g-d[v];g=jf(y,g,b)}const p=l.fn({...t,[h]:x,[f]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:o,[f]:i}}}}}},xE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=gr(e,t),d={x:n,y:r},f=cs(a),h=sm(f);let x=d[h],g=d[f];const p=gr(l,t),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",j=o.reference[h]-o.floating[b]+w.mainAxis,N=o.reference[h]+o.reference[b]-w.mainAxis;x<j?x=j:x>N&&(x=N)}if(u){var v,y;const b=h==="y"?"width":"height",j=["top","left"].includes(xr(a)),N=o.reference[f]-o.floating[b]+(j&&((v=i.offset)==null?void 0:v[f])||0)+(j?0:w.crossAxis),C=o.reference[f]+o.reference[b]+(j?0:((y=i.offset)==null?void 0:y[f])||0)-(j?w.crossAxis:0);g<N?g=N:g>C&&(g=C)}return{[h]:x,[f]:g}}}},vE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=gr(e,t),d=await di(t,u),f=xr(a),h=so(a),x=cs(a)==="y",{width:g,height:p}=o.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,b=g-d.left-d.right,j=is(p-d[w],y),N=is(g-d[v],b),C=!t.middlewareData.shift;let k=j,T=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),C&&!h){const M=Gt(d.left,0),I=Gt(d.right,0),R=Gt(d.top,0),F=Gt(d.bottom,0);x?T=g-2*(M!==0||I!==0?M+I:Gt(d.left,d.right)):k=p-2*(R!==0||F!==0?R+F:Gt(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:k});const $=await i.getDimensions(l.floating);return g!==$.width||p!==$.height?{reset:{rects:!0}}:{}}}};function Gc(){return typeof window<"u"}function ao(e){return rw(e)?(e.nodeName||"").toLowerCase():"#document"}function Kt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kn(e){var t;return(t=(rw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rw(e){return Gc()?e instanceof Node||e instanceof Kt(e).Node:!1}function En(e){return Gc()?e instanceof Element||e instanceof Kt(e).Element:!1}function Yn(e){return Gc()?e instanceof HTMLElement||e instanceof Kt(e).HTMLElement:!1}function Pg(e){return!Gc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kt(e).ShadowRoot}function Ai(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Tn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function yE(e){return["table","td","th"].includes(ao(e))}function Yc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function im(e){const t=lm(),n=En(e)?Tn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wE(e){let t=us(e);for(;Yn(t)&&!Qa(t);){if(im(t))return t;if(Yc(t))return null;t=us(t)}return null}function lm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qa(e){return["html","body","#document"].includes(ao(e))}function Tn(e){return Kt(e).getComputedStyle(e)}function Qc(e){return En(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function us(e){if(ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pg(e)&&e.host||Kn(e);return Pg(t)?t.host:t}function sw(e){const t=us(e);return Qa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yn(t)&&Ai(t)?t:sw(t)}function fi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=sw(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=Kt(a);if(o){const l=_f(i);return t.concat(i,i.visualViewport||[],Ai(a)?a:[],l&&n?fi(l):[])}return t.concat(a,fi(a,[],n))}function _f(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aw(e){const t=Tn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Yn(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,l=dc(n)!==o||dc(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function cm(e){return En(e)?e:e.contextElement}function Ta(e){const t=cm(e);if(!Yn(t))return ls(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=aw(t);let i=(o?dc(n.width):n.width)/r,l=(o?dc(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const bE=ls(0);function ow(e){const t=Kt(e);return!lm()||!t.visualViewport?bE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Kt(e)?!1:t}function Ws(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=cm(e);let i=ls(1);t&&(r?En(r)&&(i=Ta(r)):i=Ta(e));const l=jE(o,n,r)?ow(o):ls(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(o){const h=Kt(o),x=r&&En(r)?Kt(r):r;let g=h,p=_f(g);for(;p&&r&&x!==g;){const w=Ta(p),v=p.getBoundingClientRect(),y=Tn(p),b=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*w.x,j=v.top+(p.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=j,g=Kt(p),p=_f(g)}}return hc({width:d,height:f,x:c,y:u})}function NE(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=Kn(r),l=t?Yc(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=ls(1);const d=ls(0),f=Yn(r);if((f||!f&&!o)&&((ao(r)!=="body"||Ai(i))&&(c=Qc(r)),Yn(r))){const h=Ws(r);u=Ta(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function _E(e){return Array.from(e.getClientRects())}function Sf(e,t){const n=Qc(e).scrollLeft;return t?t.left+n:Ws(Kn(e)).left+n}function SE(e){const t=Kn(e),n=Qc(e),r=e.ownerDocument.body,a=Gt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Gt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Sf(e);const l=-n.scrollTop;return Tn(r).direction==="rtl"&&(i+=Gt(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function kE(e,t){const n=Kt(e),r=Kn(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=lm();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function CE(e,t){const n=Ws(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Yn(e)?Ta(e):ls(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Rg(e,t,n){let r;if(t==="viewport")r=kE(e,n);else if(t==="document")r=SE(Kn(e));else if(En(t))r=CE(t,n);else{const a=ow(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return hc(r)}function iw(e,t){const n=us(e);return n===t||!En(n)||Qa(n)?!1:Tn(n).position==="fixed"||iw(n,t)}function EE(e,t){const n=t.get(e);if(n)return n;let r=fi(e,[],!1).filter(l=>En(l)&&ao(l)!=="body"),a=null;const o=Tn(e).position==="fixed";let i=o?us(e):e;for(;En(i)&&!Qa(i);){const l=Tn(i),c=im(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ai(i)&&!c&&iw(e,i))?r=r.filter(d=>d!==i):a=l,i=us(i)}return t.set(e,r),r}function TE(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[...n==="clippingAncestors"?Yc(t)?[]:EE(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=Rg(t,d,a);return u.top=Gt(f.top,u.top),u.right=is(f.right,u.right),u.bottom=is(f.bottom,u.bottom),u.left=Gt(f.left,u.left),u},Rg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PE(e){const{width:t,height:n}=aw(e);return{width:t,height:n}}function RE(e,t,n){const r=Yn(t),a=Kn(t),o=n==="fixed",i=Ws(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ls(0);if(r||!r&&!o)if((ao(t)!=="body"||Ai(a))&&(l=Qc(t)),r){const x=Ws(t,!0,o,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&(c.x=Sf(a));let u=0,d=0;if(a&&!r&&!o){const x=a.getBoundingClientRect();d=x.top+l.scrollTop,u=x.left+l.scrollLeft-Sf(a,x)}const f=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function td(e){return Tn(e).position==="static"}function Ag(e,t){if(!Yn(e)||Tn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Kn(e)===n&&(n=n.ownerDocument.body),n}function lw(e,t){const n=Kt(e);if(Yc(e))return n;if(!Yn(e)){let a=us(e);for(;a&&!Qa(a);){if(En(a)&&!td(a))return a;a=us(a)}return n}let r=Ag(e,t);for(;r&&yE(r)&&td(r);)r=Ag(r,t);return r&&Qa(r)&&td(r)&&!im(r)?n:r||wE(e)||n}const AE=async function(e){const t=this.getOffsetParent||lw,n=this.getDimensions,r=await n(e.floating);return{reference:RE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ME(e){return Tn(e).direction==="rtl"}const OE={convertOffsetParentRelativeRectToViewportRelativeRect:NE,getDocumentElement:Kn,getClippingRect:TE,getOffsetParent:lw,getElementRects:AE,getClientRects:_E,getDimensions:PE,getScale:Ta,isElement:En,isRTL:ME};function DE(e,t){let n=null,r;const a=Kn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const x=dl(d),g=dl(a.clientWidth-(u+f)),p=dl(a.clientHeight-(d+h)),w=dl(u),y={rootMargin:-x+"px "+-g+"px "+-p+"px "+-w+"px",threshold:Gt(0,is(1,c))||1};let b=!0;function j(N){const C=N[0].intersectionRatio;if(C!==c){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,y)}n.observe(e)}return i(!0),o}function IE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=cm(e),d=a||o?[...u?fi(u):[],...fi(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&l?DE(u,n):null;let h=-1,x=null;i&&(x=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let g,p=c?Ws(e):null;c&&w();function w(){const v=Ws(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&n(),p=v,g=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(y=>{a&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(v=x)==null||v.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const LE=pE,$E=gE,FE=fE,BE=vE,zE=hE,Mg=dE,UE=xE,WE=(e,t,n)=>{const r=new Map,a={platform:OE,...n},o={...a.platform,_c:r};return uE(e,t,{...a,platform:o})};var $l=typeof document<"u"?m.useLayoutEffect:m.useEffect;function mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!mc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function cw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Og(e,t){const n=cw(e);return Math.round(t*n)/n}function nd(e){const t=m.useRef(e);return $l(()=>{t.current=e}),t}function HE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,x]=m.useState(r);mc(h,r)||x(r);const[g,p]=m.useState(null),[w,v]=m.useState(null),y=m.useCallback(S=>{S!==C.current&&(C.current=S,p(S))},[]),b=m.useCallback(S=>{S!==k.current&&(k.current=S,v(S))},[]),j=o||g,N=i||w,C=m.useRef(null),k=m.useRef(null),T=m.useRef(d),$=c!=null,M=nd(c),I=nd(a),R=nd(u),F=m.useCallback(()=>{if(!C.current||!k.current)return;const S={placement:t,strategy:n,middleware:h};I.current&&(S.platform=I.current),WE(C.current,k.current,S).then(O=>{const B={...O,isPositioned:R.current!==!1};E.current&&!mc(T.current,B)&&(T.current=B,Qs.flushSync(()=>{f(B)}))})},[h,t,n,I,R]);$l(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const E=m.useRef(!1);$l(()=>(E.current=!0,()=>{E.current=!1}),[]),$l(()=>{if(j&&(C.current=j),N&&(k.current=N),j&&N){if(M.current)return M.current(j,N,F);F()}},[j,N,F,M,$]);const P=m.useMemo(()=>({reference:C,floating:k,setReference:y,setFloating:b}),[y,b]),_=m.useMemo(()=>({reference:j,floating:N}),[j,N]),A=m.useMemo(()=>{const S={position:n,left:0,top:0};if(!_.floating)return S;const O=Og(_.floating,d.x),B=Og(_.floating,d.y);return l?{...S,transform:"translate("+O+"px, "+B+"px)",...cw(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:B}},[n,l,_.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:F,refs:P,elements:_,floatingStyles:A}),[d,F,P,_,A])}const VE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mg({element:r.current,padding:a}).fn(n):{}:r?Mg({element:r,padding:a}).fn(n):{}}}},qE=(e,t)=>({...LE(e),options:[e,t]}),GE=(e,t)=>({...$E(e),options:[e,t]}),YE=(e,t)=>({...UE(e),options:[e,t]}),QE=(e,t)=>({...FE(e),options:[e,t]}),KE=(e,t)=>({...BE(e),options:[e,t]}),JE=(e,t)=>({...zE(e),options:[e,t]}),XE=(e,t)=>({...VE(e),options:[e,t]});var ZE="Arrow",uw=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return s.jsx(le.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});uw.displayName=ZE;var eT=uw;function tT(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:x,...g}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function d(f,h){const x=(h==null?void 0:h[e][c])||l,g=m.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,nT(a,...t)]}function nT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function um(e){const[t,n]=m.useState(void 0);return ut(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var dm="Popper",[dw,Kc]=tT(dm),[rT,fw]=dw(dm),hw=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return s.jsx(rT,{scope:t,anchor:r,onAnchorChange:a,children:n})};hw.displayName=dm;var mw="PopperAnchor",pw=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=fw(mw,n),i=m.useRef(null),l=be(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:s.jsx(le.div,{...a,ref:l})});pw.displayName=mw;var fm="PopperContent",[sT,aT]=dw(fm),gw=m.forwardRef((e,t)=>{var te,ue,Te,Y,Q,q;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:x="optimized",onPlaced:g,...p}=e,w=fw(fm,n),[v,y]=m.useState(null),b=be(t,se=>y(se)),[j,N]=m.useState(null),C=um(j),k=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,$=r+(o!=="center"?"-"+o:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],R=I.length>0,F={padding:M,boundary:I.filter(iT),altBoundary:R},{refs:E,floatingStyles:P,placement:_,isPositioned:A,middlewareData:S}=HE({strategy:"fixed",placement:$,whileElementsMounted:(...se)=>IE(...se,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[qE({mainAxis:a+T,alignmentAxis:i}),c&&GE({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?YE():void 0,...F}),c&&QE({...F}),KE({...F,apply:({elements:se,rects:de,availableWidth:ge,availableHeight:he})=>{const{width:Se,height:Me}=de.reference,je=se.floating.style;je.setProperty("--radix-popper-available-width",`${ge}px`),je.setProperty("--radix-popper-available-height",`${he}px`),je.setProperty("--radix-popper-anchor-width",`${Se}px`),je.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),j&&XE({element:j,padding:l}),lT({arrowWidth:k,arrowHeight:T}),h&&JE({strategy:"referenceHidden",...F})]}),[O,B]=yw(_),z=rt(g);ut(()=>{A&&(z==null||z())},[A,z]);const X=(te=S.arrow)==null?void 0:te.x,ce=(ue=S.arrow)==null?void 0:ue.y,V=((Te=S.arrow)==null?void 0:Te.centerOffset)!==0,[oe,K]=m.useState();return ut(()=>{v&&K(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:A?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(Y=S.transformOrigin)==null?void 0:Y.x,(Q=S.transformOrigin)==null?void 0:Q.y].join(" "),...((q=S.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(sT,{scope:n,placedSide:O,onArrowChange:N,arrowX:X,arrowY:ce,shouldHideArrow:V,children:s.jsx(le.div,{"data-side":O,"data-align":B,...p,ref:b,style:{...p.style,animation:A?void 0:"none"}})})})});gw.displayName=fm;var xw="PopperArrow",oT={top:"bottom",right:"left",bottom:"top",left:"right"},vw=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=aT(xw,r),i=oT[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(eT,{...a,ref:n,style:{...a.style,display:"block"}})})});vw.displayName=xw;function iT(e){return e!==null}var lT=e=>({name:"transformOrigin",options:e,fn(t){var w,v,y;const{placement:n,rects:r,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=yw(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,x=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?f:`${h}px`,p=`${-c}px`):u==="top"?(g=i?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?f:`${x}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=i?f:`${x}px`),{data:{x:g,y:p}}}});function yw(e){const[t,n="center"]=e.split("-");return[t,n]}var ww=hw,bw=pw,jw=gw,Nw=vw,[Jc,dL]=Qn("Tooltip",[Kc]),Xc=Kc(),_w="TooltipProvider",cT=700,kf="tooltip.open",[uT,hm]=Jc(_w),Sw=e=>{const{__scopeTooltip:t,delayDuration:n=cT,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(uT,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:o})};Sw.displayName=_w;var Zc="Tooltip",[dT,eu]=Jc(Zc),kw=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=hm(Zc,e.__scopeTooltip),u=Xc(t),[d,f]=m.useState(null),h=cr(),x=m.useRef(0),g=i??c.disableHoverableContent,p=l??c.delayDuration,w=m.useRef(!1),[v=!1,y]=pr({prop:r,defaultProp:a,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(kf))):c.onClose(),o==null||o(k)}}),b=m.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),j=m.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,y(!0)},[y]),N=m.useCallback(()=>{window.clearTimeout(x.current),x.current=0,y(!1)},[y]),C=m.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,y(!0),x.current=0},p)},[p,y]);return m.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(ww,{...u,children:s.jsx(dT,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?C():j()},[c.isOpenDelayed,C,j]),onTriggerLeave:m.useCallback(()=>{g?N():(window.clearTimeout(x.current),x.current=0)},[N,g]),onOpen:j,onClose:N,disableHoverableContent:g,children:n})})};kw.displayName=Zc;var Cf="TooltipTrigger",Cw=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=eu(Cf,n),o=hm(Cf,n),i=Xc(n),l=m.useRef(null),c=be(t,l,a.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(bw,{asChild:!0,...i,children:s.jsx(le.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ee(e.onBlur,a.onClose),onClick:ee(e.onClick,a.onClose)})})});Cw.displayName=Cf;var fT="TooltipPortal",[fL,hT]=Jc(fT,{forceMount:void 0}),Ka="TooltipContent",Ew=m.forwardRef((e,t)=>{const n=hT(Ka,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,i=eu(Ka,e.__scopeTooltip);return s.jsx(Pn,{present:r||i.open,children:i.disableHoverableContent?s.jsx(Tw,{side:a,...o,ref:t}):s.jsx(mT,{side:a,...o,ref:t})})}),mT=m.forwardRef((e,t)=>{const n=eu(Ka,e.__scopeTooltip),r=hm(Ka,e.__scopeTooltip),a=m.useRef(null),o=be(t,a),[i,l]=m.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{l(null),f(!1)},[f]),x=m.useCallback((g,p)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},y=vT(v,w.getBoundingClientRect()),b=yT(v,y),j=wT(p.getBoundingClientRect()),N=jT([...b,...j]);l(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const g=w=>x(w,d),p=w=>x(w,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,x,h]),m.useEffect(()=>{if(i){const g=p=>{const w=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!bT(v,i);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,h]),s.jsx(Tw,{...e,ref:o})}),[pT,gT]=Jc(Zc,{isInside:!1}),Tw=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=eu(Ka,n),u=Xc(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(kf,d),()=>document.removeEventListener(kf,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const x=h.target;x!=null&&x.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Ti,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(jw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Kh,{children:r}),s.jsx(pT,{scope:n,isInside:!0,children:s.jsx(nC,{id:c.contentId,role:"tooltip",children:a||r})})]})})});Ew.displayName=Ka;var Pw="TooltipArrow",xT=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Xc(n);return gT(Pw,n).isInside?null:s.jsx(Nw,{...a,...r,ref:t})});xT.displayName=Pw;function vT(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yT(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function wT(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function bT(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function jT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),NT(t)}function NT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _T=Sw,ST=kw,kT=Cw,Rw=Ew;const mm=_T,Aw=ST,Mw=kT,pm=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Rw,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));pm.displayName=Rw.displayName;var tu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nu=typeof window>"u"||"Deno"in globalThis;function gn(){}function CT(e,t){return typeof e=="function"?e(t):e}function ET(e){return typeof e=="number"&&e>=0&&e!==1/0}function TT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Dg(e,t){return typeof e=="function"?e(t):e}function PT(e,t){return typeof e=="function"?e(t):e}function Ig(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==gm(i,t.options))return!1}else if(!mi(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function Lg(e,t){const{exact:n,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(hi(t.options.mutationKey)!==hi(o))return!1}else if(!mi(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function gm(e,t){return((t==null?void 0:t.queryKeyHashFn)||hi)(e)}function hi(e){return JSON.stringify(e,(t,n)=>Ef(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function mi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!mi(e[n],t[n])):!1}function Ow(e,t){if(e===t)return e;const n=$g(e)&&$g(t);if(n||Ef(e)&&Ef(t)){const r=n?e:Object.keys(e),a=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Ow(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function $g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ef(e){if(!Fg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Fg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fg(e){return Object.prototype.toString.call(e)==="[object Object]"}function RT(e){return new Promise(t=>{setTimeout(t,e)})}function AT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ow(e,t):t}function MT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function OT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var xm=Symbol();function Dw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ts,Fr,Ma,Ux,DT=(Ux=class extends tu{constructor(){super();Pe(this,Ts);Pe(this,Fr);Pe(this,Ma);we(this,Ma,t=>{if(!nu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Fr)||this.setEventListener(U(this,Ma))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Fr))==null||t.call(this),we(this,Fr,void 0))}setEventListener(t){var n;we(this,Ma,t),(n=U(this,Fr))==null||n.call(this),we(this,Fr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,Ts)!==t&&(we(this,Ts,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,Ts)=="boolean"?U(this,Ts):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ts=new WeakMap,Fr=new WeakMap,Ma=new WeakMap,Ux),Iw=new DT,Oa,Br,Da,Wx,IT=(Wx=class extends tu{constructor(){super();Pe(this,Oa,!0);Pe(this,Br);Pe(this,Da);we(this,Da,t=>{if(!nu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Br)||this.setEventListener(U(this,Da))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Br))==null||t.call(this),we(this,Br,void 0))}setEventListener(t){var n;we(this,Da,t),(n=U(this,Br))==null||n.call(this),we(this,Br,t(this.setOnline.bind(this)))}setOnline(t){U(this,Oa)!==t&&(we(this,Oa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Oa)}},Oa=new WeakMap,Br=new WeakMap,Da=new WeakMap,Wx),pc=new IT;function LT(){let e,t;const n=new Promise((a,o)=>{e=a,t=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function $T(e){return Math.min(1e3*2**e,3e4)}function Lw(e){return(e??"online")==="online"?pc.isOnline():!0}var $w=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rd(e){return e instanceof $w}function Fw(e){let t=!1,n=0,r=!1,a;const o=LT(),i=p=>{var w;r||(h(new $w(p)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Iw.isFocused()&&(e.networkMode==="always"||pc.isOnline())&&e.canRun(),d=()=>Lw(e.networkMode)&&e.canRun(),f=p=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,p),a==null||a(),o.resolve(p))},h=p=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,p),a==null||a(),o.reject(p))},x=()=>new Promise(p=>{var w;a=v=>{(r||u())&&p(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(r)return;let p;const w=n===0?e.initialPromise:void 0;try{p=w??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var C;if(r)return;const y=e.retry??(nu?0:3),b=e.retryDelay??$T,j=typeof b=="function"?b(n,v):b,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!N){h(v);return}n++,(C=e.onFail)==null||C.call(e,n,v),RT(j).then(()=>u()?void 0:x()).then(()=>{t?h(v):g()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():x().then(g),o)}}function FT(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Rt=FT(),Ps,Hx,Bw=(Hx=class{constructor(){Pe(this,Ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ET(this.gcTime)&&we(this,Ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nu?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ps)&&(clearTimeout(U(this,Ps)),we(this,Ps,void 0))}},Ps=new WeakMap,Hx),Ia,La,en,_t,ji,Rs,xn,er,Vx,BT=(Vx=class extends Bw{constructor(t){super();Pe(this,xn);Pe(this,Ia);Pe(this,La);Pe(this,en);Pe(this,_t);Pe(this,ji);Pe(this,Rs);we(this,Rs,!1),we(this,ji,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,en,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,Ia,UT(this.options)),this.state=t.state??U(this,Ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,_t))==null?void 0:t.promise}setOptions(t){this.options={...U(this,ji),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,en).remove(this)}setData(t,n){const r=AT(this.state.data,t,this.options);return bt(this,xn,er).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){bt(this,xn,er).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=U(this,_t))==null?void 0:r.promise;return(a=U(this,_t))==null||a.cancel(t),n?n.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ia))}isActive(){return this.observers.some(t=>PT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!TT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,_t))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,_t))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,en).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,_t)&&(U(this,Rs)?U(this,_t).cancel({revert:!0}):U(this,_t).cancelRetry()),this.scheduleGc()),U(this,en).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,xn,er).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,_t))return U(this,_t).continueRetry(),U(this,_t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(we(this,Rs,!0),r.signal)})},o=()=>{const f=Dw(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return a(h),we(this,Rs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),we(this,La,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&bt(this,xn,er).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,x,g,p;rd(f)&&f.silent||bt(this,xn,er).call(this,{type:"error",error:f}),rd(f)||((x=(h=U(this,en).config).onError)==null||x.call(h,f,this),(p=(g=U(this,en).config).onSettled)==null||p.call(g,this.state.data,f,this)),this.scheduleGc()};return we(this,_t,Fw({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,x,g,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(x=(h=U(this,en).config).onSuccess)==null||x.call(h,f,this),(p=(g=U(this,en).config).onSettled)==null||p.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{bt(this,xn,er).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{bt(this,xn,er).call(this,{type:"pause"})},onContinue:()=>{bt(this,xn,er).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),U(this,_t).start()}},Ia=new WeakMap,La=new WeakMap,en=new WeakMap,_t=new WeakMap,ji=new WeakMap,Rs=new WeakMap,xn=new WeakSet,er=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zT(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return rd(a)&&a.revert&&U(this,La)?{...U(this,La),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Rt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,en).notify({query:this,type:"updated",action:t})})},Vx);function zT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function UT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $n,qx,WT=(qx=class extends tu{constructor(t={}){super();Pe(this,$n);this.config=t,we(this,$n,new Map)}build(t,n,r){const a=n.queryKey,o=n.queryHash??gm(a,n);let i=this.get(o);return i||(i=new BT({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){U(this,$n).has(t.queryHash)||(U(this,$n).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,$n).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,$n).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,$n).get(t)}getAll(){return[...U(this,$n).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ig(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Ig(t,r)):n}notify(t){Rt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$n=new WeakMap,qx),Fn,Tt,As,Bn,Er,Gx,HT=(Gx=class extends Bw{constructor(t){super();Pe(this,Bn);Pe(this,Fn);Pe(this,Tt);Pe(this,As);this.mutationId=t.mutationId,we(this,Tt,t.mutationCache),we(this,Fn,[]),this.state=t.state||VT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Fn).includes(t)||(U(this,Fn).push(t),this.clearGcTimeout(),U(this,Tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Fn,U(this,Fn).filter(n=>n!==t)),this.scheduleGc(),U(this,Tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Fn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Tt).remove(this))}continue(){var t;return((t=U(this,As))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,c,u,d,f,h,x,g,p,w,v,y,b,j,N,C,k;we(this,As,Fw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,$)=>{bt(this,Bn,Er).call(this,{type:"failed",failureCount:T,error:$})},onPause:()=>{bt(this,Bn,Er).call(this,{type:"pause"})},onContinue:()=>{bt(this,Bn,Er).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Tt).canRun(this)}));const n=this.state.status==="pending",r=!U(this,As).canStart();try{if(!n){bt(this,Bn,Er).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(a=U(this,Tt).config).onMutate)==null?void 0:o.call(a,t,this));const $=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));$!==this.state.context&&bt(this,Bn,Er).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const T=await U(this,As).start();return await((u=(c=U(this,Tt).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,T,t,this.state.context)),await((x=(h=U(this,Tt).config).onSettled)==null?void 0:x.call(h,T,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,T,null,t,this.state.context)),bt(this,Bn,Er).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(w=U(this,Tt).config).onError)==null?void 0:v.call(w,T,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,T,t,this.state.context)),await((N=(j=U(this,Tt).config).onSettled)==null?void 0:N.call(j,void 0,T,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,T,t,this.state.context)),T}finally{bt(this,Bn,Er).call(this,{type:"error",error:T})}}finally{U(this,Tt).runNext(this)}}},Fn=new WeakMap,Tt=new WeakMap,As=new WeakMap,Bn=new WeakSet,Er=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Rt.batch(()=>{U(this,Fn).forEach(r=>{r.onMutationUpdate(t)}),U(this,Tt).notify({mutation:this,type:"updated",action:t})})},Gx);function VT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ht,Ni,Yx,qT=(Yx=class extends tu{constructor(t={}){super();Pe(this,Ht);Pe(this,Ni);this.config=t,we(this,Ht,new Map),we(this,Ni,Date.now())}build(t,n,r){const a=new HT({mutationCache:this,mutationId:++Hi(this,Ni)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=fl(t),r=U(this,Ht).get(n)??[];r.push(t),U(this,Ht).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=fl(t);if(U(this,Ht).has(n)){const a=(r=U(this,Ht).get(n))==null?void 0:r.filter(o=>o!==t);a&&(a.length===0?U(this,Ht).delete(n):U(this,Ht).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=U(this,Ht).get(fl(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=U(this,Ht).get(fl(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,Ht).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Lg(n,r))}findAll(t={}){return this.getAll().filter(n=>Lg(t,n))}notify(t){Rt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Rt.batch(()=>Promise.all(t.map(n=>n.continue().catch(gn))))}},Ht=new WeakMap,Ni=new WeakMap,Yx);function fl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Bg(e){return{onFetch:(t,n)=>{var d,f,h,x,g;const r=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=Dw(t.options,t.fetchOptions),y=async(b,j,N)=>{if(p)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};w(C);const k=await v(C),{maxPages:T}=t.options,$=N?OT:MT;return{pages:$(b.pages,k,T),pageParams:$(b.pageParams,j,T)}};if(a&&o.length){const b=a==="backward",j=b?GT:zg,N={pages:o,pageParams:i},C=j(r,N);l=await y(N,C,b)}else{const b=e??o.length;do{const j=c===0?i[0]??r.initialPageParam:zg(r,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,w;return(w=(p=t.options).persister)==null?void 0:w.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function zg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function GT(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ze,zr,Ur,$a,Fa,Wr,Ba,za,Qx,YT=(Qx=class{constructor(e={}){Pe(this,Ze);Pe(this,zr);Pe(this,Ur);Pe(this,$a);Pe(this,Fa);Pe(this,Wr);Pe(this,Ba);Pe(this,za);we(this,Ze,e.queryCache||new WT),we(this,zr,e.mutationCache||new qT),we(this,Ur,e.defaultOptions||{}),we(this,$a,new Map),we(this,Fa,new Map),we(this,Wr,0)}mount(){Hi(this,Wr)._++,U(this,Wr)===1&&(we(this,Ba,Iw.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ze).onFocus())})),we(this,za,pc.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ze).onOnline())})))}unmount(){var e,t;Hi(this,Wr)._--,U(this,Wr)===0&&((e=U(this,Ba))==null||e.call(this),we(this,Ba,void 0),(t=U(this,za))==null||t.call(this),we(this,za,void 0))}isFetching(e){return U(this,Ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,zr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Ze).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,Ze).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Dg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,Ze).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=U(this,Ze).get(r.queryHash),o=a==null?void 0:a.state.data,i=CT(t,o);if(i!==void 0)return U(this,Ze).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Rt.batch(()=>U(this,Ze).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Ze).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,Ze);Rt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,Ze),r={type:"active",...e};return Rt.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Rt.batch(()=>U(this,Ze).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(gn).catch(gn)}invalidateQueries(e={},t={}){return Rt.batch(()=>{if(U(this,Ze).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Rt.batch(()=>U(this,Ze).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(gn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(gn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,Ze).build(this,t);return n.isStaleByTime(Dg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gn).catch(gn)}fetchInfiniteQuery(e){return e.behavior=Bg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gn).catch(gn)}ensureInfiniteQueryData(e){return e.behavior=Bg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pc.isOnline()?U(this,zr).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ze)}getMutationCache(){return U(this,zr)}getDefaultOptions(){return U(this,Ur)}setDefaultOptions(e){we(this,Ur,e)}setQueryDefaults(e,t){U(this,$a).set(hi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,$a).values()];let n={};return t.forEach(r=>{mi(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){U(this,Fa).set(hi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Fa).values()];let n={};return t.forEach(r=>{mi(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Ur).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===xm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Ur).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Ze).clear(),U(this,zr).clear()}},Ze=new WeakMap,zr=new WeakMap,Ur=new WeakMap,$a=new WeakMap,Fa=new WeakMap,Wr=new WeakMap,Ba=new WeakMap,za=new WeakMap,Qx),QT=m.createContext(void 0),KT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(QT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const Ug="popstate";function JT(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return Tf("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:gc(a)}return ZT(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XT(){return Math.random().toString(36).substr(2,8)}function Wg(e,t){return{usr:e.state,key:e.key,idx:t}}function Tf(e,t,n,r){return n===void 0&&(n=null),pi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oo(t):t,{state:n,key:t&&t.key||r||XT()})}function gc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZT(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=qr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(pi({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=qr.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:p.location,delta:v})}function h(w,v){l=qr.Push;let y=Tf(p.location,w,v);u=d()+1;let b=Wg(y,u),j=p.createHref(y);try{i.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}o&&c&&c({action:l,location:p.location,delta:1})}function x(w,v){l=qr.Replace;let y=Tf(p.location,w,v);u=d();let b=Wg(y,u),j=p.createHref(y);i.replaceState(b,"",j),o&&c&&c({action:l,location:p.location,delta:0})}function g(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof w=="string"?w:gc(w);return y=y.replace(/ $/,"%20"),ot(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return l},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ug,f),c=w,()=>{a.removeEventListener(Ug,f),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:x,go(w){return i.go(w)}};return p}var Hg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hg||(Hg={}));function eP(e,t,n){return n===void 0&&(n="/"),tP(e,t,n,!1)}function tP(e,t,n,r){let a=typeof t=="string"?oo(t):t,o=vm(a.pathname||"/",n);if(o==null)return null;let i=Uw(e);nP(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=hP(o);l=dP(i[c],u,r)}return l}function Uw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ns([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Uw(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:cP(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of Ww(o.path))a(o,i,c)}),t}function Ww(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=Ww(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rP=/^:[\w-]+$/,sP=3,aP=2,oP=1,iP=10,lP=-2,Vg=e=>e==="*";function cP(e,t){let n=e.split("/"),r=n.length;return n.some(Vg)&&(r+=lP),t&&(r+=aP),n.filter(a=>!Vg(a)).reduce((a,o)=>a+(rP.test(o)?sP:o===""?oP:iP),r)}function uP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function dP(e,t,n){let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:ns([o,f.pathname]),pathnameBase:xP(ns([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ns([o,f.pathnameBase]))}return i}function qg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fP(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:x}=d;if(h==="*"){let p=l[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return x&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function fP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function hP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?oo(e):e;return{pathname:n?n.startsWith("/")?n:pP(n,t):t,search:vP(r),hash:yP(a)}}function pP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ym(e,t){let n=gP(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wm(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=oo(e):(a=pi({},e),ot(!a.pathname||!a.pathname.includes("?"),sd("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),sd("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),sd("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=mP(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ns=e=>e.join("/").replace(/\/\/+/g,"/"),xP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hw=["post","put","patch","delete"];new Set(Hw);const bP=["get",...Hw];new Set(bP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(this,arguments)}const bm=m.createContext(null),jP=m.createContext(null),ps=m.createContext(null),ru=m.createContext(null),gs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Vw=m.createContext(null);function NP(e,t){let{relative:n}=t===void 0?{}:t;io()||ot(!1);let{basename:r,navigator:a}=m.useContext(ps),{hash:o,pathname:i,search:l}=Gw(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:ns([r,i])),a.createHref({pathname:c,search:l,hash:o})}function io(){return m.useContext(ru)!=null}function br(){return io()||ot(!1),m.useContext(ru).location}function qw(e){m.useContext(ps).static||m.useLayoutEffect(e)}function st(){let{isDataRoute:e}=m.useContext(gs);return e?IP():_P()}function _P(){io()||ot(!1);let e=m.useContext(bm),{basename:t,future:n,navigator:r}=m.useContext(ps),{matches:a}=m.useContext(gs),{pathname:o}=br(),i=JSON.stringify(ym(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return qw(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=wm(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ns([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function Gw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(ps),{matches:a}=m.useContext(gs),{pathname:o}=br(),i=JSON.stringify(ym(a,r.v7_relativeSplatPath));return m.useMemo(()=>wm(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function SP(e,t){return kP(e,t)}function kP(e,t,n,r){io()||ot(!1);let{navigator:a}=m.useContext(ps),{matches:o}=m.useContext(gs),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=br(),d;if(t){var f;let w=typeof t=="string"?oo(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||ot(!1),d=w}else d=u;let h=d.pathname||"/",x=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=eP(e,{pathname:x}),p=RP(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ns([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ns([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&p?m.createElement(ru.Provider,{value:{location:gi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qr.Pop}},p):p}function CP(){let e=DP(),t=wP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const EP=m.createElement(CP,null);class TP extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(gs.Provider,{value:this.props.routeContext},m.createElement(Vw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PP(e){let{routeContext:t,match:n,children:r}=e,a=m.useContext(bm);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(gs.Provider,{value:t},r)}function RP(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ot(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:x}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let x,g=!1,p=null,w=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||EP,c&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),y=()=>{let b;return x?b=p:g?b=w:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(PP,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(TP,{location:n.location,revalidation:n.revalidation,component:p,error:x,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Yw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yw||{}),xc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xc||{});function AP(e){let t=m.useContext(bm);return t||ot(!1),t}function MP(e){let t=m.useContext(jP);return t||ot(!1),t}function OP(e){let t=m.useContext(gs);return t||ot(!1),t}function Qw(e){let t=OP(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function DP(){var e;let t=m.useContext(Vw),n=MP(xc.UseRouteError),r=Qw(xc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function IP(){let{router:e}=AP(Yw.UseNavigateStable),t=Qw(xc.UseNavigateStable),n=m.useRef(!1);return qw(()=>{n.current=!0}),m.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,gi({fromRouteId:t},o)))},[e,t])}function LP(e){let{to:t,replace:n,state:r,relative:a}=e;io()||ot(!1);let{future:o,static:i}=m.useContext(ps),{matches:l}=m.useContext(gs),{pathname:c}=br(),u=st(),d=wm(t,ym(l,o.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function Ve(e){ot(!1)}function $P(e){let{basename:t="/",children:n=null,location:r,navigationType:a=qr.Pop,navigator:o,static:i=!1,future:l}=e;io()&&ot(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:gi({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=oo(r));let{pathname:d="/",search:f="",hash:h="",state:x=null,key:g="default"}=r,p=m.useMemo(()=>{let w=vm(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:x,key:g},navigationType:a}},[c,d,f,h,x,g,a]);return p==null?null:m.createElement(ps.Provider,{value:u},m.createElement(ru.Provider,{children:n,value:p}))}function FP(e){let{children:t,location:n}=e;return SP(Pf(t),n)}new Promise(()=>{});function Pf(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let o=[...t,a];if(r.type===m.Fragment){n.push.apply(n,Pf(r.props.children,o));return}r.type!==Ve&&ot(!1),!r.props.index||!r.props.children||ot(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Pf(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}function BP(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function zP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UP(e,t){return e.button===0&&(!t||t==="_self")&&!zP(e)}function Af(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function WP(e,t){let n=Af(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}const HP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VP="6";try{window.__reactRouterVersion=VP}catch{}const qP="startTransition",Gg=iv[qP];function GP(e){let{basename:t,children:n,future:r,window:a}=e,o=m.useRef();o.current==null&&(o.current=JT({window:a,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&Gg?Gg(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement($P,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const YP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=m.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=BP(t,HP),{basename:x}=m.useContext(ps),g,p=!1;if(typeof u=="string"&&QP.test(u)&&(g=u,YP))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=vm(j.pathname,x);j.origin===b.origin&&N!=null?u=N+j.search+j.hash:p=!0}catch{}let w=NP(u,{relative:a}),v=KP(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||v(b)}return m.createElement("a",Rf({},h,{href:g||w,onClick:p||o?r:y,ref:n,target:c}))});var Yg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yg||(Yg={}));var Qg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qg||(Qg={}));function KP(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=st(),u=br(),d=Gw(e,{relative:i});return m.useCallback(f=>{if(UP(f,n)){f.preventDefault();let h=r!==void 0?r:gc(u)===gc(d);c(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,a,n,e,o,i,l])}function JP(e){let t=m.useRef(Af(e)),n=m.useRef(!1),r=br(),a=m.useMemo(()=>WP(r.search,n.current?null:t.current),[r.search]),o=st(),i=m.useCallback((l,c)=>{const u=Af(typeof l=="function"?l(a):l);n.current=!0,o("?"+u,c)},[o,a]);return[a,i]}const XP="modulepreload",ZP=function(e){return"/"+e},Kg={},Ja=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=ZP(c),c in Kg)return;Kg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":XP,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,x)=>{f.addEventListener("load",h),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},eR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ja(async()=>{const{default:r}=await Promise.resolve().then(()=>lo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class jm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class tR extends jm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nR extends jm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rR extends jm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mf||(Mf={}));var sR=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class aR{constructor(t,{headers:n={},customFetch:r,region:a=Mf.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=eR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return sR(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new tR(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new nR(d);if(!d.ok)throw new rR(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return h==="application/json"?x=yield d.json():h==="application/octet-stream"?x=yield d.blob():h==="text/event-stream"?x=d:h==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var $t={},Nm={},su={},Mi={},au={},ou={},oR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xa=oR();const iR=Xa.fetch,Kw=Xa.fetch.bind(Xa),Jw=Xa.Headers,lR=Xa.Request,cR=Xa.Response,lo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jw,Request:lR,Response:cR,default:Kw,fetch:iR},Symbol.toStringTag,{value:"Module"})),uR=e_(lo);var iu={};Object.defineProperty(iu,"__esModule",{value:!0});let dR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};iu.default=dR;var Xw=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ou,"__esModule",{value:!0});const fR=Xw(uR),hR=Xw(iu);let mR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=fR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await o.text();try{u=JSON.parse(p),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,x="OK")}catch{o.status===404&&p===""?(h=204,x="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,x="OK"),u&&this.shouldThrowOnError)throw new hR.default(u)}return{error:u,data:d,count:f,status:h,statusText:x}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};ou.default=mR;var pR=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(au,"__esModule",{value:!0});const gR=pR(ou);let xR=class extends gR.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};au.default=xR;var vR=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const yR=vR(au);let wR=class extends yR.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Mi.default=wR;var bR=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(su,"__esModule",{value:!0});const _o=bR(Mi);let jR=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _o.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new _o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};su.default=jR;var lu={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.version=void 0;cu.version="0.0.0-automated";Object.defineProperty(lu,"__esModule",{value:!0});lu.DEFAULT_HEADERS=void 0;const NR=cu;lu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${NR.version}`};var Zw=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nm,"__esModule",{value:!0});const _R=Zw(su),SR=Zw(Mi),kR=lu;let CR=class eb{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},kR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new _R.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new eb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||a?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new SR.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nm.default=CR;var co=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($t,"__esModule",{value:!0});$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const tb=co(Nm);$t.PostgrestClient=tb.default;const nb=co(su);$t.PostgrestQueryBuilder=nb.default;const rb=co(Mi);$t.PostgrestFilterBuilder=rb.default;const sb=co(au);$t.PostgrestTransformBuilder=sb.default;const ab=co(ou);$t.PostgrestBuilder=ab.default;const ob=co(iu);$t.PostgrestError=ob.default;var ER=$t.default={PostgrestClient:tb.default,PostgrestQueryBuilder:nb.default,PostgrestFilterBuilder:rb.default,PostgrestTransformBuilder:sb.default,PostgrestBuilder:ab.default,PostgrestError:ob.default};const{PostgrestClient:TR,PostgrestQueryBuilder:vL,PostgrestFilterBuilder:yL,PostgrestTransformBuilder:wL,PostgrestBuilder:bL,PostgrestError:jL}=ER,PR="2.11.2",RR={"X-Client-Info":`realtime-js/${PR}`},AR="1.0.0",ib=1e4,MR=1e3;var Pa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pa||(Pa={}));var Wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wt||(Wt={}));var wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wn||(wn={}));var Of;(function(e){e.websocket="websocket"})(Of||(Of={}));var Ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ss||(Ss={}));class OR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+a));i=i+a;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class lb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($e||($e={}));const Jg=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=DR(i,e,t,a),o),{})},DR=(e,t,n,r)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=n[e];return o&&!r.includes(o)?cb(o,i):Df(i)},cb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return FR(t,n)}switch(e){case $e.bool:return IR(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return LR(t);case $e.json:case $e.jsonb:return $R(t);case $e.timestamp:return BR(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Df(t);default:return Df(t)}},Df=e=>e,IR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$R=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>cb(t,l))}return e},BR=e=>typeof e=="string"?e.replace(" ","T"):e,ub=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ad{constructor(t,n,r={},a=ib){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xg||(Xg={}));class Vo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vo.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=Vo.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vo.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),x=f.map(w=>w.presence_ref),g=d.filter(w=>x.indexOf(w.presence_ref)<0),p=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(x=>x.presence_ref),h=d.filter(x=>f.indexOf(x.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zg||(Zg={}));var ex;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ex||(ex={}));var nr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class _m{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,wn.join,this.params,this.timeout),this.rejoinTimer=new lb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Vo(this),this.broadcastEndpointURL=ub(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(nr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(nr.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(nr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,x=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<x;p++){const w=h[p],{filter:{event:v,schema:y,table:b,filter:j}}=w,N=d&&d[p];if(N&&N.event===v&&N.schema===y&&N.table===b&&N.filter===j)g.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),t==null||t(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(nr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new ad(this,wn.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ad(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=wn;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var g,p,w;return((g=x.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(p=x.filter)===null||p===void 0?void 0:p.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(x=>x.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(x=>{var g,p,w,v,y,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in x){const j=x.id,N=(g=x.filter)===null||g===void 0?void 0:g.event;return j&&((p=n.ids)===null||p===void 0?void 0:p.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(v=x==null?void 0:x.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===i}).map(x=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:w,commit_timestamp:v,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}x.callback(h,r)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&_m.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Jg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Jg(t.columns,t.old_record)),n}}const zR=()=>{},UR=typeof WebSocket<"u",WR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=RR,this.params={},this.timeout=ib,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zR,this.conn=null,this.sendBuffer=[],this.serializer=new OR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Ja(async()=>{const{default:c}=await Promise.resolve().then(()=>lo);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Of.websocket}`,this.httpEndpoint=ub(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(UR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new VR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ja(async()=>{const{default:t}=await import("./browser-jkbGhsdD.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AR}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pa.connecting:return Ss.Connecting;case Pa.open:return Ss.Open;case Pa.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}channel(t,n={config:{}}){const r=new _m(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(wn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(MR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([WR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class VR{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Sm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qR extends Sm{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class If extends Sm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var GR=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const db=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ja(async()=>{const{default:r}=await Promise.resolve().then(()=>lo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},YR=()=>GR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ja(()=>Promise.resolve().then(()=>lo),void 0)).Response:Response}),Lf=e=>{if(Array.isArray(e))return e.map(n=>Lf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Lf(r)}),t};var Js=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const od=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QR=(e,t,n)=>Js(void 0,void 0,void 0,function*(){const r=yield YR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new qR(od(a),e.status||500))}).catch(a=>{t(new If(od(a),a))}):t(new If(od(e),e))}),KR=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Oi(e,t,n,r,a,o){return Js(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,KR(t,r,a,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>QR(c,l,r))})})}function vc(e,t,n,r){return Js(this,void 0,void 0,function*(){return Oi(e,"GET",t,n,r)})}function Or(e,t,n,r,a){return Js(this,void 0,void 0,function*(){return Oi(e,"POST",t,r,a,n)})}function JR(e,t,n,r,a){return Js(this,void 0,void 0,function*(){return Oi(e,"PUT",t,r,a,n)})}function XR(e,t,n,r){return Js(this,void 0,void 0,function*(){return Oi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fb(e,t,n,r,a){return Js(this,void 0,void 0,function*(){return Oi(e,"DELETE",t,r,a,n)})}var It=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ZR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eA{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=db(a)}uploadOrUpdate(t,n,r,a){return It(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},tx),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ht(o))return{data:null,error:o};throw o}})}upload(t,n,r){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return It(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:tx.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ht(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return It(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const o=yield Or(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Sm("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}update(t,n,r){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return It(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}copy(t,n,r){return It(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return It(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Or(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return It(this,void 0,void 0,function*(){try{const a=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}download(t,n){return It(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield vc(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ht(l))return{data:null,error:l};throw l}})}info(t){return It(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lf(r),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}exists(t){return It(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield XR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ht(r)&&r instanceof If){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return It(this,void 0,void 0,function*(){try{return{data:yield fb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}list(t,n,r){return It(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ZR),n),{prefix:t||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const tA="2.7.1",nA={"X-Client-Info":`storage-js/${tA}`};var na=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class rA{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},nA),n),this.fetch=db(r)}listBuckets(){return na(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ht(t))return{data:null,error:t};throw t}})}getBucket(t){return na(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return na(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return na(this,void 0,void 0,function*(){try{return{data:yield JR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}emptyBucket(t){return na(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(t){return na(this,void 0,void 0,function*(){try{return{data:yield fb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}}class sA extends rA{constructor(t,n={},r){super(t,n,r)}from(t){return new eA(this.url,this.headers,t,this.fetch)}}const aA="2.49.4";let Ao="";typeof Deno<"u"?Ao="deno":typeof document<"u"?Ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ao="react-native":Ao="node";const oA={"X-Client-Info":`supabase-js-${Ao}/${aA}`},iA={headers:oA},lA={schema:"public"},cA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uA={};var dA=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const fA=e=>{let t;return e?t=e:typeof fetch>"u"?t=Kw:t=fetch,(...n)=>t(...n)},hA=()=>typeof Headers>"u"?Jw:Headers,mA=(e,t,n)=>{const r=fA(n),a=hA();return(o,i)=>dA(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var pA=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function gA(e){return e.replace(/\/$/,"")}function xA(e,t){const{db:n,auth:r,realtime:a,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),o),accessToken:()=>pA(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const hb="2.69.1",ca=30*1e3,$f=3,id=$f*ca,vA="http://localhost:9999",yA="supabase.auth.token",wA={"X-Client-Info":`gotrue-js/${hb}`},Ff="X-Supabase-Api-Version",mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jA=6e5;class km extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NA extends km{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _A(e){return ye(e)&&e.name==="AuthApiError"}class pb extends km{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class xs extends km{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Tr extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SA(e){return ye(e)&&e.name==="AuthSessionMissingError"}class ld extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hl extends xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ml extends xs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kA(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class nx extends xs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bf extends xs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function cd(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class rx extends xs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qo extends xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ax=` 	
\r=`.split(""),CA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ax.length;t+=1)e[ax[t].charCodeAt(0)]=-2;for(let t=0;t<sx.length;t+=1)e[sx[t].charCodeAt(0)]=t;return e})();function gb(e,t,n){const r=CA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ox(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{PA(i,r,n)};for(let i=0;i<e.length;i+=1)gb(e.charCodeAt(i),a,o);return t.join("")}function EA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}EA(r,t)}}function PA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function RA(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)gb(e.charCodeAt(a),n,r);return new Uint8Array(t)}function AA(e){const t=[];return TA(e,n=>t.push(n)),new Uint8Array(t)}function MA(e){return Math.round(Date.now()/1e3)+e}function OA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const In=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},Go=()=>{if(!In())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function DA(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const xb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ja(async()=>{const{default:r}=await Promise.resolve().then(()=>lo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},IA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gl=async(e,t)=>{await e.removeItem(t)};class uu{constructor(){this.promise=new uu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}uu.promiseConstructor=Promise;function ud(e){const t=e.split(".");if(t.length!==3)throw new qo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bA.test(t[r]))throw new qo("JWT not in base64url format");return{header:JSON.parse(ox(t[0])),payload:JSON.parse(ox(t[1])),signature:RA(t[2]),raw:{header:t[0],payload:t[1]}}}async function LA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $A(e,t){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function FA(e){return("0"+e.toString(16)).substr(-2)}function BA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,FA).join("")}async function zA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function UA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,n=!1){const r=BA();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await vb(e,`${t}-code-verifier`,a);const o=await UA(r);return[o,r===o?"plain":"s256"]}const WA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HA(e){const t=e.headers.get(Ff);if(!t||!t.match(WA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var GA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YA=[502,503,504];async function ix(e){var t;if(!IA(e))throw new Bf(Ns(e),0);if(YA.includes(e.status))throw new Bf(Ns(e),e.status);let n;try{n=await e.json()}catch(o){throw new pb(Ns(o),o)}let r;const a=HA(e);if(a&&a.getTime()>=mb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rx(Ns(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Tr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new rx(Ns(n),e.status,n.weak_password.reasons);throw new NA(Ns(n),e.status||500,r)}const QA=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function _e(e,t,n,r){var a;const o=Object.assign({},r==null?void 0:r.headers);o[Ff]||(o[Ff]=mb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await KA(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function KA(e,t,n,r,a,o){const i=QA(t,r,a,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Bf(Ns(c),0)}if(l.ok||await ix(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await ix(c)}}function Pr(e){var t;let n=null;e5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=MA(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lx(e){const t=Pr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JA(e){return{data:e,error:null}}function XA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=e,i=GA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function ZA(e){return e}function e5(e){return e.access_token&&e.refresh_token&&e.expires_in}var t5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class n5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=xb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=t5(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:XA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lr})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:ZA});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lr})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Lr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}const r5={getItem:e=>Go()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Go()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Go()&&globalThis.localStorage.removeItem(e)}};function cx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function s5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sa={debug:!!(globalThis&&Go()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a5 extends yb{}async function o5(e,t,n){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}s5();const i5={url:vA,storageKey:yA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ux(e,t,n){return await n()}class xi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xi.nextInstanceID,xi.nextInstanceID+=1,this.instanceID>0&&In()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},i5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new n5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xb(a.fetch),this.lock=a.lock||ux,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:In()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=o5:this.lock=ux,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Go()?this.storage=r5:(this.memoryStorage={},this.storage=cx(this.memoryStorage)):(this.memoryStorage={},this.storage=cx(this.memoryStorage)),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=DA(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),In()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),kA(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new pb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Pr}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,a;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await ra(this.storage,this.storageKey)),o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:x,code_challenge_method:g},xform:Pr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pr})}else throw new hl("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lx})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lx})}else throw new hl("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ld}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await pl(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:o,error:i}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Pr});if(await gl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ld}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:o,nonce:i}=t,l=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ld}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ra(this.storage,this.storageKey));const{error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new hl("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Pr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await ra(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:JA})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Tr;const{error:a}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:o}=t,{error:i}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:a,options:o}=t,{data:i,error:l}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new hl("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await pl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<id:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lr}):await this._useSession(async n=>{var r,a,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Lr})})}catch(n){if(ye(n))return SA(n)&&(await this._removeSession(),await gl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new Tr;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ra(this.storage,this.storageKey));const{data:u,error:d}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Lr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tr;const n=Date.now()/1e3;let r=n,a=!0,o=null;const{payload:i}=ud(t.access_token);if(i.exp&&(r=i.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Tr;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!In())throw new ml("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ml(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nx("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new ml("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const x=h-d;x*1e3<=ca&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:w}=await this._getUser(o);if(w)throw w;const v={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await pl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{error:o};const i=(r=a.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(_A(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await gl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=OA(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await ra(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return In()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:i}=n;if(i)throw i;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $A(async a=>(a>0&&await LA(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pr})),(a,o)=>{const i=200*Math.pow(2,a);return o&&cd(o)&&Date.now()+i-r<ca})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),In()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await pl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<id;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${id}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),cd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new uu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Tr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),ye(o)){const i={session:null,error:o};return cd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&In()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ca);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/ca);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ca}ms, refresh threshold is ${$f} ticks`),a<=$f&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!In()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ud(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+jA>Date.now()))return r;const{data:a,error:o}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new qo("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(i=>i.kid===t),!r)throw new qo("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:x,error:g}=await this.getSession();if(g||!x.session)return{data:null,error:g};r=x.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=ud(r);if(VA(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:a,signature:i},error:null}}const u=qA(a.alg),d=await this.fetchJwk(a.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,AA(`${l}.${c}`)))throw new qo("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}xi.nextInstanceID=0;const l5=xi;class c5 extends l5{constructor(t){super(t)}}var u5=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class d5{constructor(t,n,r){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=gA(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:lA,realtime:uA,auth:Object.assign(Object.assign({},cA),{storageKey:c}),global:iA},d=xA(r??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=mA(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new TR(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new aR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sA(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return u5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c5({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f5=(e,t,n)=>new d5(e,t,n),h5="https://enrjmivxwhkwticwdqmi.supabase.co",m5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVucmptaXZ4d2hrd3RpY3dkcW1pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMzU2NTAsImV4cCI6MjA2MTgxMTY1MH0.9CkLxze4gMQ5YXJqa8zFYYmj_k4sy1sx05Wttq8w3FA",W=f5(h5,m5),wb=m.createContext({session:null,user:null,profile:null,loading:!0,signOut:async()=>{},signIn:async()=>({error:null,session:null}),signUp:async()=>({error:null,user:null}),updateProfile:async()=>{}}),Ge=()=>m.useContext(wb),p5=({children:e})=>{const[t,n]=m.useState(null),[r,a]=m.useState(null),[o,i]=m.useState(null),[l,c]=m.useState(!0),u=async g=>{try{const{data:p,error:w}=await W.from("profiles").select("username, avatar_url, balance, preferences").eq("id",g).single();if(w){console.error("Error fetching user profile:",w);return}p&&(console.log("User profile loaded:",p),i(p))}catch(p){console.error("Exception fetching profile:",p)}};m.useEffect(()=>{const{data:{subscription:g}}=W.auth.onAuthStateChange((p,w)=>{n(w),a((w==null?void 0:w.user)??null),w!=null&&w.user?u(w.user.id):i(null),p==="SIGNED_IN"?D.success("Signed in successfully!"):p==="SIGNED_OUT"&&(D.success("Signed out successfully!"),i(null))});return W.auth.getSession().then(({data:{session:p}})=>{n(p),a((p==null?void 0:p.user)??null),p!=null&&p.user&&u(p.user.id),c(!1)}),()=>g.unsubscribe()},[]);const d=async()=>{try{await W.auth.signOut(),i(null)}catch(g){console.error("Error signing out:",g)}},f=async(g,p)=>{try{const{data:w,error:v}=await W.auth.signInWithPassword({email:g,password:p});if(v)throw v;return w.user&&await u(w.user.id),{error:null,session:w.session}}catch(w){return console.error("Sign in error:",w),{error:w,session:null}}},h=async(g,p,w)=>{try{const{data:v,error:y}=await W.auth.signUp({email:g,password:p,options:{data:{username:w}}});if(y)throw y;return D.success("Account created successfully!",{description:"Welcome to WayneWagers!"}),{error:null,user:v.user}}catch(v){return console.error("Sign up error:",v),{error:v,user:null}}},x=async g=>{if(r)try{const{error:p}=await W.from("profiles").update(g).eq("id",r.id);if(p)throw p;i(w=>w?{...w,...g}:null),D.success("Profile updated successfully")}catch(p){console.error("Error updating profile:",p),D.error("Failed to update profile")}};return s.jsx(wb.Provider,{value:{session:t,user:r,profile:o,loading:l,signOut:d,signIn:f,signUp:h,updateProfile:x},children:e})},bb=m.createContext(void 0),g5=()=>{const e=m.useContext(bb);if(!e)throw new Error("useChatContext must be used within a ChatProvider");return e},x5=({children:e})=>{const[t,n]=m.useState([]),[r,a]=m.useState("general"),[o,i]=m.useState({}),{user:l}=Ge();m.useEffect(()=>{if(!l)return;(async()=>{try{const{data:h,error:x}=await W.from("chat_messages").select("*").eq("room",r).order("created_at",{ascending:!1}).limit(50);if(x){console.error("Error fetching messages:",x);return}h&&n(h.reverse())}catch(h){console.error("Error in fetchMessages:",h)}})();const d=W.channel("chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${r}`},h=>{n(x=>[...x,h.new])}).subscribe(),f=W.channel("online_users");return f.on("presence",{event:"sync"},()=>{const h=f.presenceState(),x={};Object.keys(h).forEach(g=>{if(h[g]&&h[g].length>0){const p=h[g][0];if(p&&typeof p=="object"&&"username"in p){const w=p;x[g]={username:w.username,avatar_url:w.avatar_url}}}}),i(x)}).subscribe(async h=>{if(h==="SUBSCRIBED"&&l){const{data:x}=await W.from("profiles").select("username, avatar_url").eq("id",l.id).single();if(x){const g={username:x.username,avatar_url:x.avatar_url};await f.track(g)}}}),()=>{W.removeChannel(d),W.removeChannel(f)}},[l,r]);const c=async(u,d)=>{if(!(!l||!u.trim()))try{const{data:f,error:h}=await W.from("profiles").select("username, avatar_url").eq("id",l.id).single();if(h){D.error("Error sending message");return}const x={user_id:l.id,username:f.username,avatar_url:f.avatar_url,content:u.trim(),room:d},{error:g}=await W.from("chat_messages").insert(x);g&&(D.error("Error sending message"),console.error("Error sending message:",g))}catch(f){console.error("Error in sendMessage:",f),D.error("Failed to send message")}};return s.jsx(bb.Provider,{value:{messages:t,sendMessage:c,activeRoom:r,setActiveRoom:a,onlineUsers:o},children:e})},jb=m.createContext(void 0),Di=()=>{const e=m.useContext(jb);if(!e)throw new Error("useMultiplayer must be used within a MultiplayerProvider");return e},v5=({children:e})=>{const[t,n]=m.useState({}),[r,a]=m.useState(void 0),{user:o}=Ge();m.useEffect(()=>{if(!o)return;const u=W.channel("online_players");return u.on("presence",{event:"sync"},()=>{const d=u.presenceState(),f={};Object.keys(d).forEach(h=>{if(d[h]&&d[h].length>0){const x=d[h][0];if(x&&typeof x=="object"&&"id"in x&&"username"in x&&"last_activity"in x){const g=x;f[h]=g}}}),n(f)}).subscribe(async d=>{if(d==="SUBSCRIBED"&&o)try{const{data:f}=await W.from("profiles").select("username, avatar_url").eq("id",o.id).single();if(f){const h={id:o.id,username:f.username,avatar_url:f.avatar_url,last_activity:new Date,current_game:r};await u.track(h)}}catch(f){console.error("Error setting up presence:",f)}}),()=>{W.removeChannel(u)}},[o,r]);const i=async u=>{if(o)try{a(u);const d=W.channel("online_players");await d.subscribe();const{data:f}=await W.from("profiles").select("username, avatar_url").eq("id",o.id).single();if(f){const h={id:o.id,username:f.username,avatar_url:f.avatar_url,last_activity:new Date,current_game:u};await d.track(h)}console.log(`User ${o.id} joined game ${u}`)}catch(d){console.error("Error joining game:",d),D.error("Failed to join game.")}},l=async()=>{if(!(!o||!r))try{const u=r;a(void 0);const d=W.channel("online_players");await d.subscribe();const{data:f}=await W.from("profiles").select("username, avatar_url").eq("id",o.id).single();if(f){const h={id:o.id,username:f.username,avatar_url:f.avatar_url,last_activity:new Date,current_game:void 0};await d.track(h)}console.log(`User ${o.id} left game ${u}`)}catch(u){console.error("Error leaving game:",u)}},c=u=>Object.values(t).filter(d=>d.current_game===u);return s.jsx(jb.Provider,{value:{onlineUsers:t,currentPlayerCount:Object.keys(t).length,joinGame:i,leaveGame:l,playersInGame:c},children:e})},Cm=Ri("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},o)=>{const i=r?zs:"button";return s.jsx(i,{className:re(Cm({variant:t,size:n,className:e})),ref:o,...a})});L.displayName="Button";const y5=()=>{var x;const[e,t]=m.useState(!1),n=br(),{user:r,profile:a,signOut:o,updateProfile:i}=Ge(),l=st(),c=(a==null?void 0:a.username)||((x=r==null?void 0:r.email)==null?void 0:x.split("@")[0])||"User",u=(a==null?void 0:a.balance)||0,d=async()=>{if(!r){D("Please sign in first",{description:"Create an account to collect bonuses and save your progress.",action:{label:"Sign In",onClick:()=>l("/auth")}});return}try{const g=Math.floor(Math.random()*500)+500,{data:p,error:w}=await W.rpc("update_balance",{user_uuid:r.id,amount:g,t_type:"daily_bonus",game_name:null,meta:{bonus_amount:g}});if(w)throw w;a&&i({balance:a.balance+g}),D.success(`Daily Bonus Collected: +${g} coins!`,{description:"Come back tomorrow for another bonus!"})}catch(g){console.error("Error collecting bonus:",g),D.error("Failed to collect bonus. Please try again.")}},f=async()=>{await o(),D.success("Logged out successfully"),l("/")},h=[{name:"Home",path:"/"},{name:"Games",path:"/games"},{name:"Slots",path:"/slots"},{name:"Leaderboard",path:"/leaderboard"},{name:"Admin",path:"/admin"}];return s.jsxs("header",{className:"bg-card/70 backdrop-blur-md border-b border-border/40 sticky top-0 z-50",children:[s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsx(yn,{to:"/",className:"flex items-center gap-2",children:s.jsx("div",{className:"relative neon-glow",children:s.jsx("div",{className:"relative z-10 bg-gradient-to-r from-casino-purple to-casino-red bg-clip-text text-transparent text-3xl font-bold",children:"WayneWagers"})})}),s.jsx("div",{className:"md:hidden",children:s.jsx(L,{variant:"ghost",size:"icon",onClick:()=>t(!e),children:e?s.jsx(Cn,{}):s.jsx(LC,{})})}),s.jsx("nav",{className:"hidden md:flex items-center gap-6",children:h.map(g=>s.jsx(yn,{to:g.path,className:re("text-lg font-semibold transition-colors hover:text-casino-gold",n.pathname===g.path?"text-casino-gold":"text-white"),children:g.name},g.path))}),s.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-3 flex items-center gap-1",children:[s.jsx(Ee,{className:"h-4 w-4 text-casino-gold animate-pulse-glow"}),s.jsx("span",{className:"text-casino-gold font-semibold",children:u})]}),s.jsx(L,{variant:"outline",size:"sm",className:"border-casino-gold/50 hover:border-casino-gold text-casino-gold hover:bg-casino-gold/10",onClick:d,children:"Daily Bonus"}),r?s.jsxs(s.Fragment,{children:[s.jsx(yn,{to:"/profile",children:s.jsx(L,{variant:"ghost",size:"icon",className:"rounded-full bg-muted/20 hover:bg-muted/40",children:s.jsx(yf,{className:"h-5 w-5"})})}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:c}),s.jsx(L,{variant:"ghost",size:"icon",onClick:f,className:"rounded-full bg-muted/20 hover:bg-muted/40",children:s.jsx(jg,{className:"h-5 w-5"})})]}):s.jsx(yn,{to:"/auth",children:s.jsxs(L,{variant:"ghost",size:"sm",className:"flex items-center gap-2 bg-muted/20 hover:bg-muted/40",children:[s.jsx(bg,{className:"h-4 w-4"}),"Sign In"]})})]})]})}),e&&s.jsx("div",{className:"md:hidden bg-black/95 border-b border-border/40 py-4",children:s.jsxs("div",{className:"container mx-auto flex flex-col gap-4",children:[h.map(g=>s.jsx(yn,{to:g.path,className:re("text-lg font-semibold transition-colors hover:text-casino-gold py-2",n.pathname===g.path?"text-casino-gold":"text-white"),onClick:()=>t(!1),children:g.name},g.path)),s.jsxs("div",{className:"flex items-center gap-3 py-2",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-3 flex items-center gap-1",children:[s.jsx(Ee,{className:"h-4 w-4 text-casino-gold"}),s.jsx("span",{className:"text-casino-gold font-semibold",children:u})]}),s.jsx(L,{variant:"outline",size:"sm",className:"border-casino-gold/50 hover:border-casino-gold text-casino-gold hover:bg-casino-gold/10",onClick:()=>{d(),t(!1)},children:"Daily Bonus"})]}),s.jsx("div",{className:"flex items-center gap-3 py-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm text-white",children:c}),s.jsx(yn,{to:"/profile",onClick:()=>t(!1),children:s.jsxs(L,{variant:"ghost",className:"flex items-center gap-2 bg-muted/20 hover:bg-muted/40",children:[s.jsx(yf,{className:"h-4 w-4"}),"Profile"]})}),s.jsxs(L,{variant:"ghost",className:"flex items-center gap-2 bg-muted/20 hover:bg-muted/40",onClick:()=>{f(),t(!1)},children:[s.jsx(jg,{className:"h-4 w-4"}),"Sign Out"]})]}):s.jsx(yn,{to:"/auth",onClick:()=>t(!1),children:s.jsxs(L,{variant:"ghost",className:"flex items-center gap-2 bg-muted/20 hover:bg-muted/40",children:[s.jsx(bg,{className:"h-4 w-4"}),"Sign In"]})})})]})})]})},Et=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-casino-dark to-casino-dark/90 text-white relative",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMyMTIxMzAiIGZpbGwtb3BhY2l0eT0iMC40Ij48cGF0aCBkPSJNMzYgMzRjMC0yLjIwOSAxLjc5MS00IDQtNHM0IDEuNzkxIDQgNC0xLjc5MSA0LTQgNC00LTEuNzkxLTQtNHptMC0zMGMwLTIuMjA5IDEuNzkxLTQgNC00czQgMS43OTEgNCA0LTEuNzkxIDQtNCA0LTQtMS43OTEtNC00em0wIDYwYzAtMi4yMDkgMS43OTEtNCA0LTRzNCAxLjc5MSA0IDQtMS43OTEgNC00IDQtNC0xLjc5MS00LTR6bS0zMC0zMGMwLTIuMjA5IDEuNzkxLTQgNC00czQgMS43OTEgNCA0LTEuNzkxIDQtNCA0LTQtMS43OTEtNC00em0wLTMwYzAtMi4yMDkgMS43OTEtNCA0LTRzNCAxLjc5MSA0IDQtMS43OTEgNC00IDQtNC0xLjc5MS00LTR6bTAgNjBjMC0yLjIwOSAxLjc5MS00IDQtNHM0IDEuNzkxIDQgNC0xLjc5MSA0LTQgNC00LTEuNzkxLTQtNHptMzAtMzBjMC0yLjIwOSAxLjc5MS00IDQtNHM0IDEuNzkxIDQgNC0xLjc5MSA0LTQgNC00LTEuNzkxLTQtNHptMC02MGMwLTIuMjA5IDEuNzkxLTQgNC00czQgMS43OTEgNCA0LTEuNzkxIDQtNCA0LTQtMS43OTEtNC00eiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+')] opacity-10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(y5,{}),s.jsx("main",{className:"container mx-auto p-4 pt-8",children:e}),s.jsx("footer",{className:"mt-16 py-6 border-t border-muted/20 text-center",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("p",{className:"text-muted-foreground",children:["© ",new Date().getFullYear()," WayneWagers - A Social Casino Experience"]})})})]}),s.jsx(tw,{})]}),w5=()=>s.jsxs("div",{className:"relative bg-gradient-to-r from-casino-purple to-casino-blue rounded-xl overflow-hidden mb-12",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMjcwLjcgMEMzMzEuNiAwIDM4NCA0OC40IDM4NCAxMDkuM3YzOTUuNCBjMCAxLjRDMzg0IDUwOS4xIDM3OS4xIDUxMiAzNzcgNTEyYy0yLjEgMC00LjItMS4zLTUuNi0zLjNMMjg0LjcgMzY3LjIgMTk3LjcgNTA4LjcgQzE5Ni4zIDUxMC43IDE5NC4yIDUxMiAxOTIgNTEyczAtMi45IDAtNy4zVjM1OC45TDY4LjcgNTA4LjcgQzY3LjMgNTEwLjcgNjUuMiA1MTIgNjMgNTEycy02LTIuNi02LTYuNlYxMDkuM0M1NyA0OC40IDEwOS40IDAgMTcwLjMgMEgyNzAuN3pNMTY3LjMgMzA5LjEgYzcuOCA0LjggMTcuNiA0LjggMjUuNCAwbDIwMS43LTEyNC4yYzYuNC0zLjkgOC40LTEyLjMgNC41LTE4LjdzLTEyLjMtOC40LTE4LjctNC41TDE2Ny4zIDE2Ni41Yy0yLjYgMS42LTUuOSAxLjYtOC41IDBsLTEzMC05Ni4xYy02LjQtMy45LTE0LjgtMS45LTE4LjcgNC41cy0xLjkgMTQuOCA0LjUgMTguN0wxNjcuMyAzMDkuMXoiLz48L3N2Zz4=')] opacity-10 p-8 bg-contain bg-right"}),s.jsxs("div",{className:"relative z-10 p-8",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-russo mb-4 text-white",children:["Welcome to ",s.jsx("span",{className:"text-casino-gold",children:"WayneWagers"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-white/80 max-w-2xl mb-6",children:"The ultimate social casino experience with exciting games and amazing rewards!"}),s.jsx(yn,{to:"/games",children:s.jsx(L,{className:"casino-btn-secondary text-lg px-6 py-6",children:"Start Playing Now"})})]})]}),b5=({showNotice:e,onDismiss:t})=>e?s.jsxs("div",{className:"bg-muted/20 border border-casino-gold/30 rounded-lg p-4 mb-12 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(CC,{className:"h-5 w-5 text-casino-gold"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"text-white font-semibold",children:"WayneWagers"})," is a social casino - play for fun with virtual coins only. No real money gambling."]})]}),s.jsx(L,{variant:"ghost",size:"sm",onClick:t,children:"Dismiss"})]}):null,J=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const ae=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const ie=m.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const ke=m.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));ke.displayName="CardDescription";const ne=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));ne.displayName="CardContent";const ds=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));ds.displayName="CardFooter";const j5=Ri("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...n}){return s.jsx("div",{className:re(j5({variant:t}),e),...n})}const Nb=({title:e,description:t,icon:n,color:r,onClick:a,isNew:o,playerCount:i=0})=>s.jsx(J,{className:"casino-card h-full cursor-pointer transform transition-all hover:scale-105",onClick:a,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-full bg-gradient-to-br ${r} flex items-center justify-center text-white mr-3`,children:n}),s.jsx("div",{children:s.jsxs("h3",{className:"text-lg font-bold",children:[e,o&&s.jsx(Oe,{variant:"default",className:"ml-2 bg-green-600",children:"New"})]})})]}),i>0&&s.jsxs(Oe,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:[s.jsx(kn,{className:"h-3 w-3 mr-1"}),i]})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:t}),s.jsx("div",{className:"flex items-center justify-end mt-2",children:s.jsx(L,{className:"casino-btn",size:"sm",children:"Play Now"})})]})}),N5=()=>{const e=st(),t=[{id:"slots",title:"Lucky Spinner",description:"Try your luck with our exciting slot machine!",icon:s.jsx(RC,{className:"h-5 w-5"}),color:"from-yellow-500 to-yellow-700",path:"/slots"},{id:"poker",title:"Video Poker",description:"Classic video poker with great payouts!",icon:s.jsx(an,{className:"h-5 w-5"}),color:"from-blue-600 to-blue-800",path:"/poker"},{id:"blackjack",title:"Blackjack",description:"Beat the dealer to 21 without going bust!",icon:s.jsx(an,{className:"h-5 w-5"}),color:"from-red-500 to-red-700",path:"/blackjack"}];return s.jsxs("section",{className:"mb-12",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Featured Games"}),s.jsx(yn,{to:"/games",children:s.jsx(L,{variant:"link",className:"text-casino-gold",children:"View All"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>s.jsx(Nb,{title:n.title,description:n.description,icon:n.icon,color:n.color,path:n.path,onClick:()=>e(n.path),isNew:!1,playerCount:0},n.id))})]})},_5="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let At=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=_5[n[e]&63];return t};const _b=async e=>{try{const t=await Ii();return e?t.find(r=>r.id===e)||t[0]:t}catch(t){return console.error("Error fetching tournament details:",t),[]}},Ii=async()=>{const e=new Date,t=new Date;t.setHours(23,59,59,999);const n=new Date;n.setDate(n.getDate()+(7-n.getDay()));const r=new Date(e.getFullYear(),e.getMonth()+1,0);return[{id:"slot-daily-"+At(6),title:"Daily Slots Tournament",description:"Win the highest amount in a single spin",prizePool:1e4,participants:124,endTime:t,game:"slots",type:"daily",style:"standard",isActive:!0},{id:"slot-weekly-"+At(6),title:"Weekly Slots Championship",description:"Accumulate the highest winnings over the week",prizePool:5e4,participants:532,endTime:n,game:"slots",type:"weekly",style:"premium",isActive:!0},{id:"quiz-daily-"+At(6),title:"Daily Quiz Challenge",description:"Get the highest score in today's quiz",prizePool:5e3,participants:87,endTime:t,game:"quiz",type:"daily",style:"seasonal",isActive:!0},{id:"slots-monthly-"+At(6),title:"Monthly Jackpot Challenge",description:"Compete for the biggest jackpot of the month",prizePool:1e5,participants:875,endTime:r,game:"slots",type:"monthly",style:"championship",isActive:!0},{id:"quiz-weekly-"+At(6),title:"Weekly Knowledge Cup",description:"Test your knowledge against the best",prizePool:25e3,participants:342,endTime:n,game:"quiz",type:"weekly",style:"premium",isActive:!0}]},Sb=async e=>{try{const{data:t,error:n}=await W.from("game_configs").select("enabled").eq("id",e).single();return n?(console.error("Error checking if game is enabled:",n),!0):(t==null?void 0:t.enabled)??!0}catch(t){return console.error("Error in isGameEnabled:",t),!0}},dx=["Lucky","Jackpot","Golden","Diamond","Royal","Wealthy","Fortune","Star","Wild","Mega","Super","Silver","Ace"],fx=["Winner","Player","Gambler","Roller","Master","Champion","King","Queen","Lord","Shark","Hunter","Pro","Expert"],jn={min_bots:3,max_bots:10,join_frequency:3e4,chat_frequency:6e4,leave_frequency:45e3};let Ie={isRunning:!1,activeBots:[],config:jn,messages:[],timers:{}};const S5=async()=>{try{const{data:e,error:t}=await W.from("bot_configs").select("*").eq("is_active",!0).limit(1);if(t)return console.error("Error loading bot config:",t),null;if(e&&e.length>0){const n=e[0];return{...n,minBots:n.min_bots,maxBots:n.max_bots,joinFrequency:n.join_frequency,chatFrequency:n.chat_frequency,leaveFrequency:n.leave_frequency}}return null}catch(e){return console.error("Error in loadBotConfig:",e),null}},vi=async(e={})=>{try{k5();const t=await S5();Ie.config={...jn,...t||{},...e};const n=Ie.config.min_bots||jn.min_bots,r=Ie.config.max_bots||jn.max_bots,a=Ie.config.join_frequency||jn.join_frequency,o=Ie.config.chat_frequency||jn.chat_frequency,i=Ie.config.leave_frequency||jn.leave_frequency;console.log(`Starting bot simulation with ${n}-${r} bots`);for(let l=0;l<n;l++)hx();Ie.timers.join=setInterval(hx,a),Ie.timers.chat=setInterval(E5,o),Ie.timers.leave=setInterval(C5,i),Ie.isRunning=!0}catch(t){console.error("Error starting bot simulation:",t)}},k5=()=>{try{Object.values(Ie.timers).forEach(e=>{e&&clearInterval(e)}),Ie={isRunning:!1,activeBots:[],config:jn,messages:[],timers:{}},console.log("Bot simulation stopped")}catch(e){console.error("Error stopping bot simulation:",e)}},hx=()=>{try{const e=Ie.config.min_bots||jn.min_bots,t=Ie.config.max_bots||jn.max_bots;if(Ie.activeBots.length>=t)return;const n=dx[Math.floor(Math.random()*dx.length)],r=fx[Math.floor(Math.random()*fx.length)],a=`${n}${r}${Math.floor(Math.random()*100)}`,o={id:At(),username:a,avatar_url:`https://api.dicebear.com/7.x/avataaars/svg?seed=${a}`,is_bot:!0};Ie.activeBots.push(o),console.log(`Bot joined: ${o.username}`),setTimeout(()=>{kb(o)},Math.random()*5e3+1e3)}catch(e){console.error("Error adding bot:",e)}},C5=()=>{try{const e=Ie.config.min_bots||jn.min_bots;if(Ie.activeBots.length<=e)return;const t=Math.floor(Math.random()*Ie.activeBots.length),n=Ie.activeBots.splice(t,1)[0];console.log(`Bot left: ${n.username}`)}catch(e){console.error("Error removing bot:",e)}},E5=()=>{try{if(Ie.activeBots.length===0)return;const e=Ie.activeBots[Math.floor(Math.random()*Ie.activeBots.length)],t=["Just won big!","This game is on fire today!","Anyone else feeling lucky?","I love this casino!","Going for the jackpot!","I think today is my day","Best game ever!","Come join this game","Almost hit the big one","Going to win it all back now","Need one more spin to win","Saving up for the tournament","Anyone in the tournament?","The slots are hot right now!","Just doubled my money"],n={id:At(),botId:e.id,botName:e.username,content:t[Math.floor(Math.random()*t.length)],timestamp:new Date().toISOString()};Ie.messages.unshift(n),Ie.messages.length>20&&(Ie.messages=Ie.messages.slice(0,20)),console.log(`Bot chat: ${n.botName}: ${n.content}`)}catch(e){console.error("Error generating bot chat:",e)}},kb=async e=>{try{const t=["slots","blackjack","roulette","poker","dice"],n=t[Math.floor(Math.random()*t.length)];if(!await Sb(n)){console.log(`Bot ${e.username} tried to play ${n} but it's disabled`);return}const a=Math.floor(Math.random()*90)+10,o=Math.random()<.4,i=o?Math.floor(a*(Math.random()*2+1)):0;console.log(`Bot ${e.username} played ${n}, bet ${a}, ${o?"won "+i:"lost"}`);const l=Math.floor(Math.random()*1e4)+5e3;setTimeout(()=>{kb(e)},l)}catch(t){console.error("Error simulating bot game:",t)}},du=async(e,t)=>{if(!t)return D.error("You must be logged in to join a tournament"),!1;try{const n={id:"tournament-bots",enabled:!0,bot_count:10,min_bet:10,max_bet:100,min_wait:5e3,max_wait:15e3,games:["slots","quiz"],created_at:new Date().toISOString(),minBots:5,maxBots:20,joinFrequency:3e4,chatFrequency:6e4,leaveFrequency:45e3};vi(n);const r=await _b(e),a=Array.isArray(r)?r[0]:r;if(!a)return D.error("Tournament not found"),!1;console.log(`Checking if user ${t} is already in tournament ${e}`);const o=JSON.parse(localStorage.getItem("joinedTournaments")||"[]");return o.includes(e)?(D.success(`You've already joined the ${a.title}!`,{description:"Good luck and have fun!"}),localStorage.setItem(`current_${a.game}_tournament`,e),!0):(console.log(`Adding user ${t} to tournament ${e}`),D.success(`You've joined the ${a.title}!`,{description:"Good luck and have fun!"}),o.includes(e)||(o.push(e),localStorage.setItem("joinedTournaments",JSON.stringify(o))),localStorage.setItem(`current_${a.game}_tournament`,e),!0)}catch(n){return console.error("Error joining tournament:",n),D.error("Failed to join tournament"),!1}},T5=async(e,t,n)=>{if(!t)return console.error("Cannot submit score: No user ID provided"),!1;try{console.log(`Submitting score ${n} for user ${t} to tournament ${e}`);const r=At();return await du(e,t)?(n>100&&D.success("Tournament score submitted!",{description:`Your score of ${n} has been recorded.`}),!0):!1}catch(r){return console.error("Error submitting tournament score:",r),!1}},P5=async(e,t)=>{if(!t)try{return JSON.parse(localStorage.getItem("joinedTournaments")||"[]").includes(e)}catch(n){return console.error("Error checking joined tournaments:",n),!1}try{return console.log(`Checking if user ${t} has joined tournament ${e}`),JSON.parse(localStorage.getItem("joinedTournaments")||"[]").includes(e)}catch(n){return console.error("Error checking joined tournaments:",n),!1}},R5=async e=>{try{const t=localStorage.getItem(`current_${e}_tournament`);if(t)return t;if(e!=="slots")return"quiz-daily-"+At(6)}catch(t){return console.error("Error getting current tournament:",t),null}},Em=e=>{const t=new Date,n=e.getTime()-t.getTime();if(n<=0)return"Ended";const r=Math.floor(n/(1e3*60*60*24)),a=Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(n%(1e3*60*60)/(1e3*60));return r>0?`${r}d ${a}h left`:a>0?`${a}h ${o}m left`:`${o}m left`},A5=({tournament:e,onJoinTournament:t})=>{if(!e)return s.jsxs("div",{className:"bg-card border border-border/30 rounded-lg p-6 shadow-xl text-center",children:[s.jsx(ze,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Active Tournaments"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Check back soon for new tournaments!"}),s.jsx(yn,{to:"/games",children:s.jsx(L,{className:"casino-btn",children:"Play Games Now"})})]});const n=()=>{switch(e.style){case"premium":return s.jsx(qc,{className:"h-16 w-16 text-amber-500 animate-pulse-glow"});case"seasonal":return s.jsx(Gn,{className:"h-16 w-16 text-emerald-500 animate-pulse-glow"});case"championship":return s.jsx(H0,{className:"h-16 w-16 text-purple-500 animate-pulse-glow"});default:return e.type==="weekly"?s.jsx(Ks,{className:"h-16 w-16 text-casino-gold animate-pulse-glow"}):s.jsx(ze,{className:"h-16 w-16 text-casino-gold animate-pulse-glow"})}},r=()=>{switch(e.style){case"premium":return"border-amber-500/30 bg-gradient-to-b from-card to-amber-950/10";case"seasonal":return"border-emerald-500/30 bg-gradient-to-b from-card to-emerald-950/10";case"championship":return"border-purple-500/30 bg-gradient-to-b from-card to-purple-950/10";default:return"border-border/30"}},a=()=>{switch(e.style){case"premium":return s.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 text-xs rounded-full",children:"Premium"});case"seasonal":return s.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-800 text-xs rounded-full",children:"Seasonal"});case"championship":return s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Championship"});default:return null}},o=()=>{switch(e.style){case"premium":return"bg-gradient-to-r from-amber-600 to-amber-500 hover:from-amber-500 hover:to-amber-600 text-white";case"seasonal":return"bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-600 text-white";case"championship":return"bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-600 text-white";default:return"casino-btn"}};return s.jsxs("div",{className:`bg-card rounded-lg p-6 shadow-xl border ${r()}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:n()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:e.title}),e.type==="weekly"&&s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Weekly"}),e.type==="monthly"&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Monthly"}),e.type==="daily"&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Daily"}),a()]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"bg-muted/20 px-3 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prize Pool"}),s.jsxs("p",{className:"text-lg font-bold text-casino-gold",children:[e.prizePool.toLocaleString()," Coins"]})]}),s.jsxs("div",{className:"bg-muted/20 px-3 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Participants"}),s.jsxs("p",{className:"text-lg font-bold",children:[e.participants," Players"]})]}),s.jsxs("div",{className:"bg-muted/20 px-3 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Left"}),s.jsx("p",{className:"text-lg font-bold text-casino-red",children:Em(e.endTime)})]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(L,{className:o(),onClick:t,children:"Join Tournament"})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5 text-casino-gold"}),s.jsxs("span",{className:"text-sm font-semibold",children:["Top 5 Winners Share ",e.prizePool.toLocaleString()," Coins"]})]}),s.jsx(yn,{to:"/tournaments",children:s.jsx(L,{variant:"ghost",size:"sm",children:"See All Tournaments"})})]})})]})},M5=()=>{const e=st(),{user:t}=Ge(),[n,r]=m.useState(null),[a,o]=m.useState([]);return m.useEffect(()=>{(async()=>{try{const c=await Ii();o(c);const u=c.filter(d=>d.type==="weekly");u.length>0?r(u[0]):c.length>0&&r(c[0])}catch(c){console.error("Error loading tournaments:",c)}})()},[]),{featuredTournament:n,tournaments:a,handleJoinTournament:async()=>{if(!n)return;await du(n.id,(t==null?void 0:t.id)||null)&&(n.game==="slots"?e("/slots"):n.game==="quiz"&&e("/quiz"))}}};function Tm(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Pm="Switch",[O5,NL]=Qn(Pm),[D5,I5]=O5(Pm),Cb=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,x]=m.useState(null),g=be(t,b=>x(b)),p=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[v=!1,y]=pr({prop:a,defaultProp:o,onChange:u});return s.jsxs(D5,{scope:n,checked:v,disabled:l,children:[s.jsx(le.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":Pb(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ee(e.onClick,b=>{y(j=>!j),w&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),w&&s.jsx(L5,{control:h,bubbles:!p.current,name:r,value:c,checked:v,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Cb.displayName=Pm;var Eb="SwitchThumb",Tb=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=I5(Eb,n);return s.jsx(le.span,{"data-state":Pb(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});Tb.displayName=Eb;var L5=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=m.useRef(null),i=Tm(n),l=um(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[i,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pb(e){return e?"checked":"unchecked"}var Rb=Cb,$5=Tb;const rs=m.forwardRef(({className:e,...t},n)=>s.jsx(Rb,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx($5,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rs.displayName=Rb.displayName;var dd="focusScope.autoFocusOnMount",fd="focusScope.autoFocusOnUnmount",mx={bubbles:!1,cancelable:!0},F5="FocusScope",Rm=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=rt(a),d=rt(o),f=m.useRef(null),h=be(t,p=>c(p)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(b){if(x.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Rr(f.current,{select:!0})},w=function(b){if(x.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Rr(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Rr(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,x.paused]),m.useEffect(()=>{if(l){gx.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(dd,mx);l.addEventListener(dd,u),l.dispatchEvent(v),v.defaultPrevented||(B5(V5(Ab(l)),{select:!0}),document.activeElement===p&&Rr(l))}return()=>{l.removeEventListener(dd,u),setTimeout(()=>{const v=new CustomEvent(fd,mx);l.addEventListener(fd,d),l.dispatchEvent(v),v.defaultPrevented||Rr(p??document.body,{select:!0}),l.removeEventListener(fd,d),gx.remove(x)},0)}}},[l,u,d,x]);const g=m.useCallback(p=>{if(!n&&!r||x.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(w&&v){const y=p.currentTarget,[b,j]=z5(y);b&&j?!p.shiftKey&&v===j?(p.preventDefault(),n&&Rr(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),n&&Rr(j,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return s.jsx(le.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Rm.displayName=F5;function B5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rr(r,{select:t}),document.activeElement!==n)return}function z5(e){const t=Ab(e),n=px(t,e),r=px(t.reverse(),e);return[n,r]}function Ab(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function px(e,t){for(const n of e)if(!U5(n,{upTo:t}))return n}function U5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function W5(e){return e instanceof HTMLInputElement&&"select"in e}function Rr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&W5(e)&&t&&e.select()}}var gx=H5();function H5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xx(e,t),e.unshift(t)},remove(t){var n;e=xx(e,t),(n=e[0])==null||n.resume()}}}function xx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function V5(e){return e.filter(t=>t.tagName!=="A")}var hd=0;function Mb(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vx()),document.body.insertAdjacentElement("beforeend",e[1]??vx()),hd++,()=>{hd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hd--}},[])}function vx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Un=function(){return Un=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Un.apply(this,arguments)};function Ob(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function q5(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Fl="right-scroll-bar-position",Bl="width-before-scroll-bar",G5="with-scroll-bars-hidden",Y5="--removed-body-scroll-bar-size";function md(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Q5(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var K5=typeof window<"u"?m.useLayoutEffect:m.useEffect,yx=new WeakMap;function J5(e,t){var n=Q5(null,function(r){return e.forEach(function(a){return md(a,r)})});return K5(function(){var r=yx.get(n);if(r){var a=new Set(r),o=new Set(e),i=n.current;a.forEach(function(l){o.has(l)||md(l,null)}),o.forEach(function(l){a.has(l)||md(l,i)})}yx.set(n,e)},[e]),n}function X5(e){return e}function Z5(e,t){t===void 0&&(t=X5);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return a}function eM(e){e===void 0&&(e={});var t=Z5(null);return t.options=Un({async:!0,ssr:!1},e),t}var Db=function(e){var t=e.sideCar,n=Ob(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Un({},n))};Db.isSideCarExport=!0;function tM(e,t){return e.useMedium(t),Db}var Ib=eM(),pd=function(){},fu=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:pd,onWheelCapture:pd,onTouchMoveCapture:pd}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,x=e.noIsolation,g=e.inert,p=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=e.gapMode,b=Ob(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=J5([n,t]),C=Un(Un({},b),a);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:Ib,removeScrollBar:u,shards:f,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!p,lockRef:n,gapMode:y}),i?m.cloneElement(m.Children.only(l),Un(Un({},C),{ref:N})):m.createElement(v,Un({},C,{className:c,ref:N}),l))});fu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fu.classNames={fullWidth:Bl,zeroRight:Fl};var nM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nM();return t&&e.setAttribute("nonce",t),e}function sM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var oM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rM())&&(sM(t,n),aM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iM=function(){var e=oM();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Lb=function(){var e=iM(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},lM={left:0,top:0,right:0,gap:0},gd=function(e){return parseInt(e||"",10)||0},cM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gd(n),gd(r),gd(a)]},uM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lM;var t=cM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dM=Lb(),Ra="data-scroll-locked",fM=function(e,t,n,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(G5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Bl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Fl," .").concat(Fl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bl," .").concat(Bl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(Y5,": ").concat(l,`px;
  }
`)},wx=function(){var e=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(e)?e:0},hM=function(){m.useEffect(function(){return document.body.setAttribute(Ra,(wx()+1).toString()),function(){var e=wx()-1;e<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,e.toString())}},[])},mM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;hM();var o=m.useMemo(function(){return uM(a)},[a]);return m.createElement(dM,{styles:fM(o,!t,a,n?"":"!important")})},zf=!1;if(typeof window<"u")try{var xl=Object.defineProperty({},"passive",{get:function(){return zf=!0,!0}});window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{zf=!1}var aa=zf?{passive:!1}:!1,pM=function(e){return e.tagName==="TEXTAREA"},$b=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!pM(e)&&n[t]==="visible")},gM=function(e){return $b(e,"overflowY")},xM=function(e){return $b(e,"overflowX")},bx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Fb(e,r);if(a){var o=Bb(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},yM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Fb=function(e,t){return e==="v"?gM(t):xM(t)},Bb=function(e,t){return e==="v"?vM(t):yM(t)},wM=function(e,t){return e==="h"&&t==="rtl"?-1:1},bM=function(e,t,n,r,a){var o=wM(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var x=Bb(e,l),g=x[0],p=x[1],w=x[2],v=p-w-o*g;(g||v)&&Fb(e,l)&&(f+=v,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},vl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jx=function(e){return[e.deltaX,e.deltaY]},Nx=function(e){return e&&"current"in e?e.current:e},jM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},NM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_M=0,oa=[];function SM(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(_M++)[0],o=m.useState(Lb)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=q5([e.lockRef.current],(e.shards||[]).map(Nx),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=vl(p),y=n.current,b="deltaX"in p?p.deltaX:y[0]-v[0],j="deltaY"in p?p.deltaY:y[1]-v[1],N,C=p.target,k=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&k==="h"&&C.type==="range")return!1;var T=bx(k,C);if(!T)return!0;if(T?N=k:(N=k==="v"?"h":"v",T=bx(k,C)),!T)return!1;if(!r.current&&"changedTouches"in p&&(b||j)&&(r.current=N),!N)return!0;var $=r.current||N;return bM($,w,p,$==="h"?b:j,!0)},[]),c=m.useCallback(function(p){var w=p;if(!(!oa.length||oa[oa.length-1]!==o)){var v="deltaY"in w?jx(w):vl(w),y=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&jM(N.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(Nx).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=b.length>0?l(w,b[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(p,w,v,y){var b={name:p,delta:w,target:v,should:y,shadowParent:kM(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=m.useCallback(function(p){n.current=vl(p),r.current=void 0},[]),f=m.useCallback(function(p){u(p.type,jx(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,vl(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return oa.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,aa),document.addEventListener("touchmove",c,aa),document.addEventListener("touchstart",d,aa),function(){oa=oa.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,aa),document.removeEventListener("touchmove",c,aa),document.removeEventListener("touchstart",d,aa)}},[]);var x=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(o,{styles:NM(a)}):null,x?m.createElement(mM,{gapMode:e.gapMode}):null)}function kM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const CM=tM(Ib,SM);var Am=m.forwardRef(function(e,t){return m.createElement(fu,Un({},e,{ref:t,sideCar:CM}))});Am.classNames=fu.classNames;var EM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ia=new WeakMap,yl=new WeakMap,wl={},xd=0,zb=function(e){return e&&(e.host||zb(e.parentNode))},TM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=zb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},PM=function(e,t,n,r){var a=TM(t,Array.isArray(e)?e:[e]);wl[n]||(wl[n]=new WeakMap);var o=wl[n],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var x=h.getAttribute(r),g=x!==null&&x!=="false",p=(ia.get(h)||0)+1,w=(o.get(h)||0)+1;ia.set(h,p),o.set(h,w),i.push(h),p===1&&g&&yl.set(h,!0),w===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),xd++,function(){i.forEach(function(f){var h=ia.get(f)-1,x=o.get(f)-1;ia.set(f,h),o.set(f,x),h||(yl.has(f)||f.removeAttribute(r),yl.delete(f)),x||f.removeAttribute(n)}),xd--,xd||(ia=new WeakMap,ia=new WeakMap,yl=new WeakMap,wl={})}},Ub=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=EM(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),PM(r,a,n,"aria-hidden")):function(){return null}},Mm="Dialog",[Wb,Hb]=Qn(Mm),[RM,Rn]=Wb(Mm),Vb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=pr({prop:r,defaultProp:a,onChange:o});return s.jsx(RM,{scope:t,triggerRef:l,contentRef:c,contentId:cr(),titleId:cr(),descriptionId:cr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};Vb.displayName=Mm;var qb="DialogTrigger",Gb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Rn(qb,n),o=be(t,a.triggerRef);return s.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Im(a.open),...r,ref:o,onClick:ee(e.onClick,a.onOpenToggle)})});Gb.displayName=qb;var Om="DialogPortal",[AM,Yb]=Wb(Om,{forceMount:void 0}),Qb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=Rn(Om,t);return s.jsx(AM,{scope:t,forceMount:n,children:m.Children.map(r,i=>s.jsx(Pn,{present:n||o.open,children:s.jsx(Uc,{asChild:!0,container:a,children:i})}))})};Qb.displayName=Om;var yc="DialogOverlay",Kb=m.forwardRef((e,t)=>{const n=Yb(yc,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Rn(yc,e.__scopeDialog);return o.modal?s.jsx(Pn,{present:r||o.open,children:s.jsx(MM,{...a,ref:t})}):null});Kb.displayName=yc;var MM=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Rn(yc,n);return s.jsx(Am,{as:zs,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(le.div,{"data-state":Im(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hs="DialogContent",Jb=m.forwardRef((e,t)=>{const n=Yb(Hs,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Rn(Hs,e.__scopeDialog);return s.jsx(Pn,{present:r||o.open,children:o.modal?s.jsx(OM,{...a,ref:t}):s.jsx(DM,{...a,ref:t})})});Jb.displayName=Hs;var OM=m.forwardRef((e,t)=>{const n=Rn(Hs,e.__scopeDialog),r=m.useRef(null),a=be(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Ub(o)},[]),s.jsx(Xb,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),DM=m.forwardRef((e,t)=>{const n=Rn(Hs,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(Xb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Xb=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=Rn(Hs,n),c=m.useRef(null),u=be(t,c);return Mb(),s.jsxs(s.Fragment,{children:[s.jsx(Rm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Ti,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Im(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(LM,{titleId:l.titleId}),s.jsx(FM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Dm="DialogTitle",Zb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Rn(Dm,n);return s.jsx(le.h2,{id:a.titleId,...r,ref:t})});Zb.displayName=Dm;var ej="DialogDescription",tj=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Rn(ej,n);return s.jsx(le.p,{id:a.descriptionId,...r,ref:t})});tj.displayName=ej;var nj="DialogClose",rj=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Rn(nj,n);return s.jsx(le.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>a.onOpenChange(!1))})});rj.displayName=nj;function Im(e){return e?"open":"closed"}var sj="DialogTitleWarning",[IM,aj]=$k(sj,{contentName:Hs,titleName:Dm,docsSlug:"dialog"}),LM=({titleId:e})=>{const t=aj(sj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$M="DialogDescriptionWarning",FM=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aj($M).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},BM=Vb,zM=Gb,UM=Qb,WM=Kb,HM=Jb,VM=Zb,qM=tj,oj=rj,ij="AlertDialog",[GM,_L]=Qn(ij,[Hb]),jr=Hb(),lj=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return s.jsx(BM,{...r,...n,modal:!0})};lj.displayName=ij;var YM="AlertDialogTrigger",QM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return s.jsx(zM,{...a,...r,ref:t})});QM.displayName=YM;var KM="AlertDialogPortal",cj=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return s.jsx(UM,{...r,...n})};cj.displayName=KM;var JM="AlertDialogOverlay",uj=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return s.jsx(WM,{...a,...r,ref:t})});uj.displayName=JM;var Aa="AlertDialogContent",[XM,ZM]=GM(Aa),dj=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,o=jr(n),i=m.useRef(null),l=be(t,i),c=m.useRef(null);return s.jsx(IM,{contentName:Aa,titleName:fj,docsSlug:"alert-dialog",children:s.jsx(XM,{scope:n,cancelRef:c,children:s.jsxs(HM,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ee(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Kh,{children:r}),s.jsx(tO,{contentRef:i})]})})})});dj.displayName=Aa;var fj="AlertDialogTitle",hj=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return s.jsx(VM,{...a,...r,ref:t})});hj.displayName=fj;var mj="AlertDialogDescription",pj=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return s.jsx(qM,{...a,...r,ref:t})});pj.displayName=mj;var eO="AlertDialogAction",gj=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=jr(n);return s.jsx(oj,{...a,...r,ref:t})});gj.displayName=eO;var xj="AlertDialogCancel",vj=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=ZM(xj,n),o=jr(n),i=be(t,a);return s.jsx(oj,{...o,...r,ref:i})});vj.displayName=xj;var tO=({contentRef:e})=>{const t=`\`${Aa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Aa}\` by passing a \`${mj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Aa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nO=lj,rO=cj,yj=uj,wj=dj,bj=gj,jj=vj,Nj=hj,_j=pj;const sO=nO,aO=rO,Sj=m.forwardRef(({className:e,...t},n)=>s.jsx(yj,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Sj.displayName=yj.displayName;const kj=m.forwardRef(({className:e,...t},n)=>s.jsxs(aO,{children:[s.jsx(Sj,{}),s.jsx(wj,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kj.displayName=wj.displayName;const Cj=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Cj.displayName="AlertDialogHeader";const Ej=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ej.displayName="AlertDialogFooter";const Tj=m.forwardRef(({className:e,...t},n)=>s.jsx(Nj,{ref:n,className:re("text-lg font-semibold",e),...t}));Tj.displayName=Nj.displayName;const Pj=m.forwardRef(({className:e,...t},n)=>s.jsx(_j,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Pj.displayName=_j.displayName;const Rj=m.forwardRef(({className:e,...t},n)=>s.jsx(bj,{ref:n,className:re(Cm(),e),...t}));Rj.displayName=bj.displayName;const Aj=m.forwardRef(({className:e,...t},n)=>s.jsx(jj,{ref:n,className:re(Cm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Aj.displayName=jj.displayName;const uo=({className:e="",onCurrencyChange:t})=>{const{user:n}=Ge(),[r,a]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState("waynebucks");G.useEffect(()=>{(async()=>{if(n)try{const{data:h,error:x}=await W.from("profiles").select("preferences").eq("id",n.id).single();if(h&&h.preferences){const g=h.preferences;if(g&&typeof g=="object"&&"preferredCurrency"in g){const p=g.preferredCurrency;a(p==="waynesweeps")}}}catch(h){console.error("Error loading currency preference:",h)}})()},[n]);const u=()=>{c(r?"waynebucks":"waynesweeps"),i(!0)},d=async()=>{if(a(l==="waynesweeps"),n)try{const{data:f}=await W.from("profiles").select("preferences").eq("id",n.id).single();let h;if(f!=null&&f.preferences&&typeof f.preferences=="object"){const g=f.preferences;h={darkMode:g.darkMode??!0,notifications:g.notifications??!0,soundEffects:g.soundEffects??!0,preferredCurrency:g.preferredCurrency??"waynebucks"}}else h={darkMode:!0,notifications:!0,soundEffects:!0,preferredCurrency:"waynebucks"};const x={...h,preferredCurrency:l};await W.from("profiles").update({preferences:x}).eq("id",n.id),D.success(`Currency switched to ${l==="waynebucks"?"WayneBucks":"WayneSweeps"}`,{description:l==="waynebucks"?"You are now playing with WayneBucks":"You are now playing with WayneSweeps (sweepstakes currency)"})}catch(f){console.error("Error saving currency preference:",f)}else D.success(`Currency switched to ${l==="waynebucks"?"WayneBucks":"WayneSweeps"}`,{description:l==="waynebucks"?"You are now playing with WayneBucks":"You are now playing with WayneSweeps (sweepstakes currency)"});t&&t(l),i(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-4 w-4 text-casino-gold"}),s.jsx("span",{className:"text-sm font-medium",children:"WayneBucks"})]}),s.jsx(rs,{checked:r,onCheckedChange:u}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-4 w-4 text-casino-purple"}),s.jsx("span",{className:"text-sm font-medium",children:"WayneSweeps"})]})]}),s.jsx(sO,{open:o,onOpenChange:i,children:s.jsxs(kj,{children:[s.jsxs(Cj,{children:[s.jsx(Tj,{children:"Switch Currency?"}),s.jsxs(Pj,{children:["Are you sure you want to switch to ",l==="waynebucks"?"WayneBucks":"WayneSweeps","?",l==="waynesweeps"&&s.jsxs("div",{className:"mt-2 text-sm bg-muted p-2 rounded",children:[s.jsx("strong",{children:"Note:"})," WayneSweeps are sweepstakes coins that can be redeemed for prizes."]})]})]}),s.jsxs(Ej,{children:[s.jsx(Aj,{children:"Cancel"}),s.jsx(Rj,{onClick:d,children:"Confirm"})]})]})})]})},oO=()=>{const[e,t]=m.useState(!0),{featuredTournament:n,handleJoinTournament:r}=M5();return s.jsxs(Et,{children:[s.jsx(w5,{}),s.jsx(b5,{showNotice:e,onDismiss:()=>t(!1)}),s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(uo,{})}),s.jsx(N5,{}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Active Tournaments"}),s.jsx("a",{href:"/tournaments",className:"text-casino-gold underline hover:text-casino-gold/80",children:"View All Tournaments"})]}),s.jsx(A5,{tournament:n,onJoinTournament:r})]})]})},iO=()=>{const e=st(),t=[{id:"classic",name:"Lucky Spinner",description:"Classic 3-reel slot machine with traditional symbols",theme:"classic",reels:3,difficulty:"Easy"},{id:"fruity",name:"Fruit Frenzy",description:"5-reel slot with fresh fruit symbols and free spins",theme:"fruit",reels:5,difficulty:"Medium"},{id:"space",name:"Cosmic Cash",description:"Space-themed 5-reel slot with expanding wilds and bonus rounds",theme:"space",reels:5,difficulty:"Hard"},{id:"jackpot",name:"Mega Jackpot",description:"Progressive jackpot game with multiple bonus features",theme:"gold",reels:5,difficulty:"Medium"}];return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>e("/games"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Slot Machines"})]}),s.jsx(uo,{})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:t.map(n=>s.jsx(J,{className:"casino-card h-full cursor-pointer transform transition-all hover:scale-105",onClick:()=>e(`/slots/${n.id}`),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:n.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n.description})]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.difficulty==="Easy"?"bg-green-100 text-green-800":n.difficulty==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.difficulty})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-1",children:"Reels:"}),s.jsx("span",{className:"font-medium text-foreground",children:n.reels})]}),s.jsx(L,{size:"sm",className:"casino-btn",children:"Play Now"})]})]})},n.id))})]})};var Lm="Avatar",[lO,SL]=Qn(Lm),[cO,Mj]=lO(Lm),Oj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,o]=m.useState("idle");return s.jsx(cO,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(le.span,{...r,ref:t})})});Oj.displayName=Lm;var Dj="AvatarImage",Ij=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...o}=e,i=Mj(Dj,n),l=uO(r,o.referrerPolicy),c=rt(u=>{a(u),i.onImageLoadingStatusChange(u)});return ut(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(le.img,{...o,ref:t,src:r}):null});Ij.displayName=Dj;var Lj="AvatarFallback",$j=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,o=Mj(Lj,n),[i,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?s.jsx(le.span,{...a,ref:t}):null});$j.displayName=Lj;function uO(e,t){const[n,r]=m.useState("idle");return ut(()=>{if(!e){r("error");return}let a=!0;const o=new window.Image,i=l=>()=>{a&&r(l)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{a=!1}},[e,t]),n}var Fj=Oj,Bj=Ij,zj=$j;const Vn=m.forwardRef(({className:e,...t},n)=>s.jsx(Fj,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Vn.displayName=Fj.displayName;const ur=m.forwardRef(({className:e,...t},n)=>s.jsx(Bj,{ref:n,className:re("aspect-square h-full w-full",e),...t}));ur.displayName=Bj.displayName;const qn=m.forwardRef(({className:e,...t},n)=>s.jsx(zj,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));qn.displayName=zj.displayName;const $m=({showCount:e=!0,showGame:t=!0,gameName:n,maxDisplayed:r=5})=>{const{onlineUsers:a,currentPlayerCount:o,playersInGame:i}=Di(),l=n?i(n):Object.values(a),c=l.slice(0,r),u=l.length-r,d=f=>f.substring(0,2).toUpperCase();return l.length===0?s.jsx(J,{className:"bg-muted/30",children:s.jsxs(ne,{className:"p-4 text-center text-muted-foreground",children:[s.jsx(kn,{className:"h-5 w-5 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No players online"})]})}):s.jsxs(J,{children:[s.jsx(ae,{className:"py-3",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),e&&s.jsxs("span",{children:["Online Players (",o,")"]}),!e&&s.jsx("span",{children:"Online Players"})]})}),s.jsx(ne,{className:"pb-3 pt-0",children:s.jsxs("div",{className:"space-y-3",children:[c.map(f=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Vn,{className:"h-8 w-8",children:[s.jsx(ur,{src:f.avatar_url}),s.jsx(qn,{children:d(f.username)})]}),s.jsx("div",{className:"text-sm font-medium",children:f.username})]}),t&&f.current_game&&s.jsx(mm,{children:s.jsxs(Aw,{children:[s.jsx(Mw,{children:s.jsxs(Oe,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"text-xs",children:f.current_game})]})}),s.jsx(pm,{children:s.jsxs("p",{children:["Playing ",f.current_game]})})]})})]},f.id)),u>0&&s.jsxs("div",{className:"text-center text-sm text-muted-foreground pt-2",children:["+ ",u," more player",u!==1?"s":""]})]})})]})},dO=()=>{const e=st(),{playersInGame:t}=Di(),n=[{id:"slots",title:"Slot Machines",description:"Try your luck with our exciting slot machines",icon:s.jsx(Ee,{className:"h-6 w-6"}),color:"from-yellow-500 to-yellow-700",path:"/slots"},{id:"sportsbook",title:"Sportsbook",description:"Bet on live sports events and matches",icon:s.jsx(ze,{className:"h-6 w-6"}),color:"from-green-500 to-green-700",path:"/sportsbook",isNew:!0},{id:"blackjack",title:"Blackjack",description:"Classic card game against the dealer",icon:s.jsx(an,{className:"h-6 w-6"}),color:"from-red-500 to-red-700",path:"/blackjack"},{id:"cointoss",title:"Coin Toss",description:"Heads or tails? Simple 50/50 game",icon:s.jsx(Ee,{className:"h-6 w-6"}),color:"from-blue-500 to-blue-700",path:"/cointoss"},{id:"highlow",title:"High Low",description:"Guess if the next card is higher or lower",icon:s.jsx(SC,{className:"h-6 w-6"}),color:"from-purple-500 to-purple-700",path:"/highlow"},{id:"picknumber",title:"Lucky Number",description:"Pick numbers and win if they match",icon:s.jsx(MC,{className:"h-6 w-6"}),color:"from-emerald-500 to-emerald-700",path:"/picknumber"},{id:"roulette-eu",title:"European Roulette",description:"Classic European roulette with 37 numbers",icon:s.jsx(an,{className:"h-6 w-6"}),color:"from-green-600 to-green-800",path:"/roulette-eu"},{id:"roulette-us",title:"American Roulette",description:"American roulette with 38 numbers including 00",icon:s.jsx(an,{className:"h-6 w-6"}),color:"from-red-600 to-red-800",path:"/roulette-us"},{id:"poker",title:"Video Poker",description:"Classic video poker - Jacks or Better",icon:s.jsx(Gn,{className:"h-6 w-6"}),color:"from-blue-600 to-blue-800",path:"/poker"},{id:"dice",title:"Casino Dice",description:"Roll the dice and bet on the outcome",icon:s.jsx(an,{className:"h-6 w-6"}),color:"from-orange-500 to-orange-700",path:"/dice"},{id:"racing",title:"Virtual Racing",description:"Bet on virtual horse and car races",icon:s.jsx(U0,{className:"h-6 w-6"}),color:"from-amber-500 to-amber-700",path:"/racing"},{id:"quiz",title:"Casino Quiz",description:"Test your knowledge and win prizes",icon:s.jsx(UC,{className:"h-6 w-6"}),color:"from-indigo-500 to-indigo-700",path:"/quiz"}];return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Casino Games"}),s.jsx(uo,{})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(r=>{const a=t(r.title).length;return s.jsx(Nb,{title:r.title,description:r.description,icon:r.icon,color:r.color,onClick:()=>e(r.path),isNew:r.isNew,path:r.path,playerCount:a},r.id)})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx($m,{showCount:!0,showGame:!0,maxDisplayed:10})})]})]})};function fO(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:x,...g}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function d(f,h){const x=(h==null?void 0:h[e][c])||l,g=m.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,hO(a,...t)]}function hO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var mO=m.createContext(void 0);function Li(e){const t=m.useContext(mO);return e||t||"ltr"}var vd="rovingFocusGroup.onEntryFocus",pO={bubbles:!1,cancelable:!0},hu="RovingFocusGroup",[Uf,Uj,gO]=zc(hu),[xO,Wj]=fO(hu,[gO]),[vO,yO]=xO(hu),Hj=m.forwardRef((e,t)=>s.jsx(Uf.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Uf.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(wO,{...e,ref:t})})}));Hj.displayName=hu;var wO=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),x=be(t,h),g=Li(o),[p=null,w]=pr({prop:i,defaultProp:l,onChange:c}),[v,y]=m.useState(!1),b=rt(u),j=Uj(n),N=m.useRef(!1),[C,k]=m.useState(0);return m.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(vd,b),()=>T.removeEventListener(vd,b)},[b]),s.jsx(vO,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:m.useCallback(T=>w(T),[w]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>k(T=>T-1),[]),children:s.jsx(le.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{N.current=!0}),onFocus:ee(e.onFocus,T=>{const $=!N.current;if(T.target===T.currentTarget&&$&&!v){const M=new CustomEvent(vd,pO);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const I=j().filter(_=>_.focusable),R=I.find(_=>_.active),F=I.find(_=>_.id===p),P=[R,F,...I].filter(Boolean).map(_=>_.ref.current);Gj(P,d)}}N.current=!1}),onBlur:ee(e.onBlur,()=>y(!1))})})}),Vj="RovingFocusGroupItem",qj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,l=cr(),c=o||l,u=yO(Vj,n),d=u.currentTabStopId===c,f=Uj(n),{onFocusableItemAdd:h,onFocusableItemRemove:x}=u;return m.useEffect(()=>{if(r)return h(),()=>x()},[r,h,x]),s.jsx(Uf.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:ee(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:ee(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ee(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=NO(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=u.loop?_O(v,y+1):v.slice(y+1)}setTimeout(()=>Gj(v))}})})})});qj.displayName=Vj;var bO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function NO(e,t,n){const r=jO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bO[r]}function Gj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _O(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var SO=Hj,kO=qj,Fm="Tabs",[CO,kL]=Qn(Fm,[Wj]),Yj=Wj(),[EO,Bm]=CO(Fm),Qj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Li(l),[f,h]=pr({prop:r,onChange:a,defaultProp:o});return s.jsx(EO,{scope:n,baseId:cr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:s.jsx(le.div,{dir:d,"data-orientation":i,...u,ref:t})})});Qj.displayName=Fm;var Kj="TabsList",Jj=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=Bm(Kj,n),i=Yj(n);return s.jsx(SO,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(le.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});Jj.displayName=Kj;var Xj="TabsTrigger",Zj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,i=Bm(Xj,n),l=Yj(n),c=n1(i.baseId,r),u=r1(i.baseId,r),d=r===i.value;return s.jsx(kO,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(r)})})})});Zj.displayName=Xj;var e1="TabsContent",t1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...i}=e,l=Bm(e1,n),c=n1(l.baseId,r),u=r1(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Pn,{present:a||d,children:({present:h})=>s.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});t1.displayName=e1;function n1(e,t){return`${e}-trigger-${t}`}function r1(e,t){return`${e}-content-${t}`}var TO=Qj,s1=Jj,a1=Zj,o1=t1;const gt=TO,dt=m.forwardRef(({className:e,...t},n)=>s.jsx(s1,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));dt.displayName=s1.displayName;const fe=m.forwardRef(({className:e,...t},n)=>s.jsx(a1,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));fe.displayName=a1.displayName;const pe=m.forwardRef(({className:e,...t},n)=>s.jsx(o1,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pe.displayName=o1.displayName;const PO=({coins:e,setCoins:t})=>{const{user:n,profile:r,updateProfile:a}=Ge(),[o,i]=m.useState(""),[l,c]=m.useState(5),[u,d]=m.useState(750);m.useEffect(()=>{r!=null&&r.username&&i(r.username)},[r]);const f=[{id:"first-win",name:"First Win",description:"Win your first game",icon:s.jsx(ze,{className:"h-5 w-5"}),unlocked:!0},{id:"big-spender",name:"Big Spender",description:"Place a bet of 100 coins or more",icon:s.jsx(Ee,{className:"h-5 w-5"}),unlocked:!0},{id:"jackpot",name:"Jackpot Winner",description:"Win the jackpot in any game",icon:s.jsx(Gn,{className:"h-5 w-5"}),unlocked:!1},{id:"loyal",name:"Loyal Player",description:"Log in for 7 days in a row",icon:s.jsx(qc,{className:"h-5 w-5"}),unlocked:!1}],h=async()=>{if(!n)return;const p=5e3;try{const{data:w,error:v}=await W.rpc("update_balance",{user_uuid:n.id,amount:p,t_type:"purchase",game_name:null,meta:{source:"user_profile"}});if(v)throw v;t(y=>y+p),r&&a({balance:r.balance+p}),D.success(`${p} coins added to your account!`,{description:"Thank you for your purchase."})}catch(w){console.error("Error adding coins:",w),D.error("Failed to add coins. Please try again.")}},x=()=>{const p=["adventurer","adventurer-neutral","avataaars","big-ears","big-smile"],w=p[Math.floor(Math.random()*p.length)],v=Math.random().toString(36).substring(7);return`https://api.dicebear.com/7.x/${w}/svg?seed=${v}`},g=async()=>{if(!(!n||!o.trim()))try{await a({username:o.trim()})}catch(p){console.error("Error updating username:",p)}};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(J,{className:"bg-card border-border/30 shadow-xl",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-2xl",children:"My Profile"}),s.jsx(ke,{children:"Manage your account and view progress"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-3 flex items-center gap-1",children:[s.jsx(Ee,{className:"h-4 w-4 text-casino-gold"}),s.jsx("span",{className:"text-casino-gold font-semibold",children:e})]}),s.jsx(L,{variant:"outline",size:"sm",className:"border-casino-gold/50 hover:border-casino-gold text-casino-gold hover:bg-casino-gold/10",onClick:h,children:"Add Coins"})]})]})}),s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs(Vn,{className:"h-32 w-32 mb-4 border-4 border-casino-purple/50",children:[s.jsx(ur,{src:(r==null?void 0:r.avatar_url)||x(),alt:o}),s.jsx(qn,{className:"bg-muted",children:o.substring(0,2).toUpperCase()})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("h3",{className:"text-xl font-bold",children:o}),s.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:g,title:"Save username",children:s.jsx("i",{className:"text-xs",children:"✓"})})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-center mt-1",children:[s.jsxs(Oe,{className:"bg-casino-purple",children:["Level ",l]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[u," XP"]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("input",{type:"text",value:o,onChange:p=>i(p.target.value),className:"px-2 py-1 text-sm border rounded bg-muted/20 text-center w-40",placeholder:"Set username",onBlur:g,onKeyDown:p=>{p.key==="Enter"&&g()}})})]})]}),s.jsx("div",{className:"flex-1 w-full",children:s.jsxs(gt,{defaultValue:"achievements",children:[s.jsxs(dt,{className:"grid grid-cols-2 mb-6",children:[s.jsx(fe,{value:"achievements",children:"Achievements"}),s.jsx(fe,{value:"stats",children:"Game Stats"})]}),s.jsx(pe,{value:"achievements",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map(p=>s.jsx("div",{className:`p-4 rounded-lg border ${p.unlocked?"bg-muted/20 border-casino-gold/30":"bg-muted/10 border-border/30"}`,children:s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx("div",{className:`p-2 rounded-full ${p.unlocked?"bg-casino-gold/20 text-casino-gold":"bg-muted/20 text-muted-foreground"}`,children:p.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold ${p.unlocked?"text-white":"text-muted-foreground"}`,children:p.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]})]})},p.id))})}),s.jsx(pe,{value:"stats",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"casino-card p-4",children:[s.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Games Played"}),s.jsx("p",{className:"text-2xl font-bold",children:"42"})]}),s.jsxs("div",{className:"casino-card p-4",children:[s.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Total Winnings"}),s.jsx("p",{className:"text-2xl font-bold text-casino-gold",children:"12,500"})]}),s.jsxs("div",{className:"casino-card p-4",children:[s.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Biggest Win"}),s.jsx("p",{className:"text-2xl font-bold text-casino-red",children:"2,750"})]}),s.jsxs("div",{className:"casino-card p-4",children:[s.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Win Rate"}),s.jsx("p",{className:"text-2xl font-bold",children:"36%"})]})]})})]})})]})})]})})},RO=Ri("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wf=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:re(RO({variant:t}),e),...n}));Wf.displayName="Alert";const Hf=m.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));Hf.displayName="AlertTitle";const Vf=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",e),...t}));Vf.displayName="AlertDescription";var AO="Label",i1=m.forwardRef((e,t)=>s.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));i1.displayName=AO;var l1=i1;const MO=Ri("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rn=m.forwardRef(({className:e,...t},n)=>s.jsx(l1,{ref:n,className:re(MO(),e),...t}));rn.displayName=l1.displayName;const Ke=m.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ke.displayName="Input";function OO(e,t=[]){let n=[];function r(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:x,...g}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function d(f,h){const x=(h==null?void 0:h[e][c])||l,g=m.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,DO(a,...t)]}function DO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var zm="Progress",Um=100,[IO,CL]=OO(zm),[LO,$O]=IO(zm),c1=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:o=FO,...i}=e;(a||a===0)&&!_x(a)&&console.error(BO(`${a}`,"Progress"));const l=_x(a)?a:Um;r!==null&&!Sx(r,l)&&console.error(zO(`${r}`,"Progress"));const c=Sx(r,l)?r:null,u=wc(c)?o(c,l):void 0;return s.jsx(LO,{scope:n,value:c,max:l,children:s.jsx(le.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":wc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":f1(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});c1.displayName=zm;var u1="ProgressIndicator",d1=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=$O(u1,n);return s.jsx(le.div,{"data-state":f1(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});d1.displayName=u1;function FO(e,t){return`${Math.round(e/t*100)}%`}function f1(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wc(e){return typeof e=="number"}function _x(e){return wc(e)&&!isNaN(e)&&e>0}function Sx(e,t){return wc(e)&&!isNaN(e)&&e<=t&&e>=0}function BO(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Um}\`.`}function zO(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Um} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var h1=c1,UO=d1;const Ds=m.forwardRef(({className:e,value:t,...n},r)=>s.jsx(h1,{ref:r,className:re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(UO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ds.displayName=h1.displayName;const m1=({preferences:e,onToggle:t,size:n="md",className:r=""})=>{const a={sm:"text-xs h-7",md:"text-sm h-9",lg:"text-base h-10"};return s.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm mr-1",children:[s.jsx(Ee,{className:`${n==="sm"?"h-3.5 w-3.5":n==="md"?"h-4 w-4":"h-5 w-5"}`}),s.jsx("span",{children:"Currency:"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(L,{variant:e.preferredCurrency==="waynebucks"?"default":"outline",className:`
            ${a[n]} 
            ${e.preferredCurrency==="waynebucks"?"bg-casino-gold hover:bg-casino-gold/90":""}
          `,onClick:()=>t("waynebucks"),children:"WayneBucks"}),s.jsx(L,{variant:e.preferredCurrency==="waynesweeps"?"default":"outline",className:`
            ${a[n]} 
            ${e.preferredCurrency==="waynesweeps"?"bg-casino-purple hover:bg-casino-purple/90":""}
          `,onClick:()=>t("waynesweeps"),children:"WayneSweeps"})]})]})},WO=()=>{const{user:e}=Ge(),[t,n]=m.useState(0),[r,a]=m.useState(!1),[o,i]=m.useState(0),[l,c]=m.useState(!1),[u,d]=m.useState("waynebucks"),[f,h]=m.useState({darkMode:!0,notifications:!0,soundEffects:!0,preferredCurrency:"waynebucks"}),x=4*60*60*1e3,g=6;m.useEffect(()=>{if(!e)return;const y=async()=>{try{const{data:N,error:C}=await W.from("profiles").select("preferences").eq("id",e.id).single();if(!C&&N&&N.preferences){const k=N.preferences;h({darkMode:k.darkMode??!0,notifications:k.notifications??!0,soundEffects:k.soundEffects??!0,preferredCurrency:k.preferredCurrency??"waynebucks"}),d(k.preferredCurrency??"waynebucks")}}catch(N){console.error("Error fetching user preferences:",N)}},b=async()=>{try{const{data:N,error:C}=await W.from("time_rewards").select("*").eq("user_id",e.id).single();if(C&&C.code!=="PGRST116"){console.error("Error fetching reward status:",C);return}const k=N;if(k){const T=new Date(k.last_claimed).getTime(),$=Date.now(),M=$-T;if(i(k.claim_count),d(k.currency_type),M>=x&&k.claim_count<g)a(!0),n(0);else if(k.claim_count>=g){const I=new Date;I.setHours(0,0,0,0),I.setDate(I.getDate()+1),n(I.getTime()-$),a(!1)}else n(x-M),a(!1)}else a(!0),i(0)}catch(N){console.error("Error in fetchRewardStatus:",N)}};y(),b();const j=setInterval(()=>{t>1e3?n(N=>N-1e3):t>0&&(n(0),a(!0))},1e3);return()=>clearInterval(j)},[e,t]);const p=y=>{if(y<=0)return"00:00:00";const b=Math.floor(y/(60*60*1e3)),j=Math.floor(y%(60*60*1e3)/(60*1e3)),N=Math.floor(y%(60*1e3)/1e3);return`${b.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`},w=y=>{d(y)},v=async()=>{if(!(!e||!r)){c(!0);try{const y=u==="waynebucks"?100:50,{error:b}=await W.functions.invoke("update-balance",{body:{user_id:e.id,amount:y,type:"reward",metadata:{reward_type:"time_based",currency_type:u}}});if(b)throw new Error("Failed to update balance");const j=o+1,{error:N}=await W.from("time_rewards").upsert({user_id:e.id,last_claimed:new Date().toISOString(),claim_count:j,currency_type:u},{onConflict:"user_id"});if(N)throw new Error("Failed to update reward status");i(j),a(!1),n(x),D.success(`Claimed ${y} ${u==="waynebucks"?"WayneBucks":"WayneSweeps"}!`,{description:`You've claimed ${j}/${g} rewards today.`})}catch(y){console.error("Error claiming reward:",y),D.error("Failed to claim reward")}finally{c(!1)}}};return s.jsxs(J,{className:"bg-card border-border/30 shadow-xl",children:[s.jsxs(ae,{className:"pb-2",children:[s.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-casino-gold"}),"Time-Based Rewards"]}),s.jsx(ke,{children:"Claim rewards every 4 hours, up to 6 times daily"})]}),s.jsxs(ne,{className:"pt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("div",{className:"text-sm",children:"Next Reward:"}),s.jsx("div",{className:`font-mono ${r?"text-casino-gold":"text-muted-foreground"}`,children:r?"Ready to claim!":p(t)})]}),s.jsx(Ds,{value:r?100:100-t/x*100,className:"h-2",color:r?"bg-casino-gold":void 0}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsxs("div",{children:["Claims Today: ",o,"/",g]}),s.jsx("div",{children:"Resets at midnight"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx(m1,{preferences:{...f,preferredCurrency:u},onToggle:w,size:"sm"})}),s.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:u==="waynebucks"?"text-casino-gold":"text-casino-purple"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:u==="waynebucks"?"WayneBucks":"WayneSweeps"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:u==="waynebucks"?"Used for all games":"For sweepstakes entries only"})]})]}),s.jsx("div",{className:"text-lg font-bold",children:u==="waynebucks"?"+100":"+50"})]})})]})]}),s.jsx(ds,{children:s.jsx(L,{className:"w-full casino-btn",onClick:v,disabled:!r||l,children:l?"Claiming...":r?"Claim Reward":"Wait for Next Reward"})})]})};function yi(e,[t,n]){return Math.min(n,Math.max(t,e))}function HO(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Wm="ScrollArea",[p1,EL]=Qn(Wm),[VO,fn]=p1(Wm),g1=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[x,g]=m.useState(null),[p,w]=m.useState(null),[v,y]=m.useState(0),[b,j]=m.useState(0),[N,C]=m.useState(!1),[k,T]=m.useState(!1),$=be(t,I=>c(I)),M=Li(a);return s.jsx(VO,{scope:n,type:r,dir:M,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(le.div,{dir:M,...i,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});g1.displayName=Wm;var x1="ScrollAreaViewport",v1=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:o,...i}=e,l=fn(x1,n),c=m.useRef(null),u=be(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),s.jsx(le.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t4({asChild:a,children:r},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});v1.displayName=x1;var Jn="ScrollAreaScrollbar",Hm=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=fn(Jn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(qO,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(GO,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(y1,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(Vm,{...r,ref:t}):null});Hm.displayName=Jn;var qO=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=fn(Jn,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Pn,{present:n||o,children:s.jsx(y1,{"data-state":o?"visible":"hidden",...r,ref:t})})}),GO=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=fn(Jn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=pu(()=>c("SCROLL_END"),100),[l,c]=HO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const u=a.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const x=u[d];f!==x&&(c("SCROLL"),i()),f=x};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,c,i]),s.jsx(Pn,{present:n||l!=="hidden",children:s.jsx(Vm,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),y1=m.forwardRef((e,t)=>{const n=fn(Jn,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=m.useState(!1),l=e.orientation==="horizontal",c=pu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:d)}},10);return Za(n.viewport,c),Za(n.content,c),s.jsx(Pn,{present:r||o,children:s.jsx(Vm,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Vm=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=fn(Jn,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_1(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,x){return ZO(h,i.current,l,x)}return n==="horizontal"?s.jsx(YO,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,x=kx(h,l,a.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?s.jsx(QO,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,x=kx(h,l);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),YO=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=fn(Jn,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=be(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(b1,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),k1(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:jc(i.paddingLeft),paddingEnd:jc(i.paddingRight)}})}})}),QO=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=fn(Jn,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=be(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(b1,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),k1(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:jc(i.paddingTop),paddingEnd:jc(i.paddingBottom)}})}})}),[KO,w1]=p1(Jn),b1=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,x=fn(Jn,n),[g,p]=m.useState(null),w=be(t,$=>p($)),v=m.useRef(null),y=m.useRef(""),b=x.viewport,j=r.content-r.viewport,N=rt(d),C=rt(c),k=pu(f,10);function T($){if(v.current){const M=$.clientX-v.current.left,I=$.clientY-v.current.top;u({x:M,y:I})}}return m.useEffect(()=>{const $=M=>{const I=M.target;(g==null?void 0:g.contains(I))&&N(M,j)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[b,g,j,N]),m.useEffect(C,[r,C]),Za(g,k),Za(x.content,k),s.jsx(KO,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:rt(o),onThumbPointerUp:rt(i),onThumbPositionChange:C,onThumbPointerDown:rt(l),children:s.jsx(le.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:ee(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),v.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),T($))}),onPointerMove:ee(e.onPointerMove,T),onPointerUp:ee(e.onPointerUp,$=>{const M=$.target;M.hasPointerCapture($.pointerId)&&M.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=y.current,x.viewport&&(x.viewport.style.scrollBehavior=""),v.current=null})})})}),bc="ScrollAreaThumb",j1=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=w1(bc,e.__scopeScrollArea);return s.jsx(Pn,{present:n||a.hasThumb,children:s.jsx(JO,{ref:t,...r})})}),JO=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=fn(bc,n),i=w1(bc,n),{onThumbPositionChange:l}=i,c=be(t,f=>i.onThumbChange(f)),u=m.useRef(),d=pu(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const x=e4(f,l);u.current=x,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,l]),s.jsx(le.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ee(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),g=f.clientX-x.left,p=f.clientY-x.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:ee(e.onPointerUp,i.onThumbPointerUp)})});j1.displayName=bc;var qm="ScrollAreaCorner",N1=m.forwardRef((e,t)=>{const n=fn(qm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(XO,{...e,ref:t}):null});N1.displayName=qm;var XO=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=fn(qm,n),[o,i]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return Za(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Za(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?s.jsx(le.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function jc(e){return e?parseInt(e,10):0}function _1(e,t){const n=e/t;return isNaN(n)?0:n}function mu(e){const t=_1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ZO(e,t,n,r="ltr"){const a=mu(n),o=a/2,i=t||o,l=a-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return S1([c,u],f)(e)}function kx(e,t,n="ltr"){const r=mu(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=yi(e,c);return S1([0,i],[0,l])(u)}function S1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function k1(e,t){return e>0&&e<t}var e4=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function pu(e,t){const n=rt(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Za(e,t){const n=rt(t);ut(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function t4(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=m.Children.only(r);return m.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var C1=g1,n4=v1,r4=N1;const wi=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(C1,{ref:r,className:re("relative overflow-hidden",e),...n,children:[s.jsx(n4,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(E1,{}),s.jsx(r4,{})]}));wi.displayName=C1.displayName;const E1=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(Hm,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(j1,{className:"relative flex-1 rounded-full bg-border"})}));E1.displayName=Hm.displayName;const s4=()=>{const[e,t]=m.useState(""),{messages:n,sendMessage:r,activeRoom:a,setActiveRoom:o,onlineUsers:i}=g5(),{user:l}=Ge(),c=m.useRef(null),u=[{id:"general",name:"General"},{id:"slots",name:"Slots"},{id:"sports",name:"Sports"},{id:"poker",name:"Poker"}];m.useEffect(()=>{d()},[n]);const d=()=>{var g;(g=c.current)==null||g.scrollIntoView({behavior:"smooth"})},f=g=>{g.preventDefault(),e.trim()&&l&&(r(e,a),t(""))},h=g=>g.substring(0,2).toUpperCase(),x=g=>new Date(g).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsxs(J,{className:"h-full flex flex-col",children:[s.jsx(ae,{className:"p-3 border-b",children:s.jsx(gt,{defaultValue:a,onValueChange:o,className:"w-full",children:s.jsx(dt,{className:"grid grid-cols-4 w-full",children:u.map(g=>s.jsx(fe,{value:g.id,className:"text-xs",children:g.name},g.id))})})}),s.jsx(ne,{className:"flex-1 p-0",children:s.jsxs(gt,{defaultValue:"chat",children:[s.jsx("div",{className:"border-b px-3 py-1",children:s.jsxs(dt,{className:"h-8",children:[s.jsxs(fe,{value:"chat",className:"text-xs",children:[s.jsx(Ho,{className:"h-3.5 w-3.5 mr-1"}),"Chat"]}),s.jsxs(fe,{value:"online",className:"text-xs",children:[s.jsx(kn,{className:"h-3.5 w-3.5 mr-1"}),"Online (",Object.keys(i).length,")"]})]})}),s.jsx(pe,{value:"chat",className:"m-0 h-[calc(100%-40px)]",children:s.jsxs(wi,{className:"h-[350px] p-3",children:[n.length>0?n.map((g,p)=>s.jsxs("div",{className:`flex gap-2 mb-3 ${g.user_id===(l==null?void 0:l.id)?"justify-end":""}`,children:[g.user_id!==(l==null?void 0:l.id)&&s.jsxs(Vn,{className:"h-8 w-8",children:[s.jsx(ur,{src:g.avatar_url}),s.jsx(qn,{children:h(g.username)})]}),s.jsxs("div",{className:`max-w-[75%] ${g.user_id===(l==null?void 0:l.id)?"bg-primary/10":"bg-muted"} rounded-lg p-2`,children:[g.user_id!==(l==null?void 0:l.id)&&s.jsx("div",{className:"text-xs font-semibold mb-1",children:g.username}),s.jsx("div",{className:"text-sm",children:g.content}),s.jsx("div",{className:"text-xs text-muted-foreground text-right mt-1",children:x(g.created_at)})]}),g.user_id===(l==null?void 0:l.id)&&s.jsxs(Vn,{className:"h-8 w-8",children:[s.jsx(ur,{src:g.avatar_url}),s.jsx(qn,{children:h(g.username)})]})]},g.id||p)):s.jsx("div",{className:"text-center text-muted-foreground py-10",children:"No messages yet. Start the conversation!"}),s.jsx("div",{ref:c})]})}),s.jsx(pe,{value:"online",className:"m-0 h-[calc(100%-40px)]",children:s.jsx(wi,{className:"h-[350px] p-3",children:s.jsx("div",{className:"space-y-4",children:Object.entries(i).length>0?Object.entries(i).map(([g,p])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Vn,{className:"h-8 w-8",children:[s.jsx(ur,{src:p.avatar_url}),s.jsx(qn,{children:h(p.username)})]}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"text-sm font-medium",children:p.username})}),s.jsx(Oe,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Online"})]},g)):s.jsx("div",{className:"text-center text-muted-foreground py-10",children:"No users online"})})})})]})}),s.jsx(ds,{className:"p-3 border-t",children:s.jsxs("form",{onSubmit:f,className:"flex gap-2 w-full",children:[s.jsx(Ke,{value:e,onChange:g=>t(g.target.value),placeholder:"Type your message...",className:"flex-1"}),s.jsx(L,{type:"submit",size:"icon",disabled:!e.trim(),children:s.jsx(BC,{className:"h-4 w-4"})})]})})]})},$i=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));$i.displayName="Table";const Fi=m.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));Fi.displayName="TableHeader";const Bi=m.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));Bi.displayName="TableBody";const a4=m.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));a4.displayName="TableFooter";const vr=m.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));vr.displayName="TableRow";const tt=m.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tt.displayName="TableHead";const nt=m.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));nt.displayName="TableCell";const T1=m.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));T1.displayName="TableCaption";var o4=[" ","Enter","ArrowUp","ArrowDown"],i4=[" ","Enter"],zi="Select",[gu,xu,l4]=zc(zi),[fo,TL]=Qn(zi,[l4,Kc]),vu=Kc(),[c4,vs]=fo(zi),[u4,d4]=fo(zi),P1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:x,form:g}=e,p=vu(t),[w,v]=m.useState(null),[y,b]=m.useState(null),[j,N]=m.useState(!1),C=Li(u),[k=!1,T]=pr({prop:r,defaultProp:a,onChange:o}),[$,M]=pr({prop:i,defaultProp:l,onChange:c}),I=m.useRef(null),R=w?g||!!w.closest("form"):!0,[F,E]=m.useState(new Set),P=Array.from(F).map(_=>_.props.value).join(";");return s.jsx(ww,{...p,children:s.jsxs(c4,{required:x,scope:t,trigger:w,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:cr(),value:$,onValueChange:M,open:k,onOpenChange:T,dir:C,triggerPointerDownPosRef:I,disabled:h,children:[s.jsx(gu.Provider,{scope:t,children:s.jsx(u4,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(_=>{E(A=>new Set(A).add(_))},[]),onNativeOptionRemove:m.useCallback(_=>{E(A=>{const S=new Set(A);return S.delete(_),S})},[]),children:n})}),R?s.jsxs(tN,{"aria-hidden":!0,required:x,tabIndex:-1,name:d,autoComplete:f,value:$,onChange:_=>M(_.target.value),disabled:h,form:g,children:[$===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},P):null]})})};P1.displayName=zi;var R1="SelectTrigger",A1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,o=vu(n),i=vs(R1,n),l=i.disabled||r,c=be(t,i.onTriggerChange),u=xu(n),d=m.useRef("touch"),[f,h,x]=nN(p=>{const w=u().filter(b=>!b.disabled),v=w.find(b=>b.value===i.value),y=rN(w,p,v);y!==void 0&&i.onValueChange(y.value)}),g=p=>{l||(i.onOpenChange(!0),x()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(bw,{asChild:!0,...o,children:s.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eN(i.value)?"":void 0,...a,ref:c,onClick:ee(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:ee(a.onPointerDown,p=>{d.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:ee(a.onKeyDown,p=>{const w=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(w&&p.key===" ")&&o4.includes(p.key)&&(g(),p.preventDefault())})})})});A1.displayName=R1;var M1="SelectValue",O1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:i="",...l}=e,c=vs(M1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=be(t,c.onValueNodeChange);return ut(()=>{u(d)},[u,d]),s.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:eN(c.value)?s.jsx(s.Fragment,{children:i}):o})});O1.displayName=M1;var f4="SelectIcon",D1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(le.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});D1.displayName=f4;var h4="SelectPortal",I1=e=>s.jsx(Uc,{asChild:!0,...e});I1.displayName=h4;var Vs="SelectContent",L1=m.forwardRef((e,t)=>{const n=vs(Vs,e.__scopeSelect),[r,a]=m.useState();if(ut(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?Qs.createPortal(s.jsx($1,{scope:e.__scopeSelect,children:s.jsx(gu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(F1,{...e,ref:t})});L1.displayName=Vs;var mn=10,[$1,ys]=fo(Vs),m4="SelectContentImpl",F1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:w,...v}=e,y=vs(Vs,n),[b,j]=m.useState(null),[N,C]=m.useState(null),k=be(t,te=>j(te)),[T,$]=m.useState(null),[M,I]=m.useState(null),R=xu(n),[F,E]=m.useState(!1),P=m.useRef(!1);m.useEffect(()=>{if(b)return Ub(b)},[b]),Mb();const _=m.useCallback(te=>{const[ue,...Te]=R().map(q=>q.ref.current),[Y]=Te.slice(-1),Q=document.activeElement;for(const q of te)if(q===Q||(q==null||q.scrollIntoView({block:"nearest"}),q===ue&&N&&(N.scrollTop=0),q===Y&&N&&(N.scrollTop=N.scrollHeight),q==null||q.focus(),document.activeElement!==Q))return},[R,N]),A=m.useCallback(()=>_([T,b]),[_,T,b]);m.useEffect(()=>{F&&A()},[F,A]);const{onOpenChange:S,triggerPointerDownPosRef:O}=y;m.useEffect(()=>{if(b){let te={x:0,y:0};const ue=Y=>{var Q,q;te={x:Math.abs(Math.round(Y.pageX)-(((Q=O.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((q=O.current)==null?void 0:q.y)??0))}},Te=Y=>{te.x<=10&&te.y<=10?Y.preventDefault():b.contains(Y.target)||S(!1),document.removeEventListener("pointermove",ue),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",Te,{capture:!0})}}},[b,S,O]),m.useEffect(()=>{const te=()=>S(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[S]);const[B,z]=nN(te=>{const ue=R().filter(Q=>!Q.disabled),Te=ue.find(Q=>Q.ref.current===document.activeElement),Y=rN(ue,te,Te);Y&&setTimeout(()=>Y.ref.current.focus())}),X=m.useCallback((te,ue,Te)=>{const Y=!P.current&&!Te;(y.value!==void 0&&y.value===ue||Y)&&($(te),Y&&(P.current=!0))},[y.value]),ce=m.useCallback(()=>b==null?void 0:b.focus(),[b]),V=m.useCallback((te,ue,Te)=>{const Y=!P.current&&!Te;(y.value!==void 0&&y.value===ue||Y)&&I(te)},[y.value]),oe=r==="popper"?qf:B1,K=oe===qf?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:w}:{};return s.jsx($1,{scope:n,content:b,viewport:N,onViewportChange:C,itemRefCallback:X,selectedItem:T,onItemLeave:ce,itemTextRefCallback:V,focusSelectedItem:A,selectedItemText:M,position:r,isPositioned:F,searchRef:B,children:s.jsx(Am,{as:zs,allowPinchZoom:!0,children:s.jsx(Rm,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ee(a,te=>{var ue;(ue=y.trigger)==null||ue.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Ti,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(oe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...v,...K,onPlaced:()=>E(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,te=>{const ue=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ue&&te.key.length===1&&z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Y=R().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Q=te.target,q=Y.indexOf(Q);Y=Y.slice(q+1)}setTimeout(()=>_(Y)),te.preventDefault()}})})})})})})});F1.displayName=m4;var p4="SelectItemAlignedPosition",B1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,o=vs(Vs,n),i=ys(Vs,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=be(t,k=>d(k)),h=xu(n),x=m.useRef(!1),g=m.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&w&&v){const k=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(o.dir!=="rtl"){const Q=M.left-T.left,q=$.left-Q,se=k.left-q,de=k.width+se,ge=Math.max(de,T.width),he=window.innerWidth-mn,Se=yi(q,[mn,Math.max(mn,he-ge)]);l.style.minWidth=de+"px",l.style.left=Se+"px"}else{const Q=T.right-M.right,q=window.innerWidth-$.right-Q,se=window.innerWidth-k.right-q,de=k.width+se,ge=Math.max(de,T.width),he=window.innerWidth-mn,Se=yi(q,[mn,Math.max(mn,he-ge)]);l.style.minWidth=de+"px",l.style.right=Se+"px"}const I=h(),R=window.innerHeight-mn*2,F=p.scrollHeight,E=window.getComputedStyle(u),P=parseInt(E.borderTopWidth,10),_=parseInt(E.paddingTop,10),A=parseInt(E.borderBottomWidth,10),S=parseInt(E.paddingBottom,10),O=P+_+F+S+A,B=Math.min(w.offsetHeight*5,O),z=window.getComputedStyle(p),X=parseInt(z.paddingTop,10),ce=parseInt(z.paddingBottom,10),V=k.top+k.height/2-mn,oe=R-V,K=w.offsetHeight/2,te=w.offsetTop+K,ue=P+_+te,Te=O-ue;if(ue<=V){const Q=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,se=Math.max(oe,K+(Q?ce:0)+q+A),de=ue+se;l.style.height=de+"px"}else{const Q=I.length>0&&w===I[0].ref.current;l.style.top="0px";const se=Math.max(V,P+p.offsetTop+(Q?X:0)+K)+Te;l.style.height=se+"px",p.scrollTop=ue-V+p.offsetTop}l.style.margin=`${mn}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[h,o.trigger,o.valueNode,l,u,p,w,v,o.dir,r]);ut(()=>b(),[b]);const[j,N]=m.useState();ut(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=m.useCallback(k=>{k&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return s.jsx(x4,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(le.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});B1.displayName=p4;var g4="SelectPopperPosition",qf=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=mn,...o}=e,i=vu(n);return s.jsx(jw,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qf.displayName=g4;var[x4,Gm]=fo(Vs,{}),Gf="SelectViewport",z1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,o=ys(Gf,n),i=Gm(Gf,n),l=be(t,o.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(gu.Slot,{scope:n,children:s.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ee(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const x=Math.abs(c.current-d.scrollTop);if(x>0){const g=window.innerHeight-mn*2,p=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(p,w);if(v<g){const y=v+x,b=Math.min(g,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});z1.displayName=Gf;var U1="SelectGroup",[v4,y4]=fo(U1),w4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=cr();return s.jsx(v4,{scope:n,id:a,children:s.jsx(le.div,{role:"group","aria-labelledby":a,...r,ref:t})})});w4.displayName=U1;var W1="SelectLabel",H1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=y4(W1,n);return s.jsx(le.div,{id:a.id,...r,ref:t})});H1.displayName=W1;var Nc="SelectItem",[b4,V1]=fo(Nc),q1=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...i}=e,l=vs(Nc,n),c=ys(Nc,n),u=l.value===r,[d,f]=m.useState(o??""),[h,x]=m.useState(!1),g=be(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,a)}),p=cr(),w=m.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(b4,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:m.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(gu.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(le.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:ee(i.onFocus,()=>x(!0)),onBlur:ee(i.onBlur,()=>x(!1)),onClick:ee(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:ee(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:ee(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:ee(i.onPointerMove,y=>{var b;w.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(i.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(i4.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});q1.displayName=Nc;var Mo="SelectItemText",G1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...o}=e,i=vs(Mo,n),l=ys(Mo,n),c=V1(Mo,n),u=d4(Mo,n),[d,f]=m.useState(null),h=be(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),x=d==null?void 0:d.textContent,g=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=u;return ut(()=>(p(g),()=>w(g)),[p,w,g]),s.jsxs(s.Fragment,{children:[s.jsx(le.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Qs.createPortal(o.children,i.valueNode):null]})});G1.displayName=Mo;var Y1="SelectItemIndicator",Q1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return V1(Y1,n).isSelected?s.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});Q1.displayName=Y1;var Yf="SelectScrollUpButton",K1=m.forwardRef((e,t)=>{const n=ys(Yf,e.__scopeSelect),r=Gm(Yf,e.__scopeSelect),[a,o]=m.useState(!1),i=be(t,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(X1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});K1.displayName=Yf;var Qf="SelectScrollDownButton",J1=m.forwardRef((e,t)=>{const n=ys(Qf,e.__scopeSelect),r=Gm(Qf,e.__scopeSelect),[a,o]=m.useState(!1),i=be(t,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(X1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});J1.displayName=Qf;var X1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,o=ys("SelectScrollButton",n),i=m.useRef(null),l=xu(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),ut(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(le.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ee(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ee(a.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ee(a.onPointerLeave,()=>{c()})})}),j4="SelectSeparator",Z1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});Z1.displayName=j4;var Kf="SelectArrow",N4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=vu(n),o=vs(Kf,n),i=ys(Kf,n);return o.open&&i.position==="popper"?s.jsx(Nw,{...a,...r,ref:t}):null});N4.displayName=Kf;function eN(e){return e===""||e===void 0}var tN=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=m.useRef(null),o=be(t,a),i=Tm(n);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[i,n]),s.jsx(Pi,{asChild:!0,children:s.jsx("select",{...r,ref:o,defaultValue:n})})});tN.displayName="BubbleSelect";function nN(e){const t=rt(e),n=m.useRef(""),r=m.useRef(0),a=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function rN(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=_4(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function _4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var S4=P1,sN=A1,k4=O1,C4=D1,E4=I1,aN=L1,T4=z1,oN=H1,iN=q1,P4=G1,R4=Q1,lN=K1,cN=J1,uN=Z1;const dN=S4,fN=k4,Ym=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(sN,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(C4,{asChild:!0,children:s.jsx(F0,{className:"h-4 w-4 opacity-50"})})]}));Ym.displayName=sN.displayName;const hN=m.forwardRef(({className:e,...t},n)=>s.jsx(lN,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(EC,{className:"h-4 w-4"})}));hN.displayName=lN.displayName;const mN=m.forwardRef(({className:e,...t},n)=>s.jsx(cN,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(F0,{className:"h-4 w-4"})}));mN.displayName=cN.displayName;const Qm=m.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(E4,{children:s.jsxs(aN,{ref:a,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(hN,{}),s.jsx(T4,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(mN,{})]})}));Qm.displayName=aN.displayName;const A4=m.forwardRef(({className:e,...t},n)=>s.jsx(oN,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A4.displayName=oN.displayName;const $r=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(iN,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(R4,{children:s.jsx(os,{className:"h-4 w-4"})})}),s.jsx(P4,{children:t})]}));$r.displayName=iN.displayName;const M4=m.forwardRef(({className:e,...t},n)=>s.jsx(uN,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));M4.displayName=uN.displayName;const O4=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,o]=m.useState("all"),{user:i}=Ge();m.useEffect(()=>{if(!i)return;(async()=>{r(!0);try{let h=W.from("transactions").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});a!=="all"&&(h=h.eq("type",a));const{data:x,error:g}=await h;if(g)throw g;t(x||[])}catch(h){console.error("Error fetching transactions:",h)}finally{r(!1)}})()},[i,a]);const l=f=>{const h=new Date(f);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(h)},c=f=>new Intl.NumberFormat("en-US").format(Math.abs(f)),u=f=>{switch(f){case"win":return"bg-green-500 text-white";case"bet":return"bg-red-500 text-white";case"purchase":return"bg-blue-500 text-white";case"reward":return"bg-yellow-500 text-white";default:return"bg-gray-500 text-white"}},d=f=>{var h;return(h=f.metadata)!=null&&h.currency_type?f.metadata.currency_type==="waynebucks"?"WayneBucks":"WayneSweeps":"WayneBucks"};return s.jsxs(J,{children:[s.jsx(ae,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(W0,{className:"h-5 w-5"})," Transaction History"]}),s.jsx(ke,{children:"View your recent financial activity"})]}),s.jsxs(dN,{value:a,onValueChange:o,children:[s.jsx(Ym,{className:"w-[150px]",children:s.jsx(fN,{placeholder:"Filter by type"})}),s.jsxs(Qm,{children:[s.jsx($r,{value:"all",children:"All Transactions"}),s.jsx($r,{value:"win",children:"Winnings"}),s.jsx($r,{value:"bet",children:"Bets"}),s.jsx($r,{value:"purchase",children:"Purchases"}),s.jsx($r,{value:"reward",children:"Rewards"})]})]})]})}),s.jsx(ne,{children:n?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading transactions..."}):e.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs($i,{children:[s.jsx(Fi,{children:s.jsxs(vr,{children:[s.jsx(tt,{children:"Date"}),s.jsx(tt,{children:"Type"}),s.jsx(tt,{children:"Game"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Currency"})]})}),s.jsx(Bi,{children:e.map(f=>s.jsxs(vr,{children:[s.jsx(nt,{children:l(f.created_at)}),s.jsx(nt,{children:s.jsx(Oe,{className:u(f.type),children:f.type.charAt(0).toUpperCase()+f.type.slice(1)})}),s.jsx(nt,{children:f.game||"-"}),s.jsx(nt,{className:f.amount>0?"text-green-500":"text-red-500",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ee,{className:"h-3.5 w-3.5"}),s.jsxs("span",{children:[f.amount>0?"+":"-",c(f.amount)]})]})}),s.jsx(nt,{children:d(f)})]},f.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions found. Play some games or make a purchase to see your history!"})})]})},bl=[{id:"basic",name:"Basic",amount:5,waynebucks:500},{id:"standard",name:"Standard",amount:10,waynebucks:1100},{id:"premium",name:"Premium",amount:25,waynebucks:3e3},{id:"elite",name:"Elite",amount:50,waynebucks:6500},{id:"vip",name:"VIP",amount:100,waynebucks:15e3}],D4=()=>{const[e,t]=m.useState(bl[1].id),[n,r]=m.useState(""),[a,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),d=G.useRef(null),{user:f}=Ge(),h=p=>{p==="custom"?(o(!0),t("")):(o(!1),t(p))},x=()=>{var p;return a?n||0:((p=bl.find(w=>w.id===e))==null?void 0:p.amount)||0},g=()=>{var w;const p=x();return a?Math.floor(Number(p)*100):((w=bl.find(v=>v.id===e))==null?void 0:w.waynebucks)||0};return m.useEffect(()=>{if(window.paypal||c)return;const p=document.createElement("script");return p.src="https://www.paypal.com/sdk/js?client-id=AX1xVKAX8aFhyYm2F5OytAoZJipRpPDpbElXsbe7AuYcRlXO3nIBy66oCkcPwMVld_1DnXGO7lYQQZk0&currency=USD",p.async=!0,p.onload=()=>{u(!0)},p.onerror=()=>{console.error("Failed to load PayPal SDK"),D.error("PayPal payment system failed to load")},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[c]),m.useEffect(()=>{if(!c||!f||!d.current||i)return;d.current.innerHTML="";const p=x();!p||p<=0||window.paypal.Buttons({style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"},createOrder:async()=>{l(!0);try{const{data:w,error:v}=await W.functions.invoke("process-payment",{body:{action:"create_order",user_id:f.id,amount:p}});if(v||!(w!=null&&w.order_id))throw new Error((v==null?void 0:v.message)||"Failed to create order");return w.order_id}catch(w){throw D.error(`Error: ${w.message}`),l(!1),w}},onApprove:async w=>{try{D.info("Processing payment...");const{data:v,error:y}=await W.functions.invoke("process-payment",{body:{action:"capture_payment",user_id:f.id,order_id:w.orderID}});if(y)throw new Error(y.message);D.success(`Successfully purchased ${v.waynebucks_credited} WayneBucks!`),a&&r("")}catch(v){D.error(`Payment failed: ${v.message}`)}finally{l(!1)}},onError:w=>{console.error("PayPal error:",w),D.error("Payment failed. Please try again later."),l(!1)}}).render(d.current)},[c,f,a,e,n,i]),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),"Purchase WayneBucks"]}),s.jsx(ke,{children:"Select a package or enter a custom amount to purchase"})]}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Package"}),s.jsxs(dN,{value:a?"custom":e,onValueChange:h,children:[s.jsx(Ym,{className:"w-full",children:s.jsx(fN,{placeholder:"Select a package"})}),s.jsxs(Qm,{children:[bl.map(p=>s.jsxs($r,{value:p.id,children:[p.name,": $",p.amount," for ",p.waynebucks," WayneBucks"]},p.id)),s.jsx($r,{value:"custom",children:"Custom Amount"})]})]})]}),a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"amount",className:"text-sm font-medium",children:"Custom Amount ($)"}),s.jsx(Ke,{id:"amount",type:"number",value:n,min:1,step:1,onChange:p=>r(p.target.value?Number(p.target.value):""),placeholder:"Enter amount in USD",className:"w-full"})]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",children:"You Pay:"}),s.jsxs("div",{className:"font-semibold flex items-center",children:[s.jsx(z0,{className:"h-4 w-4 mr-1"}),x()]})]}),s.jsx("div",{className:"border-t my-2 border-border/30"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",children:"You Get:"}),s.jsxs("div",{className:"font-semibold text-casino-gold flex items-center",children:[s.jsx(Ee,{className:"h-4 w-4 mr-1"}),g()," WayneBucks"]})]})]}),!f&&s.jsx("div",{className:"text-center text-amber-500 p-2 bg-amber-500/10 rounded-md",children:"Please log in to purchase WayneBucks"}),s.jsx("div",{ref:d,className:"mt-4"}),!c&&f&&s.jsxs("div",{className:"text-center py-2",children:[s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading payment options..."})]})]})]})},I4=()=>{const[e,t]=m.useState(1e3),[n,r]=m.useState(""),[a,o]=m.useState({darkMode:!0,notifications:!0,soundEffects:!0,preferredCurrency:"waynebucks"}),[i,l]=m.useState(!1),{user:c}=Ge();m.useEffect(()=>{c&&(async()=>{const{data:f,error:h}=await W.from("profiles").select("username, balance, preferences").eq("id",c.id).single();if(!h&&f&&(r(f.username),t(f.balance),f.preferences)){const x=f.preferences;o({darkMode:x.darkMode??!0,notifications:x.notifications??!0,soundEffects:x.soundEffects??!0,preferredCurrency:x.preferredCurrency??"waynebucks"})}})()},[c]);const u=async()=>{if(c){l(!0);try{const{error:d}=await W.from("profiles").update({username:n,preferences:a}).eq("id",c.id);if(d)throw d;D.success("Profile updated successfully")}catch(d){console.error("Error updating profile:",d),D.error("Failed to update profile")}finally{l(!1)}}};return s.jsxs(Et,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"View your stats and customize your experience"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(gt,{defaultValue:"profile",className:"w-full",children:[s.jsxs(dt,{className:"grid grid-cols-5 mb-6",children:[s.jsxs(fe,{value:"profile",children:[s.jsx(yf,{className:"h-4 w-4 mr-2"}),"Profile"]}),s.jsxs(fe,{value:"settings",children:[s.jsx(tm,{className:"h-4 w-4 mr-2"}),"Settings"]}),s.jsxs(fe,{value:"history",children:[s.jsx(W0,{className:"h-4 w-4 mr-2"}),"History"]}),s.jsxs(fe,{value:"chat",children:[s.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Chat"]}),s.jsxs(fe,{value:"purchase",children:[s.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Purchase"]})]}),s.jsx(pe,{value:"profile",children:s.jsx(PO,{coins:e,setCoins:t})}),s.jsx(pe,{value:"settings",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"User Preferences"}),s.jsx(ke,{children:"Customize your casino experience"})]}),s.jsxs(ne,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"General Settings"}),s.jsxs("div",{className:"grid gap-4 mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(rn,{htmlFor:"username",children:"Username"}),s.jsx(Ke,{id:"username",value:n,onChange:d=>r(d.target.value),className:"w-[250px]"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(rn,{htmlFor:"dark-mode",children:"Dark Mode"}),s.jsx(rs,{id:"dark-mode",checked:a.darkMode,onCheckedChange:d=>o(f=>({...f,darkMode:d}))})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Notification Settings"}),s.jsx("div",{className:"grid gap-4 mt-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(rn,{htmlFor:"notifications",children:"Enable Notifications"}),s.jsx(rs,{id:"notifications",checked:a.notifications,onCheckedChange:d=>o(f=>({...f,notifications:d}))})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Game Settings"}),s.jsxs("div",{className:"grid gap-4 mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(rn,{htmlFor:"sound",children:"Sound Effects"}),s.jsx(rs,{id:"sound",checked:a.soundEffects,onCheckedChange:d=>o(f=>({...f,soundEffects:d}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(rn,{htmlFor:"currency",children:"Preferred Currency"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{variant:a.preferredCurrency==="waynebucks"?"default":"outline",className:`text-xs h-8 ${a.preferredCurrency==="waynebucks"?"bg-casino-gold hover:bg-casino-gold/90":""}`,onClick:()=>o(d=>({...d,preferredCurrency:"waynebucks"})),children:"WayneBucks"}),s.jsx(L,{variant:a.preferredCurrency==="waynesweeps"?"default":"outline",className:`text-xs h-8 ${a.preferredCurrency==="waynesweeps"?"bg-casino-purple hover:bg-casino-purple/90":""}`,onClick:()=>o(d=>({...d,preferredCurrency:"waynesweeps"})),children:"WayneSweeps"})]})]})]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(L,{onClick:u,disabled:i,className:"casino-btn",children:i?"Saving...":"Save Changes"})})]})]})}),s.jsx(pe,{value:"history",children:s.jsx(O4,{})}),s.jsx(pe,{value:"chat",children:s.jsx(s4,{})}),s.jsx(pe,{value:"purchase",children:s.jsx(D4,{})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(WO,{}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"WayneBucks vs WayneSweeps"}),s.jsx(ke,{children:"Understanding the difference"})]}),s.jsxs(ne,{children:[s.jsxs(Wf,{className:"mb-4",children:[s.jsx(Hf,{children:"WayneBucks"}),s.jsx(Vf,{children:"Used for all casino games. You can purchase these with real money or earn them through time-based rewards."})]}),s.jsxs(Wf,{children:[s.jsx(Hf,{children:"WayneSweeps"}),s.jsx(Vf,{children:"Used for sweepstakes entries and promotional games. These can only be earned through rewards and promotions, never purchased."})]})]})]})]})]})]})};function So({className:e,...t}){return s.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const jl=({timeRange:e="all-time",tournamentId:t})=>{const[n,r]=m.useState([]),[a,o]=m.useState(!0),{user:i}=Ge(),[l,c]=m.useState(null),[u,d]=m.useState(null);return m.useEffect(()=>{(async()=>{o(!0);try{if(t){const{data:h,error:x}=await W.rpc("get_tournament_leaderboard",{tournament_id:t});if(x){console.error("Error fetching tournament leaderboard:",x),o(!1);return}if(h&&Array.isArray(h)){const g=h.map((p,w)=>({id:p.id,user_id:p.user_id,rank:p.rank,username:p.username||"Player",avatar_url:p.avatar_url||void 0,score:p.score,winnings:0,isPlayer:(i==null?void 0:i.id)===p.user_id}));r(g)}}else{const{data:h,error:x}=await W.rpc("get_leaderboard");if(x){console.error("Error fetching leaderboard:",x),o(!1);return}if(h&&Array.isArray(h)){const g=h.map((p,w)=>({id:p.id,user_id:p.id,rank:w+1,username:p.username||"Player",avatar_url:p.avatar_url||void 0,score:p.games_won,winnings:p.total_winnings,isPlayer:(i==null?void 0:i.id)===p.id}));r(g)}}}catch(h){console.error("Error fetching leaderboard data:",h)}finally{o(!1)}})()},[e,t,i]),m.useEffect(()=>{(async()=>{if(i!=null&&i.id)if(t)try{const{data:h,error:x}=await W.rpc("get_user_tournament_standing",{tournament_id:t,user_id:i.id});if(x)return console.error("Error getting tournament standing:",x),null;if(h&&Array.isArray(h)&&h.length>0){const g=h[0];d(g?{rank:g.rank,score:g.score}:null)}else h&&typeof h=="object"&&d({rank:h.rank,score:h.score})}catch(h){console.error("Error in getUserTournamentStanding:",h)}else try{const{data:h,error:x}=await W.rpc("get_user_rank",{target_user_id:i.id,time_period:e});if(x){console.error("Error getting user rank:",x);return}if(h&&Array.isArray(h)&&h.length>0){const g=h[0];c({rank:Number(g.rank),games_played:Number(g.games_played),total_winnings:Number(g.total_winnings)})}else h&&typeof h=="object"&&c({rank:Number(h.rank),games_played:Number(h.games_played),total_winnings:Number(h.total_winnings)})}catch(h){console.error("Error getting user rank:",h)}})()},[i,e,t,n]),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"w-full",children:s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"grid grid-cols-[50px_1fr_100px_75px] gap-4 py-2 px-4 text-sm font-medium text-muted-foreground",children:[s.jsx("div",{children:"Rank"}),s.jsx("div",{children:"Player"}),s.jsx("div",{className:"text-right",children:"Score"}),s.jsx("div",{className:"text-right",children:"Winnings"})]}),a?s.jsx(s.Fragment,{children:Array.from({length:5}).map((f,h)=>s.jsxs("div",{className:"grid grid-cols-[50px_1fr_100px_75px] gap-4 py-2 px-4",children:[s.jsx("div",{className:"font-bold",children:s.jsx(So,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center font-medium",children:[s.jsx(Vn,{className:"mr-2 h-8 w-8",children:s.jsx(qn,{children:s.jsx(So,{className:"h-8 w-8"})})}),s.jsx(So,{className:"h-4 w-[100px]"})]}),s.jsx("div",{className:"text-right",children:s.jsx(So,{className:"h-4 w-[75px]"})}),s.jsx("div",{className:"text-right",children:s.jsx(So,{className:"h-4 w-[50px]"})})]},h))}):s.jsx(s.Fragment,{children:n.map(f=>{var h,x;return s.jsxs("div",{className:"grid grid-cols-[50px_1fr_100px_75px] gap-4 py-2 px-4",children:[s.jsxs("div",{className:"font-bold",children:[f.rank,f.rank===1&&s.jsx(Oe,{className:"ml-2",children:"👑"})]}),s.jsxs("div",{className:"flex items-center font-medium",children:[s.jsxs(Vn,{className:"mr-2 h-8 w-8",children:[s.jsx(ur,{src:f.avatar_url}),s.jsx(qn,{children:(h=f.username)==null?void 0:h.charAt(0)})]}),f.username,f.isPlayer&&s.jsx(Oe,{className:"ml-2",children:"You"})]}),s.jsx("div",{className:"text-right",children:f.score}),s.jsx("div",{className:"text-right",children:(x=f.winnings)==null?void 0:x.toLocaleString()})]},f.id)})})]})}),i&&!t&&l&&s.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-background/80 backdrop-blur-sm py-4 px-6 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your Rank: #",l.rank," | Games Played: ",l.games_played," | Total Winnings: ",l.total_winnings]})}),i&&t&&u&&s.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-background/80 backdrop-blur-sm py-4 px-6 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your Rank: #",u.rank," | Score: ",u.score]})})]})};var L4="Separator",Cx="horizontal",$4=["horizontal","vertical"],pN=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=Cx,...a}=e,o=F4(r)?r:Cx,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(le.div,{"data-orientation":o,...l,...a,ref:t})});pN.displayName=L4;function F4(e){return $4.includes(e)}var gN=pN;const dn=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(gN,{ref:a,decorative:n,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));dn.displayName=gN.displayName;const B4=()=>{var d;const[e,t]=m.useState("all-time"),[n]=JP(),r=n.get("tournament"),[a,o]=m.useState(null),[i,l]=m.useState(!1),c=st();m.useEffect(()=>{r&&u(r)},[r]);const u=async f=>{l(!0);try{const{data:h,error:x}=await W.rpc("get_tournament_details",{tournament_id:f});if(x)throw x;if(h&&Array.isArray(h)&&h.length>0){const g=h[0];o(g)}else h&&typeof h=="object"&&o(h)}catch(h){console.error("Error fetching tournament details:",h)}finally{l(!1)}};return r?s.jsxs(Et,{children:[s.jsxs("div",{className:"mb-6 flex items-center",children:[s.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>c("/tournaments"),className:"mr-4",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"})," Back to Tournaments"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Tournament Leaderboard"})]}),a&&s.jsxs(J,{className:"mb-6",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-6 w-6 text-casino-gold"}),a.title]}),s.jsx(ke,{children:a.description})]}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prize Pool"}),s.jsxs("p",{className:"text-lg font-bold",children:[(d=a.prize_pool)==null?void 0:d.toLocaleString()," Coins"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Game Type"}),s.jsx("p",{className:"text-lg font-bold capitalize",children:a.game_type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx("p",{className:"text-lg font-bold capitalize",children:a.status})]})]})})]}),s.jsx(jl,{tournamentId:r})]}):s.jsxs(Et,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboards"}),s.jsx("p",{className:"text-muted-foreground",children:"See who's winning big at WayneWagers"})]}),s.jsxs(gt,{defaultValue:"all-time",onValueChange:f=>t(f),children:[s.jsxs(dt,{className:"mb-6",children:[s.jsx(fe,{value:"all-time",children:"All Time"}),s.jsx(fe,{value:"this-week",children:"This Week"}),s.jsx(fe,{value:"today",children:"Today"})]}),s.jsx(pe,{value:"all-time",children:s.jsx(jl,{timeRange:"all-time"})}),s.jsx(pe,{value:"this-week",children:s.jsx(jl,{timeRange:"this-week"})}),s.jsx(pe,{value:"today",children:s.jsx(jl,{timeRange:"today"})})]}),s.jsx(dn,{className:"my-8"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Tournament Leaderboards"}),s.jsx("p",{className:"text-muted-foreground",children:"View current rankings in active tournaments"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(J,{className:"cursor-pointer hover:bg-muted/5 transition-colors",onClick:()=>c("/tournaments"),children:s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5 text-casino-gold"}),"Slot Tournaments"]}),s.jsx(ke,{children:"View all active slot machine tournaments"})]})}),s.jsx(J,{className:"cursor-pointer hover:bg-muted/5 transition-colors",onClick:()=>c("/tournaments?tab=quiz"),children:s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5 text-casino-gold"}),"Quiz Tournaments"]}),s.jsx(ke,{children:"View all active quiz game tournaments"})]})})]})]})},z4=()=>{const e=br();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},yd=({suit:e,value:t,hidden:n=!1})=>{const r=()=>{switch(e){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":return"♠";default:return""}},a=()=>e==="hearts"||e==="diamonds"?"text-red-500":"text-black";return n?s.jsx("div",{className:"w-24 h-36 bg-gradient-to-br from-blue-700 to-blue-900 rounded-lg shadow-lg border-2 border-white/20 flex items-center justify-center transform transition-transform hover:scale-105",children:s.jsx("div",{className:"text-2xl font-bold text-white transform -rotate-45",children:"WW"})}):s.jsxs("div",{className:"w-24 h-36 bg-white rounded-lg shadow-lg border border-gray-200 flex flex-col p-2 relative transform transition-transform hover:scale-105",children:[s.jsx("div",{className:`text-lg font-bold ${a()}`,children:t}),s.jsx("div",{className:`text-3xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 ${a()}`,children:r()}),s.jsx("div",{className:`text-lg font-bold self-end ${a()} transform rotate-180`,children:t})]})},U4=({dealerHand:e,playerHand:t,playerSplitHand:n,dealerCardHidden:r,activeSplitHand:a,hasPlayerSplit:o,calculateHandValue:i})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white opacity-80",children:"Dealer's Hand:"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:e.map((l,c)=>s.jsx(yd,{suit:l.suit,value:l.value,hidden:c===1&&r},`dealer-${c}`))}),!r&&s.jsxs("p",{className:"text-yellow-200 font-semibold",children:["Dealer: ",i(e)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white opacity-80",children:a?"Split Hand:":"Your Hand:"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:(a?n:t).map((l,c)=>s.jsx(yd,{suit:l.suit,value:l.value},`player-${c}`))}),s.jsxs("p",{className:"text-yellow-200 font-semibold",children:[a?"Split Hand:":"Your Hand:"," ",i(a?n:t)]})]}),o&&!a&&n.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white opacity-80",children:"Split Hand:"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:n.map((l,c)=>s.jsx(yd,{suit:l.suit,value:l.value},`split-${c}`))}),s.jsxs("p",{className:"text-yellow-200 font-semibold",children:["Split Hand: ",i(n)]})]})]}),W4=({betAmount:e,maxBet:t,isLoading:n,onBetChange:r,onStartGame:a})=>s.jsxs("div",{className:"mt-4 flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",onClick:()=>r(-5),disabled:e<=5,className:"border-white/30 text-white hover:bg-white/10",children:"-5"}),s.jsx(L,{variant:"outline",onClick:()=>r(-25),disabled:e<=25,className:"border-white/30 text-white hover:bg-white/10",children:"-25"}),s.jsx("div",{className:"bg-black/30 rounded-md px-4 py-2 min-w-[80px] text-center",children:s.jsx("span",{className:"text-yellow-300 font-bold",children:e})}),s.jsx(L,{variant:"outline",onClick:()=>r(25),disabled:e+25>t,className:"border-white/30 text-white hover:bg-white/10",children:"+25"}),s.jsx(L,{variant:"outline",onClick:()=>r(5),disabled:e+5>t,className:"border-white/30 text-white hover:bg-white/10",children:"+5"})]}),s.jsx(L,{disabled:n,onClick:a,className:"bg-casino-gold text-black hover:bg-yellow-400 w-full py-6 text-lg font-bold",children:n?"Dealing...":`Deal Cards (Bet ${e})`})]}),H4=({gameState:e,canDoubleDown:t,canSplit:n,playerHand:r,playerSplitHand:a,activeSplitHand:o,calculateHandValue:i,onHit:l,onStand:c,onDoubleDown:u,onSplit:d,onPlayAgain:f})=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[(e==="playing"||e==="splitting")&&s.jsxs(s.Fragment,{children:[s.jsx(L,{onClick:()=>l(o),className:"bg-red-600 hover:bg-red-700 text-white flex-1",disabled:o&&i(a)>=21||!o&&i(r)>=21||e!=="playing"&&e!=="splitting",children:"Hit"}),s.jsx(L,{onClick:()=>c(o),className:"bg-blue-600 hover:bg-blue-700 text-white flex-1",disabled:e!=="playing"&&e!=="splitting",children:"Stand"}),t&&s.jsx(L,{onClick:u,className:"bg-purple-600 hover:bg-purple-700 text-white flex-1",disabled:!t,children:"Double Down"}),n&&s.jsx(L,{onClick:d,className:"bg-amber-600 hover:bg-amber-700 text-white flex-1",disabled:!n,children:"Split"})]}),e==="gameOver"&&s.jsx(L,{onClick:f,className:"bg-casino-gold text-black hover:bg-yellow-400 w-full py-6",children:"Play Again"})]}),V4=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[x,g]=m.useState([]),[p,w]=m.useState("betting"),[v,y]=m.useState(25),[b,j]=m.useState("Place your bet to start"),[N,C]=m.useState(!0),[k,T]=m.useState(!1),[$,M]=m.useState(!1),[I,R]=m.useState(!1),F=()=>{const Y=["hearts","diamonds","clubs","spades"],Q=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],q=[];for(const se of Y)for(const de of Q){let ge;de==="A"?ge=11:["K","Q","J"].includes(de)?ge=10:ge=parseInt(de),q.push({suit:se,value:de,numericValue:ge})}return E([...q])},E=Y=>{const Q=[...Y];for(let q=Q.length-1;q>0;q--){const se=Math.floor(Math.random()*(q+1));[Q[q],Q[se]]=[Q[se],Q[q]]}return Q},P=()=>{const Y=[...r],Q=Y.pop();return a(Y),Q},_=Y=>{let Q=0,q=0;for(const se of Y)se.value==="A"?(q+=1,Q+=11):Q+=se.numericValue;for(;Q>21&&q>0;)Q-=10,q-=1;return Q},A=Y=>Y.length===2&&_(Y)===21,S=async()=>{if(t<v){D.error("Not enough coins for that bet!");return}if(T(!0),e)try{const{data:he,error:Se}=await W.rpc("update_balance",{user_uuid:e.id,amount:-v,t_type:"bet",game_name:"blackjack",meta:{bet_amount:v}});if(Se)throw Se;n(Me=>Me-v)}catch(he){console.error("Error placing bet:",he),D.error("Error placing bet. Please try again."),T(!1);return}else n(he=>he-v);T(!1);const Y=F(),Q=[Y.pop(),Y.pop()],q=[Y.pop(),Y.pop()];a(Y),i(Q),c([]),g(q),C(!0),w("playing"),M(!1),R(!1),d(!1),h(!1);const se=_(Q),de=A(Q),ge=A(q);de||ge?V(Q,q):j(`Your hand: ${se}. Hit, stand, or double down?`)},O=(Y=!1)=>{const Q=P();if(Y||u){const q=[...l,Q];c(q);const se=_(q);se>21?(h(!0),j(`Split hand bust! Value: ${se}`),u?V():d(!1)):j(`Split hand: ${se}. Hit or stand?`)}else{const q=[...o,Q];i(q);const se=_(q);if(se>21)if(j(`Bust! Your hand: ${se}`),I&&!f){d(!0);const de=_(l);j(`First hand busted. Split hand: ${de}. Hit or stand?`)}else V(q);else j(`Your hand: ${se}. Hit or stand?`)}},B=(Y=!1)=>{if(Y||u)if(h(!0),u)V();else{d(!0);const Q=_(l);j(`Split hand: ${Q}. Hit or stand?`)}else if(I&&!f){d(!0);const Q=_(l);j(`Split hand: ${Q}. Hit or stand?`)}else V()},z=async()=>{if(t<v){D.error("Not enough coins to double down!");return}if(T(!0),e)try{const{data:se,error:de}=await W.rpc("update_balance",{user_uuid:e.id,amount:-v,t_type:"bet",game_name:"blackjack",meta:{bet_amount:v,action:"double_down"}});if(de)throw de;n(ge=>ge-v)}catch(se){console.error("Error placing double down bet:",se),D.error("Error doubling down. Please try again."),T(!1);return}else n(se=>se-v);T(!1),M(!0);const Y=P(),Q=[...o,Y];i(Q);const q=_(Q);q>21?(j(`Bust! Your hand: ${q}`),V(Q)):(j(`Double down! Your hand: ${q}`),V(Q))},X=async()=>{if(o.length!==2||o[0].value!==o[1].value){D.error("You can only split a pair of same-value cards!");return}if(t<v){D.error("Not enough coins to split!");return}if(T(!0),e)try{const{data:he,error:Se}=await W.rpc("update_balance",{user_uuid:e.id,amount:-v,t_type:"bet",game_name:"blackjack",meta:{bet_amount:v,action:"split"}});if(Se)throw Se;n(Me=>Me-v)}catch(he){console.error("Error placing split bet:",he),D.error("Error splitting. Please try again."),T(!1);return}else n(he=>he-v);T(!1),R(!0),w("splitting");const Y=o[0],Q=o[1],q=P(),se=P();i([Y,q]),c([Q,se]);const de=_([Y,q]),ge=_([Q,se]);d(!1),h(!1),j(`Split into two hands. First hand: ${de}. Hit or stand?`),de===21&&ge===21?V():de===21?(d(!0),j(`First hand: Blackjack! Second hand: ${ge}. Hit or stand?`)):ge===21&&j(`First hand: ${de}. Hit or stand? Second hand: Blackjack!`),w("playing")},ce=async(Y,Q,q)=>{const se=_(Y),de=_(Q),ge=_(q);let he=null,Se=null,Me=0,je="";if(se>21?(he=!1,je+="Hand 1: Bust. "):ge>21||se>ge?(he=!0,Me+=v*2,je+=`Hand 1: Win (${se} vs ${ge}). `):se<ge?(he=!1,je+=`Hand 1: Loss (${se} vs ${ge}). `):(he=null,Me+=v,je+=`Hand 1: Push (${se}). `),de>21?(Se=!1,je+="Hand 2: Bust. "):ge>21||de>ge?(Se=!0,Me+=v*2,je+=`Hand 2: Win (${de} vs ${ge}). `):de<ge?(Se=!1,je+=`Hand 2: Loss (${de} vs ${ge}). `):(Se=null,Me+=v,je+=`Hand 2: Push (${de}). `),Me>0)if(je+=`Total won: ${Me} coins.`,e)try{const{error:ft}=await W.rpc("update_balance",{user_uuid:e.id,amount:Me,t_type:"win",game_name:"blackjack",meta:{hand1_value:se,hand2_value:de,dealer_value:ge,hand1_result:he?"win":he===!1?"loss":"push",hand2_result:Se?"win":Se===!1?"loss":"push",was_split:!0,bet_amount:v}});if(ft)throw ft;n(xt=>xt+Me)}catch(ft){console.error("Error updating balance:",ft),D.error("Error updating balance. Please contact support.")}else n(ft=>ft+Me);j(je),w("gameOver")},V=async(Y=o,Q=x)=>{w("dealerTurn"),C(!1);let q=[...Q];const se=_(Y),de=I?_(l):0;if(se>21&&(!I||de>21)){oe(!1,Y,q);return}const ge=A(Y),he=A(q);if(ge&&he&&!I){oe(null,Y,q);return}else if(ge&&!I){oe(!0,Y,q,!0);return}else if(he&&!ge){oe(!1,Y,q);return}let Se=_(q);(async()=>{for(;Se<17;){await new Promise(ft=>setTimeout(ft,700));const je=P();q=[...q,je],g(q),Se=_(q)}I?ce(Y,l,q):se>21?oe(!1,Y,q):Se>21?oe(!0,Y,q):Se>se?oe(!1,Y,q):se>Se?oe(!0,Y,q):oe(null,Y,q)})()},oe=async(Y,Q,q,se=!1)=>{w("gameOver"),C(!1);const de=_(Q),ge=_(q);let he=0,Se="";if(Y===null?(Se=`Push! Both you and the dealer have ${de}. Bet returned.`,he=v):Y?se?(he=Math.floor(v*2.5),Se=`Blackjack! You win ${he} coins!`):$?(he=v*4,Se=`Double Down Win! You win ${he} coins!`):(he=v*2,Se=`You win with ${de} vs dealer's ${ge}! You win ${he} coins!`):($?Se=`Double Down Loss! You lost ${v*2} coins.`:Se=de>21?`Bust with ${de}! Dealer wins.`:`Dealer wins with ${ge} vs your ${de}.`,he=0),j(Se),he>0){if(T(!0),e)try{const{data:Me,error:je}=await W.rpc("update_balance",{user_uuid:e.id,amount:he,t_type:"win",game_name:"blackjack",meta:{bet_amount:$?v*2:v,player_hand:Q.map(xt=>`${xt.value}${xt.suit[0]}`).join(","),dealer_hand:q.map(xt=>`${xt.value}${xt.suit[0]}`).join(","),player_score:de,dealer_score:ge,is_blackjack:se,is_double_down:$}});if(je)throw je;const{error:ft}=await W.from("game_results").insert({user_id:e.id,game:"blackjack",bet_amount:$?v*2:v,win_amount:he,is_win:Y===!0,game_data:{player_hand:Q.map(xt=>`${xt.value}${xt.suit[0]}`),dealer_hand:q.map(xt=>`${xt.value}${xt.suit[0]}`),player_score:de,dealer_score:ge,is_blackjack:se,is_double_down:$}});if(ft)throw ft;n(xt=>xt+he)}catch(Me){console.error("Error updating balance:",Me),D.error("Error updating balance. Please contact support.")}else n(Me=>Me+he);T(!1)}else if(e)try{const{error:Me}=await W.from("game_results").insert({user_id:e.id,game:"blackjack",bet_amount:$?v*2:v,win_amount:0,is_win:!1,game_data:{player_hand:Q.map(je=>`${je.value}${je.suit[0]}`),dealer_hand:q.map(je=>`${je.value}${je.suit[0]}`),player_score:de,dealer_score:ge,is_double_down:$}});if(Me)throw Me}catch(Me){console.error("Error recording game result:",Me)}},K=Y=>{if(p!=="betting")return;const Q=Math.max(5,Math.min(t,v+Y));y(Q)},te=()=>p==="playing"&&o.length===2&&o[0].value===o[1].value&&!I&&t>=v,ue=()=>p==="playing"&&o.length===2&&!I&&!$&&t>=v,Te=()=>{w("betting"),j("Place your bet to start"),i([]),c([]),g([]),R(!1),M(!1),d(!1),h(!1)};return m.useEffect(()=>{a(F())},[]),{gameState:p,playerHand:o,playerSplitHand:l,dealerHand:x,dealerCardHidden:N,message:b,activeSplitHand:u,betAmount:v,isLoading:k,hasPlayerSplit:I,calculateHandValue:_,handleBetChange:K,startGame:S,handleHit:O,handleStand:B,handleDoubleDown:z,handleSplit:X,canSplit:te,canDoubleDown:ue,resetGame:Te}},q4=({user:e,coins:t,setCoins:n})=>{const{gameState:r,playerHand:a,playerSplitHand:o,dealerHand:i,dealerCardHidden:l,message:c,activeSplitHand:u,betAmount:d,isLoading:f,hasPlayerSplit:h,calculateHandValue:x,handleBetChange:g,startGame:p,handleHit:w,handleStand:v,handleDoubleDown:y,handleSplit:b,canSplit:j,canDoubleDown:N,resetGame:C}=V4({user:e,coins:t,setCoins:n});return s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(J,{className:"bg-green-800 border-casino-gold/30 p-6 shadow-lg",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Blackjack"}),s.jsx("p",{className:"text-gray-200",children:c}),r==="betting"&&s.jsx(W4,{betAmount:d,maxBet:t,isLoading:f,onBetChange:g,onStartGame:p})]}),r!=="betting"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx(U4,{dealerHand:i,playerHand:a,playerSplitHand:o,dealerCardHidden:l,activeSplitHand:u,hasPlayerSplit:h,calculateHandValue:x}),s.jsx(H4,{gameState:r,canDoubleDown:N(),canSplit:j(),playerHand:a,playerSplitHand:o,activeSplitHand:u,calculateHandValue:x,onHit:w,onStand:v,onDoubleDown:y,onSplit:b,onPlayAgain:C})]})]})})},G4=({user:e,coins:t,setCoins:n})=>s.jsx(q4,{user:e,coins:t,setCoins:n}),Y4=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState(10),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState("heads"),[f,h]=m.useState([]),[x,g]=m.useState(0),p=st();m.useEffect(()=>{e&&w()},[e]);const w=async()=>{if(!e)return;const{data:j,error:N}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","cointoss").order("created_at",{ascending:!1}).limit(10);if(N){console.error("Error loading game history:",N);return}if(j){const C=j.map(T=>{let $="",M="";return T.game_data&&typeof T.game_data=="object"&&!Array.isArray(T.game_data)&&"selected_side"in T.game_data&&"result"in T.game_data&&($=String(T.game_data.selected_side),M=String(T.game_data.result)),{time:new Date(T.created_at),bet:T.bet_amount,selectedSide:$,result:M,won:T.is_win,payout:T.win_amount}});h(C);let k=0;for(const T of C)if(T.won)k++;else break;g(k)}},v=async()=>{if(!e){D.error("Please sign in to play",{description:"You need to be logged in to place bets"}),p("/auth");return}if(r<=0){D.error("Invalid bet amount",{description:"Please enter a valid bet amount"});return}if(r>t){D.error("Not enough coins",{description:"You don't have enough coins for this bet"});return}i(!0),setTimeout(async()=>{const j=Math.random()<.5?"heads":"tails";c(j);const N=j===u,C=N?r:0,k=N?r:-r,T={selected_side:u,result:j};try{const{data:$,error:M}=await W.rpc("update_balance",{user_uuid:e.id,amount:k,t_type:N?"win":"loss",game_name:"cointoss",meta:T});if(M)throw M;await W.from("game_results").insert({user_id:e.id,game:"cointoss",bet_amount:r,win_amount:C,is_win:N,game_data:T}),n(R=>R+k);const I={time:new Date,bet:r,selectedSide:u,result:j,won:N,payout:C};h(R=>[I,...R]),N?(g(R=>R+1),D.success(`You won ${C} coins!`,{description:`The coin landed on ${j} - your choice was correct!`})):(g(0),D.error(`You lost ${r} coins`,{description:`The coin landed on ${j} - better luck next time!`}))}catch($){console.error("Error recording game result:",$),D.error("Error updating balance",{description:"There was a problem updating your balance. Please try again."})}i(!1)},2e3)},y=j=>{const N=parseInt(j.target.value);a(isNaN(N)?0:N)},b=j=>{a(j)};return s.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[s.jsxs(gt,{defaultValue:"play",className:"w-full",children:[s.jsxs(dt,{className:"grid grid-cols-2 w-full max-w-md mx-auto mb-6",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"History"})]}),s.jsxs(pe,{value:"play",className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[s.jsx("div",{className:`w-48 h-48 rounded-full bg-gradient-to-b from-yellow-300 to-yellow-500 border-4 border-yellow-600 shadow-xl flex items-center justify-center mb-6 overflow-hidden
                ${o?"animate-flip":""} 
                ${l&&!o?"scale-110 transition-transform":""}`,children:!o&&l?s.jsx("div",{className:"text-6xl font-bold text-yellow-800",children:l==="heads"?"H":"T"}):s.jsx("div",{className:"text-4xl font-bold text-yellow-800 animate-pulse",children:"?"})}),x>=3&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 mb-4 animate-pulse",children:[s.jsx(ze,{size:16})," ",x," Win Streak! 🔥"]}),s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Choose your side:"}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx(L,{variant:u==="heads"?"default":"outline",className:u==="heads"?"bg-casino-gold text-black":"",onClick:()=>d("heads"),disabled:o,children:"Heads"}),s.jsx(L,{variant:u==="tails"?"default":"outline",className:u==="tails"?"bg-casino-gold text-black":"",onClick:()=>d("tails"),disabled:o,children:"Tails"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Place Your Bet"}),s.jsxs(ke,{children:["Choose an amount to bet on ",u]})]}),s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx(Ke,{type:"number",value:r,onChange:y,min:1,max:t,className:"text-right",disabled:o})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(L,{variant:"outline",onClick:()=>b(10),disabled:o,children:"10"}),s.jsx(L,{variant:"outline",onClick:()=>b(25),disabled:o,children:"25"}),s.jsx(L,{variant:"outline",onClick:()=>b(50),disabled:o,children:"50"}),s.jsx(L,{variant:"outline",onClick:()=>b(100),disabled:o,children:"100"})]})]}),s.jsx(ds,{children:s.jsx(L,{className:"w-full casino-btn",onClick:v,disabled:o||r<=0||r>t,children:o?s.jsxs(s.Fragment,{children:[s.jsx(FC,{className:"mr-2 h-4 w-4 animate-spin"}),"Flipping..."]}):"Flip Coin"})})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Game History"}),s.jsx(ke,{children:"Your recent coin toss results"})]}),s.jsx(ne,{children:f.length===0?s.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No game history yet. Start playing to see your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Bet"}),s.jsx("th",{className:"text-left py-2",children:"Choice"}),s.jsx("th",{className:"text-left py-2",children:"Result"}),s.jsx("th",{className:"text-right py-2",children:"Payout"})]})}),s.jsx("tbody",{children:f.map((j,N)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-2",children:j.time.toLocaleTimeString()}),s.jsx("td",{className:"py-2",children:j.bet}),s.jsx("td",{className:"py-2 capitalize",children:j.selectedSide}),s.jsx("td",{className:"py-2 capitalize",children:j.result}),s.jsx("td",{className:`py-2 text-right ${j.won?"text-green-500":"text-red-500"}`,children:j.won?`+${j.payout}`:`-${j.bet}`})]},N))})]})})})]})})]}),s.jsxs(J,{className:"mt-8",children:[s.jsx(ae,{children:s.jsx(ie,{children:"How to Play"})}),s.jsx(ne,{children:s.jsxs("ol",{className:"list-decimal pl-5 space-y-2",children:[s.jsx("li",{children:"Select either Heads or Tails as your prediction."}),s.jsx("li",{children:"Enter the amount of coins you want to bet."}),s.jsx("li",{children:'Click the "Flip Coin" button to start the game.'}),s.jsx("li",{children:"If the coin lands on your selected side, you win the amount you bet!"}),s.jsx("li",{children:"If it lands on the other side, you lose your bet."})]})})]})]})},xN=document.createElement("style");xN.textContent=`
  @keyframes flip {
    0% {
      transform: rotateY(0);
    }
    100% {
      transform: rotateY(1800deg);
    }
  }
  
  .animate-flip {
    animation: flip 2s ease-in-out;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 1.5s infinite alternate;
  }
  
  @keyframes pulse-glow {
    0% {
      filter: drop-shadow(0 0 0.5rem gold);
    }
    100% {
      filter: drop-shadow(0 0 1rem gold);
    }
  }
`;document.head.appendChild(xN);function An(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const vN=6048e5,Q4=864e5;let K4={};function yu(){return K4}function bi(e,t){var l,c,u,d;const n=yu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=An(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function _c(e){return bi(e,{weekStartsOn:1})}function yN(e){const t=An(e),n=t.getFullYear(),r=qs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=_c(r),o=qs(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=_c(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Ex(e){const t=An(e);return t.setHours(0,0,0,0),t}function Tx(e){const t=An(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function J4(e,t){const n=Ex(e),r=Ex(t),a=+n-Tx(n),o=+r-Tx(r);return Math.round((a-o)/Q4)}function X4(e){const t=yN(e),n=qs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_c(n)}function Z4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function e3(e){if(!Z4(e)&&typeof e!="number")return!1;const t=An(e);return!isNaN(Number(t))}function t3(e){const t=An(e),n=qs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const n3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r3=(e,t,n)=>{let r;const a=n3[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const s3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i3={date:wd({formats:s3,defaultWidth:"full"}),time:wd({formats:a3,defaultWidth:"full"}),dateTime:wd({formats:o3,defaultWidth:"full"})},l3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},c3=(e,t,n,r)=>l3[e];function ko(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const u3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},d3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},h3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},g3=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},x3={ordinalNumber:g3,era:ko({values:u3,defaultWidth:"wide"}),quarter:ko({values:d3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ko({values:f3,defaultWidth:"wide"}),day:ko({values:h3,defaultWidth:"wide"}),dayPeriod:ko({values:m3,defaultWidth:"wide",formattingValues:p3,defaultFormattingWidth:"wide"})};function Co(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?y3(l,f=>f.test(i)):v3(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function v3(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function y3(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function w3(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const b3=/^(\d+)(th|st|nd|rd)?/i,j3=/\d+/i,N3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_3={any:[/^b/i,/^(a|c)/i]},S3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k3={any:[/1/i,/2/i,/3/i,/4/i]},C3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M3={ordinalNumber:w3({matchPattern:b3,parsePattern:j3,valueCallback:e=>parseInt(e,10)}),era:Co({matchPatterns:N3,defaultMatchWidth:"wide",parsePatterns:_3,defaultParseWidth:"any"}),quarter:Co({matchPatterns:S3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Co({matchPatterns:C3,defaultMatchWidth:"wide",parsePatterns:E3,defaultParseWidth:"any"}),day:Co({matchPatterns:T3,defaultMatchWidth:"wide",parsePatterns:P3,defaultParseWidth:"any"}),dayPeriod:Co({matchPatterns:R3,defaultMatchWidth:"any",parsePatterns:A3,defaultParseWidth:"any"})},O3={code:"en-US",formatDistance:r3,formatLong:i3,formatRelative:c3,localize:x3,match:M3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function D3(e){const t=An(e);return J4(t,t3(t))+1}function I3(e){const t=An(e),n=+_c(t)-+X4(t);return Math.round(n/vN)+1}function wN(e,t){var d,f,h,x;const n=An(e),r=n.getFullYear(),a=yu(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(h=a.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,i=qs(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=bi(i,t),c=qs(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=bi(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function L3(e,t){var l,c,u,d;const n=yu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=wN(e,t),o=qs(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),bi(o,t)}function $3(e,t){const n=An(e),r=+bi(n,t)-+L3(n,t);return Math.round(r/vN)+1}function Re(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Cr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Re(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Re(n+1,2)},d(e,t){return Re(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Re(e.getHours()%12||12,t.length)},H(e,t){return Re(e.getHours(),t.length)},m(e,t){return Re(e.getMinutes(),t.length)},s(e,t){return Re(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Re(a,t.length)}},la={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Px={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Cr.y(e,t)},Y:function(e,t,n,r){const a=wN(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Re(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Re(o,t.length)},R:function(e,t){const n=yN(e);return Re(n,t.length)},u:function(e,t){const n=e.getFullYear();return Re(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Re(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Re(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Cr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Re(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=$3(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Re(a,t.length)},I:function(e,t,n){const r=I3(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Re(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Cr.d(e,t)},D:function(e,t,n){const r=D3(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Re(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Re(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Re(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Re(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=la.noon:r===0?a=la.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=la.evening:r>=12?a=la.afternoon:r>=4?a=la.morning:a=la.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Cr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Cr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Re(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Re(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Cr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Cr.s(e,t)},S:function(e,t){return Cr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ax(r);case"XXXX":case"XX":return _s(r);case"XXXXX":case"XXX":default:return _s(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ax(r);case"xxxx":case"xx":return _s(r);case"xxxxx":case"xxx":default:return _s(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Rx(r,":");case"OOOO":default:return"GMT"+_s(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Rx(r,":");case"zzzz":default:return"GMT"+_s(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Re(r,t.length)},T:function(e,t,n){const r=e.getTime();return Re(r,t.length)}};function Rx(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?n+String(a):n+String(a)+t+Re(o,2)}function Ax(e,t){return e%60===0?(e>0?"-":"+")+Re(Math.abs(e)/60,2):_s(e,t)}function _s(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Re(Math.trunc(r/60),2),o=Re(r%60,2);return n+a+t+o}const Mx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},F3=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Mx(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Mx(r,t)).replace("{{time}}",bN(a,t))},B3={p:bN,P:F3},z3=/^D+$/,U3=/^Y+$/,W3=["D","DD","YY","YYYY"];function H3(e){return z3.test(e)}function V3(e){return U3.test(e)}function q3(e,t,n){const r=G3(e,t,n);if(console.warn(r),W3.includes(e))throw new RangeError(r)}function G3(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K3=/^'([^]*?)'?$/,J3=/''/g,X3=/[a-zA-Z]/;function Xs(e,t,n){var d,f,h,x;const r=yu(),a=r.locale??O3,o=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,l=An(e);if(!e3(l))throw new RangeError("Invalid time value");let c=t.match(Q3).map(g=>{const p=g[0];if(p==="p"||p==="P"){const w=B3[p];return w(g,a.formatLong)}return g}).join("").match(Y3).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Z3(g)};if(Px[p])return{isToken:!0,value:g};if(p.match(X3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(V3(p)||H3(p))&&q3(p,t,String(e));const w=Px[p[0]];return w(l,p,a.localize,u)}).join("")}function Z3(e){const t=e.match(K3);return t?t[1].replace(J3,"'"):e}const eD=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState(10),[o,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(null),[x,g]=m.useState(null),[p,w]=m.useState(null),[v,y]=m.useState([]),[b,j]=m.useState(!1),[N,C]=m.useState(!1),[k,T]=m.useState(0),[$,M]=m.useState(0),I=5,R=Math.min(1e3,t),F=()=>Math.floor(Math.random()*13)+1,E=V=>V===1?"A":V===11?"J":V===12?"Q":V===13?"K":V.toString(),P=()=>{if(t<r){D.error("Not enough coins!");return}const V=F();i(V),h(null),g(null),w(null),c(!0),d(!1),C(!1),T(0)},_=V=>{if(!o||!l)return;g(V);const oe=F();h(oe),d(!0);let K=!1;(V==="higher"&&oe>o||V==="lower"&&oe<o)&&(K=!0);const ue=K?(N?k:r)*2:0;w(K?"win":"loss"),e&&O(K,ue,{previous_card:o,new_card:oe,guess:V,double_or_nothing:N}),K?(T(ue),M(Te=>Te+1)):(n(Te=>Te-(N?0:r)),M(0),T(0)),setTimeout(()=>{d(!1)},1500)},A=()=>{k>0&&(n(V=>V+k),D.success(`You collected ${k} coins!`),B())},S=()=>{k>0&&(C(!0),i(f),h(null),g(null),w(null))},O=async(V,oe,K)=>{try{if(!e)return;V&&!N||!V&&!N&&await W.rpc("update_balance",{user_uuid:e.id,amount:-r,t_type:"loss",game_name:"highlow",meta:{bet_amount:r,payout:0}});const te={previous_card:K.previous_card,new_card:K.new_card,guess:K.guess,double_or_nothing:K.double_or_nothing||!1};await W.from("game_results").insert({user_id:e.id,game:"highlow",bet_amount:N?k/2:r,win_amount:V?oe:0,is_win:V,game_data:te}),y(ue=>[{time:new Date,bet:N?k/2:r,previousCard:K.previous_card,newCard:K.new_card,guess:K.guess,won:V,payout:oe},...ue])}catch(te){console.error("Error updating game result:",te),D.error("Failed to update game result")}},B=()=>{c(!1),i(null),h(null),g(null),w(null),C(!1),M(0),T(0)};m.useEffect(()=>{(async()=>{if(!e)return;j(!0);const{data:oe,error:K}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","highlow").order("created_at",{ascending:!1}).limit(10);if(j(!1),K){console.error("Error fetching game history:",K);return}if(oe){const te=oe.map(ue=>{let Te=0,Y=0,Q="higher";return ue.game_data&&typeof ue.game_data=="object"&&!Array.isArray(ue.game_data)&&"previous_card"in ue.game_data&&"new_card"in ue.game_data&&"guess"in ue.game_data&&(Te=Number(ue.game_data.previous_card),Y=Number(ue.game_data.new_card),Q=ue.game_data.guess),{time:new Date(ue.created_at),bet:ue.bet_amount,previousCard:Te,newCard:Y,guess:Q,won:ue.is_win,payout:ue.win_amount}});y(te)}})()},[e]);const z=V=>{let oe=parseInt(V.target.value);if(isNaN(oe)){a(I);return}oe<I&&(oe=I),oe>R&&(oe=R),a(oe)},X=V=>{a(oe=>Math.min(R,oe+V))},ce=V=>{a(oe=>Math.max(I,oe-V))};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(gt,{defaultValue:"play",className:"w-full",children:[s.jsxs(dt,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"Game History"})]}),s.jsxs(pe,{value:"play",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]}),!l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>ce(5),disabled:r<=I,children:"-5"}),s.jsx(Ke,{type:"number",value:r,onChange:z,className:"w-20 text-center"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>X(5),disabled:r>=R,children:"+5"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>ce(50),disabled:r<=I,children:"-50"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>X(50),disabled:r>=R,children:"+50"})]})]}),l?p==="win"?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"self-center mr-2",children:["Current Streak: ",s.jsx("span",{className:"text-green-500 font-bold",children:$})]}),s.jsxs(L,{onClick:A,className:"bg-green-600 hover:bg-green-700",children:["Take ",k," Coins"]}),s.jsx(L,{onClick:S,className:"bg-amber-600 hover:bg-amber-700",children:"Double or Nothing"})]}):p==="loss"?s.jsx(L,{onClick:B,className:"bg-blue-600 hover:bg-blue-700",children:"New Game"}):null:s.jsx(L,{onClick:P,disabled:t<r,className:"bg-casino-gold hover:bg-casino-gold/90 text-black",children:"Deal Card"})]}),k>0&&p==="win"&&s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 p-4 rounded-lg text-center mb-4",children:[s.jsxs("div",{className:"text-green-400 font-bold text-xl mb-2",children:["You won ",k," coins!"]}),s.jsx("p",{className:"text-sm text-green-300/80",children:"Take your winnings or risk them for double or nothing!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8",children:[s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-center",children:"Current Card"})}),s.jsx(ne,{className:"flex items-center justify-center",children:o!==null?s.jsx("div",{className:"playing-card",children:s.jsx("div",{className:"text-6xl font-bold text-center my-8",children:E(o)})}):s.jsx("div",{className:"text-2xl text-muted-foreground",children:"Deal to start"})})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-center",children:"Make Your Guess"})}),s.jsx(ne,{className:"flex items-center justify-center gap-4",children:l&&!u&&!p?s.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[s.jsxs(L,{onClick:()=>_("higher"),className:"flex items-center justify-center gap-2 py-8",variant:"outline",children:[s.jsx(kC,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xl",children:"Higher"})]}),s.jsxs(L,{onClick:()=>_("lower"),className:"flex items-center justify-center gap-2 py-8",variant:"outline",children:[s.jsx(_C,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xl",children:"Lower"})]})]}):s.jsx("div",{className:"text-center text-muted-foreground",children:u?s.jsx("div",{className:"animate-pulse",children:"Revealing..."}):p?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsxs("div",{children:["You guessed ",x]}),p==="win"?s.jsxs("div",{className:"text-green-500 text-2xl flex items-center gap-2",children:[s.jsx(os,{className:"h-6 w-6"})," Win!"]}):s.jsxs("div",{className:"text-red-500 text-2xl flex items-center gap-2",children:[s.jsx(Cn,{className:"h-6 w-6"})," Loss"]})]}):s.jsx("div",{children:"Deal to start"})})})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-center",children:"Next Card"})}),s.jsx(ne,{className:"flex items-center justify-center",children:f!==null?s.jsx("div",{className:`playing-card ${u?"animate-flip-in":""}`,children:s.jsx("div",{className:"text-6xl font-bold text-center my-8",children:E(f)})}):s.jsx("div",{className:"text-2xl text-muted-foreground",children:l?"Make a guess":"Deal to start"})})]})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Game History"}),s.jsx(ke,{children:"Your recent High-Low games"})]}),s.jsx(ne,{children:b?s.jsx("div",{className:"flex justify-center py-8",children:"Loading history..."}):v.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No game history yet. Start playing to record your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/30",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Bet"}),s.jsx("th",{className:"text-left py-2",children:"Cards"}),s.jsx("th",{className:"text-left py-2",children:"Guess"}),s.jsx("th",{className:"text-left py-2",children:"Result"}),s.jsx("th",{className:"text-right py-2",children:"Payout"})]})}),s.jsx("tbody",{children:v.map((V,oe)=>s.jsxs("tr",{className:"border-b border-border/10",children:[s.jsx("td",{className:"py-2",children:Xs(V.time,"HH:mm:ss")}),s.jsx("td",{className:"py-2",children:V.bet}),s.jsxs("td",{className:"py-2",children:[E(V.previousCard)," → ",E(V.newCard)]}),s.jsx("td",{className:"py-2 capitalize",children:V.guess}),s.jsx("td",{className:"py-2",children:V.won?s.jsxs("span",{className:"text-green-500 flex items-center gap-1",children:[s.jsx(os,{className:"h-4 w-4"})," Win"]}):s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(Cn,{className:"h-4 w-4"})," Loss"]})}),s.jsx("td",{className:"py-2 text-right",children:V.won?s.jsxs("span",{className:"text-green-500",children:["+",V.payout]}):s.jsxs("span",{className:"text-red-500",children:["-",V.bet]})})]},oe))})]})})})]})})]})})},tD=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState(10),[o,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(null),[x,g]=m.useState(null),[p,w]=m.useState([]),[v,y]=m.useState(!1),b=5,j=Math.min(1e3,t),N=10,C=()=>{if(t<r){D.error("Not enough coins!");return}if(o===null){D.error("Please select a number first!");return}c(!0),d(!0),h(null),g(null),setTimeout(()=>{const R=Math.floor(Math.random()*N)+1;h(R);const F=o===R,E=F?r*10:0;g(F?"win":"loss"),e&&k(F,E,{selected_number:o,result:R});const P=F?E-r:-r;n(_=>_+P),d(!1),F?D.success(`Congratulations! You won ${E} coins!`):D.error("Not lucky this time. Try again!")},2e3)},k=async(R,F,E)=>{try{if(!e)return;await W.rpc("update_balance",{user_uuid:e.id,amount:R?F-r:-r,t_type:R?"win":"loss",game_name:"picknumber",meta:{bet_amount:r,payout:F}});const P={selected_number:E.selected_number,result:E.result};await W.from("game_results").insert({user_id:e.id,game:"picknumber",bet_amount:r,win_amount:F,is_win:R,game_data:P}),w(_=>[{time:new Date,bet:r,selectedNumber:E.selected_number,result:E.result,won:R,payout:F},..._])}catch(P){console.error("Error updating game result:",P),D.error("Failed to update game result")}};m.useEffect(()=>{(async()=>{if(!e)return;y(!0);const{data:F,error:E}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","picknumber").order("created_at",{ascending:!1}).limit(10);if(y(!1),E){console.error("Error fetching game history:",E);return}if(F){const P=F.map(_=>{let A=0,S=0;return _.game_data&&typeof _.game_data=="object"&&!Array.isArray(_.game_data)&&"selected_number"in _.game_data&&"result"in _.game_data&&(A=Number(_.game_data.selected_number),S=Number(_.game_data.result)),{time:new Date(_.created_at),bet:_.bet_amount,selectedNumber:A,result:S,won:_.is_win,payout:_.win_amount}});w(P)}})()},[e]);const T=R=>{let F=parseInt(R.target.value);if(isNaN(F)){a(b);return}F<b&&(F=b),F>j&&(F=j),a(F)},$=R=>{a(F=>Math.min(j,F+R))},M=R=>{a(F=>Math.max(b,F-R))},I=()=>{c(!1),h(null),g(null)};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(gt,{defaultValue:"play",className:"w-full",children:[s.jsxs(dt,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"Game History"})]}),s.jsxs(pe,{value:"play",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>M(5),disabled:r<=b||l,children:"-5"}),s.jsx(Ke,{type:"number",value:r,onChange:T,className:"w-20 text-center",disabled:l}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>$(5),disabled:r>=j||l,children:"+5"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>M(50),disabled:r<=b||l,children:"-50"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>$(50),disabled:r>=j||l,children:"+50"})]})]}),s.jsx(L,{onClick:C,disabled:l||t<r||o===null,className:"bg-casino-gold hover:bg-casino-gold/90 text-black",children:"Play Now"})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl mt-8",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"text-center",children:["Pick Your Lucky Number (1-",N,")"]}),s.jsx(ke,{className:"text-center",children:"Pick the correct number and win 10x your bet!"})]}),s.jsx(ne,{children:l?s.jsxs("div",{className:"flex flex-col items-center py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"text-center mb-2",children:"You selected:"}),s.jsx("div",{className:"h-20 w-20 rounded-full bg-casino-gold text-black text-3xl flex items-center justify-center font-bold",children:o})]}),u?s.jsx("div",{className:"animate-pulse text-xl",children:"Drawing a number..."}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-center mb-2",children:"Result:"}),s.jsx("div",{className:"h-24 w-24 rounded-full border-4 border-white text-4xl flex items-center justify-center font-bold animate-scale-in",children:f}),s.jsxs("div",{className:"mt-8 text-center",children:[x==="win"?s.jsxs("div",{className:"text-green-500 text-2xl flex items-center gap-2 justify-center",children:[s.jsx(ze,{className:"h-6 w-6"})," Win! +",r*10," coins"]}):s.jsxs("div",{className:"text-red-500 text-xl flex items-center gap-2 justify-center",children:[s.jsx(Cn,{className:"h-5 w-5"})," Not lucky this time"]}),s.jsx(L,{onClick:I,className:"mt-4",children:"Play Again"})]})]})]}):s.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-md mx-auto",children:Array.from({length:N},(R,F)=>F+1).map(R=>s.jsx(L,{variant:o===R?"default":"outline",className:`h-16 text-xl ${o===R?"bg-casino-gold text-black hover:text-black hover:bg-casino-gold/90":""}`,onClick:()=>i(R),children:R},R))})})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Game History"}),s.jsx(ke,{children:"Your recent Lucky Number games"})]}),s.jsx(ne,{children:v?s.jsx("div",{className:"flex justify-center py-8",children:"Loading history..."}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No game history yet. Start playing to record your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/30",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Bet"}),s.jsx("th",{className:"text-left py-2",children:"Your Number"}),s.jsx("th",{className:"text-left py-2",children:"Result"}),s.jsx("th",{className:"text-left py-2",children:"Game Result"}),s.jsx("th",{className:"text-right py-2",children:"Payout"})]})}),s.jsx("tbody",{children:p.map((R,F)=>s.jsxs("tr",{className:"border-b border-border/10",children:[s.jsx("td",{className:"py-2",children:Xs(R.time,"HH:mm:ss")}),s.jsx("td",{className:"py-2",children:R.bet}),s.jsx("td",{className:"py-2",children:R.selectedNumber}),s.jsx("td",{className:"py-2",children:R.result}),s.jsx("td",{className:"py-2",children:R.won?s.jsxs("span",{className:"text-green-500 flex items-center gap-1",children:[s.jsx(os,{className:"h-4 w-4"})," Win"]}):s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(Cn,{className:"h-4 w-4"})," Loss"]})}),s.jsx("td",{className:"py-2 text-right",children:R.won?s.jsxs("span",{className:"text-green-500",children:["+",R.payout]}):s.jsxs("span",{className:"text-red-500",children:["-",R.bet]})})]},F))})]})})})]})})]})})},nD=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState(10),[o,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState([1,1]),[x,g]=m.useState(null),[p,w]=m.useState([]),[v,y]=m.useState(!1),b=5,j=Math.min(1e3,t),N=[2,3,4,5,6,7,8,9,10,11,12],C=E=>({2:30,3:15,4:10,5:8,6:6,7:5,8:6,9:8,10:10,11:15,12:30})[E]||1,k=()=>{if(t<r){D.error("Not enough coins!");return}if(o===null){D.error("Please select a number first!");return}c(!0),d(!0),h([1,1]),g(null),setTimeout(()=>{const E=Math.floor(Math.random()*6)+1,P=Math.floor(Math.random()*6)+1,_=E+P;h([E,P]);const A=o===_,S=C(o),O=A?r*S:0;g(A?"win":"loss"),e&&T(A,O,{selected_number:o,dice_results:[E,P]});const B=A?O-r:-r;n(z=>z+B),d(!1),A?D.success(`Congratulations! You won ${O} coins!`):D.error("Not lucky this time. Try again!")},2e3)},T=async(E,P,_)=>{try{if(!e)return;await W.rpc("update_balance",{user_uuid:e.id,amount:E?P-r:-r,t_type:E?"win":"loss",game_name:"dice",meta:{bet_amount:r,payout:P}});const A={selected_number:_.selected_number,dice_results:_.dice_results};await W.from("game_results").insert({user_id:e.id,game:"dice",bet_amount:r,win_amount:P,is_win:E,game_data:A}),w(S=>[{time:new Date,bet:r,selectedNumber:_.selected_number,diceResults:_.dice_results,won:E,payout:P},...S])}catch(A){console.error("Error updating game result:",A),D.error("Failed to update game result")}};m.useEffect(()=>{(async()=>{if(!e)return;y(!0);const{data:P,error:_}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","dice").order("created_at",{ascending:!1}).limit(10);if(y(!1),_){console.error("Error fetching game history:",_);return}if(P){const A=P.map(S=>{let O=0,B=[1,1];return S.game_data&&typeof S.game_data=="object"&&!Array.isArray(S.game_data)&&"selected_number"in S.game_data&&"dice_results"in S.game_data&&(O=Number(S.game_data.selected_number),B=Array.isArray(S.game_data.dice_results)?S.game_data.dice_results.map(Number):[1,1]),{time:new Date(S.created_at),bet:S.bet_amount,selectedNumber:O,diceResults:B,won:S.is_win,payout:S.win_amount}});w(A)}})()},[e]);const $=E=>{let P=parseInt(E.target.value);if(isNaN(P)){a(b);return}P<b&&(P=b),P>j&&(P=j),a(P)},M=E=>{a(P=>Math.min(j,P+E))},I=E=>{a(P=>Math.max(b,P-E))},R=()=>{c(!1),h([1,1]),g(null)},F=E=>{const _={1:["center"],2:["top-left","bottom-right"],3:["top-left","center","bottom-right"],4:["top-left","top-right","bottom-left","bottom-right"],5:["top-left","top-right","center","bottom-left","bottom-right"],6:["top-left","top-right","middle-left","middle-right","bottom-left","bottom-right"]}[E]||[];return s.jsx("div",{className:"bg-white h-16 w-16 md:h-20 md:w-20 rounded-lg border-2 border-casino-gold/50 relative shadow-md",children:_.map((A,S)=>{let O="absolute h-3 w-3 bg-black rounded-full";switch(A){case"center":O+=" top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2";break;case"top-left":O+=" top-2 left-2";break;case"top-right":O+=" top-2 right-2";break;case"middle-left":O+=" top-1/2 left-2 -translate-y-1/2";break;case"middle-right":O+=" top-1/2 right-2 -translate-y-1/2";break;case"bottom-left":O+=" bottom-2 left-2";break;case"bottom-right":O+=" bottom-2 right-2";break}return s.jsx("div",{className:O},S)})})};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(gt,{defaultValue:"play",className:"w-full",children:[s.jsxs(dt,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"Game History"})]}),s.jsxs(pe,{value:"play",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>I(5),disabled:r<=b||l,children:"-5"}),s.jsx(Ke,{type:"number",value:r,onChange:$,className:"w-20 text-center",disabled:l}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>M(5),disabled:r>=j||l,children:"+5"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>I(50),disabled:r<=b||l,children:"-50"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>M(50),disabled:r>=j||l,children:"+50"})]})]}),s.jsx(L,{onClick:k,disabled:l||t<r||o===null,className:"bg-casino-gold hover:bg-casino-gold/90 text-black",children:"Roll Dice"})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl mt-8",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-center",children:"Casino Dice"}),s.jsx(ke,{className:"text-center",children:"Guess the sum of two dice and win big! Higher payouts for less likely numbers."})]}),s.jsx(ne,{children:l?s.jsxs("div",{className:"flex flex-col items-center py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"text-center mb-2",children:"You bet on a sum of:"}),s.jsx("div",{className:"h-16 w-16 rounded-full bg-casino-gold text-black text-2xl flex items-center justify-center font-bold",children:o})]}),u?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx("div",{className:"animate-bounce delay-100 bg-white h-16 w-16 md:h-20 md:w-20 rounded-lg border-2 border-casino-gold/50 flex items-center justify-center text-2xl",children:"?"}),s.jsx("div",{className:"animate-bounce delay-300 bg-white h-16 w-16 md:h-20 md:w-20 rounded-lg border-2 border-casino-gold/50 flex items-center justify-center text-2xl",children:"?"})]}),s.jsx("div",{className:"text-center text-xl animate-pulse mt-4",children:"Rolling dice..."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-center gap-4",children:[F(f[0]),F(f[1])]}),s.jsxs("div",{className:"text-center text-2xl font-bold mt-4 animate-scale-in",children:["Sum: ",f[0]+f[1]]}),s.jsxs("div",{className:"mt-4 text-center",children:[x==="win"?s.jsxs("div",{className:"text-green-500 text-xl flex items-center gap-2 justify-center",children:[s.jsx(os,{className:"h-5 w-5"}),"Win! +",r*C(o||0)," coins"]}):s.jsxs("div",{className:"text-red-500 text-xl flex items-center gap-2 justify-center",children:[s.jsx(Cn,{className:"h-5 w-5"}),"Not lucky this time"]}),s.jsx(L,{onClick:R,className:"mt-4",children:"Play Again"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"text-center text-lg",children:"Select the sum you think the dice will show:"}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2 max-w-md mx-auto",children:N.map(E=>s.jsxs(L,{variant:o===E?"default":"outline",className:`h-12 text-xl ${o===E?"bg-casino-gold text-black hover:text-black hover:bg-casino-gold/90":""}`,onClick:()=>i(E),children:[E," (",C(E),"x)"]},E))}),o&&s.jsxs("div",{className:"text-center mt-4",children:[s.jsxs("p",{children:["You selected: ",s.jsx("span",{className:"font-bold",children:o})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Win pays ",C(o),"x your bet"]})]})]})})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Game History"}),s.jsx(ke,{children:"Your recent Casino Dice games"})]}),s.jsx(ne,{children:v?s.jsx("div",{className:"flex justify-center py-8",children:"Loading history..."}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No game history yet. Start playing to record your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/30",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Bet"}),s.jsx("th",{className:"text-left py-2",children:"Your Number"}),s.jsx("th",{className:"text-left py-2",children:"Dice Result"}),s.jsx("th",{className:"text-left py-2",children:"Game Result"}),s.jsx("th",{className:"text-right py-2",children:"Payout"})]})}),s.jsx("tbody",{children:p.map((E,P)=>s.jsxs("tr",{className:"border-b border-border/10",children:[s.jsx("td",{className:"py-2",children:Xs(E.time,"HH:mm:ss")}),s.jsx("td",{className:"py-2",children:E.bet}),s.jsx("td",{className:"py-2",children:E.selectedNumber}),s.jsxs("td",{className:"py-2",children:[E.diceResults[0]+E.diceResults[1],s.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",E.diceResults[0],",",E.diceResults[1],")"]})]}),s.jsx("td",{className:"py-2",children:E.won?s.jsxs("span",{className:"text-green-500 flex items-center gap-1",children:[s.jsx(os,{className:"h-4 w-4"})," Win"]}):s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(Cn,{className:"h-4 w-4"})," Loss"]})}),s.jsx("td",{className:"py-2 text-right",children:E.won?s.jsxs("span",{className:"text-green-500",children:["+",E.payout]}):s.jsxs("span",{className:"text-red-500",children:["-",E.bet]})})]},P))})]})})})]})})]})})},rD=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState(10),[o,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState([]),[f,h]=m.useState(null),[x,g]=m.useState(null),[p,w]=m.useState([]),[v,y]=m.useState(!1),b=m.useRef(null),j=5,N=Math.min(1e3,t),C=95;m.useEffect(()=>{d([{id:1,name:"Speedy",odds:2.5,position:0,color:"bg-red-500",icon:"🐎"},{id:2,name:"Thunder",odds:3,position:0,color:"bg-blue-500",icon:"🐎"},{id:3,name:"Flash",odds:4,position:0,color:"bg-green-500",icon:"🐎"},{id:4,name:"Blitz",odds:5.5,position:0,color:"bg-yellow-500",icon:"🐎"},{id:5,name:"Rocket",odds:7,position:0,color:"bg-purple-500",icon:"🐎"}])},[]);const k=()=>{if(t<r){D.error("Not enough coins!");return}if(o===null){D.error("Please select a competitor first!");return}c(!0),h(null),g(null),d(B=>B.map(z=>({...z,position:0}))),n(B=>B-r);const _=u.map(B=>{const z=10/B.odds;return{id:B.id,weight:z}}),A=_.reduce((B,z)=>B+z.weight,0);let S=Math.random()*A,O=1;for(const B of _){if(S<B.weight){O=B.id;break}S-=B.weight}b.current&&clearInterval(b.current),b.current=setInterval(()=>{let B=!1;d(z=>z.map(ce=>{let V=Math.random()*3;ce.id===O&&(V+=Math.random()*.5);const oe=Math.min(ce.position+V,ce.id===O?C:C-.1);return oe>=C&&(B=!0),{...ce,position:oe}})),B&&(b.current&&(clearInterval(b.current),b.current=null),setTimeout(()=>{T(O)},500))},100)},T=_=>{c(!1),g(_);const A=o===_;h(A?"win":"loss");const S=u.find(B=>B.id===_),O=A?Math.round(r*((S==null?void 0:S.odds)||1)):0;e&&$(A,O,{selected_competitor:o,winner:_}),A&&n(B=>B+O),A?D.success(`Congratulations! Your horse won ${O} coins!`):D.error("Your horse didn't win this time.")},$=async(_,A,S)=>{try{if(!e)return;await W.rpc("update_balance",{user_uuid:e.id,amount:_?A:0,t_type:_?"win":"loss",game_name:"racing",meta:{bet_amount:r,payout:A}});const O={selected_competitor:S.selected_competitor,winner:S.winner};await W.from("game_results").insert({user_id:e.id,game:"racing",bet_amount:r,win_amount:A,is_win:_,game_data:O}),w(B=>[{time:new Date,bet:r,selectedCompetitor:S.selected_competitor,winner:S.winner,won:_,payout:A},...B])}catch(O){console.error("Error updating game result:",O),D.error("Failed to update game result")}};m.useEffect(()=>{(async()=>{if(!e)return;y(!0);const{data:A,error:S}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","racing").order("created_at",{ascending:!1}).limit(10);if(y(!1),S){console.error("Error fetching game history:",S);return}if(A){const O=A.map(B=>{let z=0,X=0;return B.game_data&&typeof B.game_data=="object"&&!Array.isArray(B.game_data)&&"selected_competitor"in B.game_data&&"winner"in B.game_data&&(z=Number(B.game_data.selected_competitor),X=Number(B.game_data.winner)),{time:new Date(B.created_at),bet:B.bet_amount,selectedCompetitor:z,winner:X,won:B.is_win,payout:B.win_amount}});w(O)}})()},[e]),m.useEffect(()=>()=>{b.current&&clearInterval(b.current)},[]);const M=_=>{let A=parseInt(_.target.value);if(isNaN(A)){a(j);return}A<j&&(A=j),A>N&&(A=N),a(A)},I=_=>{a(A=>Math.min(N,A+_))},R=_=>{a(A=>Math.max(j,A-_))},F=()=>{i(null),h(null),g(null),d(_=>_.map(A=>({...A,position:0})))},E=_=>{var A;return((A=u.find(S=>S.id===_))==null?void 0:A.name)||`Competitor ${_}`},P=_=>{var A;return((A=u.find(S=>S.id===_))==null?void 0:A.odds)||1};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(gt,{defaultValue:"play",className:"w-full",children:[s.jsxs(dt,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"Race History"})]}),s.jsxs(pe,{value:"play",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>R(5),disabled:r<=j||l,children:"-5"}),s.jsx("input",{type:"number",value:r,onChange:M,className:"w-20 text-center bg-muted/30 border border-border/30 rounded px-2 py-1",disabled:l}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>I(5),disabled:r>=N||l,children:"+5"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>R(50),disabled:r<=j||l,children:"-50"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>I(50),disabled:r>=N||l,children:"+50"})]})]}),s.jsx(L,{onClick:k,disabled:l||t<r||o===null,className:"bg-casino-gold hover:bg-casino-gold/90 text-black",children:"Start Race"})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl mt-8",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-center",children:"Virtual Racing"}),s.jsx(ke,{className:"text-center",children:"Pick your competitor and watch the race unfold!"})]}),s.jsxs(ne,{children:[s.jsxs("div",{className:"relative w-full h-[300px] bg-green-900/50 rounded-lg mb-6 overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 bottom-0 right-12 w-1 bg-white z-10 flex flex-col",children:[s.jsx("div",{className:"flex-1 bg-white"}),s.jsx("div",{className:"flex-1 bg-black"}),s.jsx("div",{className:"flex-1 bg-white"}),s.jsx("div",{className:"flex-1 bg-black"}),s.jsx("div",{className:"flex-1 bg-white"}),s.jsx("div",{className:"flex-1 bg-black"})]}),u.map((_,A)=>s.jsxs("div",{className:"absolute w-full h-[50px] border-t border-white/20",style:{top:`${A*60}px`},children:[s.jsx("div",{className:"absolute left-2 top-2 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center text-sm",children:_.id}),s.jsx("div",{className:"absolute top-1 h-12 transition-all duration-100 text-3xl flex items-center",style:{left:`${_.position}%`,transform:"translateX(-50%)"},children:_.icon})]},_.id))]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-center text-lg font-medium",children:x?"Race Results":"Choose Your Competitor"}),s.jsx("div",{className:"grid gap-2",children:u.map(_=>s.jsx("div",{className:`
                        p-3 rounded-md border cursor-pointer transition-all
                        ${o===_.id?"border-casino-gold bg-casino-gold/10":"border-border/30 hover:border-border"}
                        ${x===_.id?"bg-green-500/20 border-green-500":""}
                      `,onClick:()=>!l&&!x&&i(_.id),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:_.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Odds: ",_.odds,"x"]})]})]}),o===_.id&&s.jsx("div",{className:"bg-casino-gold/80 text-black px-2 py-1 rounded text-sm",children:"Your Pick"}),x===_.id&&s.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[s.jsx(ze,{className:"h-4 w-4"}),"Winner"]})]})},_.id))}),f&&s.jsxs("div",{className:"mt-6 text-center",children:[f==="win"?s.jsxs("div",{className:"text-green-500 text-xl flex items-center gap-2 justify-center",children:[s.jsx(ze,{className:"h-5 w-5"}),"You won! +",Math.round(r*P(o||1))," coins"]}):s.jsxs("div",{className:"text-red-500 text-xl flex items-center gap-2 justify-center",children:[s.jsx(Cn,{className:"h-5 w-5"}),"Your competitor didn't win"]}),s.jsx(L,{onClick:F,className:"mt-4",children:"New Race"})]})]})]})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Race History"}),s.jsx(ke,{children:"Your recent Virtual Racing games"})]}),s.jsx(ne,{children:v?s.jsx("div",{className:"flex justify-center py-8",children:"Loading history..."}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No race history yet. Start playing to record your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/30",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Bet"}),s.jsx("th",{className:"text-left py-2",children:"Your Pick"}),s.jsx("th",{className:"text-left py-2",children:"Winner"}),s.jsx("th",{className:"text-left py-2",children:"Race Result"}),s.jsx("th",{className:"text-right py-2",children:"Payout"})]})}),s.jsx("tbody",{children:p.map((_,A)=>s.jsxs("tr",{className:"border-b border-border/10",children:[s.jsx("td",{className:"py-2",children:Xs(_.time,"HH:mm:ss")}),s.jsx("td",{className:"py-2",children:_.bet}),s.jsx("td",{className:"py-2",children:E(_.selectedCompetitor)}),s.jsx("td",{className:"py-2",children:E(_.winner)}),s.jsx("td",{className:"py-2",children:_.won?s.jsxs("span",{className:"text-green-500 flex items-center gap-1",children:[s.jsx(os,{className:"h-4 w-4"})," Win"]}):s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(Cn,{className:"h-4 w-4"})," Loss"]})}),s.jsx("td",{className:"py-2 text-right",children:_.won?s.jsxs("span",{className:"text-green-500",children:["+",_.payout]}):s.jsxs("span",{className:"text-red-500",children:["-",_.bet]})})]},A))})]})})})]})})]})})},De={STRAIGHT:"Straight",SPLIT:"Split",STREET:"Street",CORNER:"Corner",SIXLINE:"Six Line",LINE:"Line",COLUMN:"Column",DOZEN:"Dozen",RED:"Red",BLACK:"Black",ODD:"Odd",EVEN:"Even",HIGH:"High (19-36)",LOW:"Low (1-18)"},Fe={STRAIGHT:35,SPLIT:17,STREET:11,CORNER:8,SIXLINE:5,LINE:5,COLUMN:2,DOZEN:2,OUTSIDE:1,RED:1,BLACK:1,ODD:1,EVEN:1,HIGH:1,LOW:1},Km=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],Jm=e=>e===0||e===37?"bg-green-700":Km.includes(e)?"bg-red-600":"bg-black",jN=({spinResult:e,isAmerican:t})=>{if(e===null)return null;let n=e===37?"00":e.toString(),r=Jm(e);return s.jsxs("div",{className:"flex flex-col items-center mt-4 animate-fade-in",children:[s.jsx("div",{className:"text-lg font-medium",children:"Result"}),s.jsx("div",{className:`${r} w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg my-2`,children:n}),s.jsxs("div",{className:"text-sm",children:[e===0||e===37?"Green":Km.includes(e)?"Red":"Black"," •",e%2===0&&e!==0&&e!==37?" Even":e!==0&&e!==37?" Odd":""," •",e>0&&e<=18&&e!==37?"Low":e>18?"High":""]})]})},NN=({bets:e,onClearBets:t,gameType:n})=>e.length===0?null:s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Your Bets"}),s.jsx(L,{size:"sm",variant:"outline",onClick:t,children:"Clear All"})]}),s.jsxs("div",{className:"space-y-2",children:[e.map((r,a)=>s.jsxs("div",{className:"bg-muted/20 p-3 rounded-md flex justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:r.type}),s.jsx("div",{className:"text-sm text-muted-foreground",children:r.type===De.STRAIGHT?`Number: ${r.numbers[0]}`:r.type===De.RED||r.type===De.BLACK?r.type:r.type===De.ODD?"Odd Numbers":r.type===De.EVEN?"Even Numbers":r.type===De.HIGH?"Numbers 19-36":r.type===De.LOW?"Numbers 1-18":`${r.numbers.join(", ")}`})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:[r.amount," coins"]}),s.jsxs("div",{className:"text-sm text-casino-gold",children:["Win: ",r.amount*r.payout+r.amount]})]})]},a)),s.jsxs("div",{className:"pt-2 border-t border-border/30 flex justify-between",children:[s.jsx("div",{className:"font-medium",children:"Total Bet:"}),s.jsxs("div",{className:"font-bold",children:[e.reduce((r,a)=>r+a.amount,0)," coins"]})]})]})]}),_N=({history:e,isAmerican:t})=>s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Previous Results"}),e.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No previous spins yet"}):s.jsx("div",{className:"flex justify-start space-x-2 overflow-x-auto pb-2",children:e.map((n,r)=>{const a=n.number,o=a===37?"00":a.toString();let i="bg-green-700";return a!==0&&a!==37&&(i=Km.includes(a)?"bg-red-600":"bg-black"),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`${i} w-10 h-10 rounded-full flex items-center justify-center text-white font-bold`,children:o})},r)})})]}),SN=async(e,t,n,r,a,o,i,l)=>{try{if(!e)return;const{data:c,error:u}=await W.rpc("update_balance",{user_uuid:e.id,amount:t?r:0,t_type:t?"win":"loss",game_name:i?"roulette-us":"roulette-eu",meta:{bet_amount:n,payout:r}});if(u){console.error("Error updating balance:",u),D.error("Failed to update balance");return}t&&l(h=>h+r);const d=a.map(h=>({type:h.type,numbers:h.numbers,amount:h.amount,payout:h.payout})),{error:f}=await W.from("game_results").insert({user_id:e.id,game:i?"roulette-us":"roulette-eu",bet_amount:n,win_amount:t?r:0,is_win:t,game_data:{bets:d,result:o}});f&&console.error("Error recording game result:",f)}catch(c){console.error("Error in updateGameResult:",c),D.error("Failed to update game result")}},kN=({isAmerican:e,onNumberClick:t,onSplitBet:n,onCornerBet:r,onLineBet:a})=>{const o=c=>c===0||c===37?"bg-green-700 hover:bg-green-600":[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36].includes(c)?"bg-red-700 hover:bg-red-600":"bg-black hover:bg-slate-800",l=(()=>{const c=[[],[],[]];for(let u=0;u<12;u++)for(let d=0;d<3;d++){const f=3*u+3-d;c[d].push(f)}return c})();return s.jsx("div",{className:"mb-6 overflow-x-auto",children:s.jsxs("div",{className:"min-w-[500px]",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 mb-1",children:[e&&s.jsx("div",{className:"bg-green-700 text-white h-16 flex items-center justify-center text-lg font-bold cursor-pointer hover:bg-green-600 transition-colors",onClick:()=>t(37),children:"00"}),s.jsx("div",{className:`bg-green-700 text-white h-16 flex items-center justify-center text-lg font-bold cursor-pointer hover:bg-green-600 transition-colors ${e?"":"col-span-2"}`,onClick:()=>t(0),children:"0"})]}),s.jsx("div",{className:"grid grid-rows-3 gap-1",children:l.map((c,u)=>s.jsx("div",{className:"grid grid-cols-12 gap-1",children:c.map(d=>s.jsx("div",{className:`${o(d)} text-white h-10 flex items-center justify-center cursor-pointer transition-opacity font-medium`,onClick:()=>t(d),children:d},d))},`row-${u}`))}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-10),children:"1st Column"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-11),children:"2nd Column"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-12),children:"3rd Column"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-1),children:"1st 12 (1-12)"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-2),children:"2nd 12 (13-24)"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-3),children:"3rd 12 (25-36)"})]}),s.jsxs("div",{className:"grid grid-cols-6 gap-1 mt-1",children:[s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-4),children:"1-18"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10 text-red-600",onClick:()=>t(-5),children:"Red"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-6),children:"Even"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-7),children:"Odd"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-8),children:"Black"}),s.jsx(L,{variant:"outline",className:"border-slate-400 h-10",onClick:()=>t(-9),children:"19-36"})]})]})})},sD=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState(10),[o,i]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(null),[f,h]=m.useState([]),[x,g]=m.useState(!1),[p,w]=m.useState("play"),v=5,y=Math.min(1e3,t);m.useEffect(()=>{(async()=>{if(!e)return;g(!0);const{data:I,error:R}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","roulette-eu").order("created_at",{ascending:!1}).limit(20);if(g(!1),R){console.error("Error fetching game history:",R);return}if(I){const F=I.map(E=>{let P=0;return E.game_data&&typeof E.game_data=="object"&&!Array.isArray(E.game_data)&&"result"in E.game_data&&(P=Number(E.game_data.result)),{number:P,createdAt:new Date(E.created_at)}});h(F)}})()},[e]);const b=M=>{let I=parseInt(M.target.value);if(isNaN(I)){a(v);return}I<v&&(I=v),I>y&&(I=y),a(I)},j=M=>{a(I=>Math.min(y,I+M))},N=M=>{a(I=>Math.max(v,I-M))},C=(M,I,R,F)=>{if(o.reduce((P,_)=>P+_.amount,0)+R>t){D.error("Not enough coins for this bet");return}i(P=>[...P,{type:M,numbers:I,amount:R,payout:F}]),D.success(`Bet placed on ${M}`)},k=()=>{i([])},T=async()=>{if(o.length===0){D.error("Place at least one bet before spinning");return}const M=o.reduce((R,F)=>R+F.amount,0);if(M>t){D.error("Not enough coins for these bets");return}c(!0),d(null),n(R=>R-M);const I=Math.floor(Math.random()*37);setTimeout(()=>{c(!1),d(I);let R=0,F=!1;o.forEach(E=>{if(E.numbers.includes(I)){const P=E.amount*E.payout;R+=P+E.amount,F=!0}}),h(E=>[{number:I,createdAt:new Date},...E]),e?SN(e,F,M,R,o,I,!1,n):R>0&&n(E=>E+R),R>0?D.success(`You won ${R} coins!`):D.error("Better luck next time!")},2e3)},$=M=>{if(M>=0)C(De.STRAIGHT,[M],r,Fe.STRAIGHT);else switch(M){case-1:C("1st Dozen",Array.from({length:12},(I,R)=>R+1),r,Fe.DOZEN);break;case-2:C("2nd Dozen",Array.from({length:12},(I,R)=>R+13),r,Fe.DOZEN);break;case-3:C("3rd Dozen",Array.from({length:12},(I,R)=>R+25),r,Fe.DOZEN);break;case-4:C(De.LOW,Array.from({length:18},(I,R)=>R+1),r,Fe.OUTSIDE);break;case-5:C(De.RED,[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],r,Fe.OUTSIDE);break;case-6:C(De.EVEN,Array.from({length:18},(I,R)=>(R+1)*2),r,Fe.OUTSIDE);break;case-7:C(De.ODD,Array.from({length:18},(I,R)=>R*2+1),r,Fe.OUTSIDE);break;case-8:C(De.BLACK,[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],r,Fe.OUTSIDE);break;case-9:C(De.HIGH,Array.from({length:18},(I,R)=>R+19),r,Fe.OUTSIDE);break}};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(gt,{value:p,onValueChange:w,children:[s.jsxs(dt,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"Game History"})]}),s.jsxs(pe,{value:"play",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>N(5),disabled:r<=v||l,children:"-5"}),s.jsx("input",{type:"number",value:r,onChange:b,className:"w-20 text-center bg-muted/30 border border-border/30 rounded px-2 py-1",disabled:l}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>j(5),disabled:r>=y||l,children:"+5"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>N(20),disabled:r<=v||l,children:"-20"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>j(20),disabled:r>=y||l,children:"+20"})]})]}),s.jsx(L,{onClick:T,disabled:l||o.length===0,className:`${l?"bg-muted":"bg-casino-gold hover:bg-casino-gold/90"} text-black`,children:l?"Spinning...":"Spin Wheel"})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-center",children:"European Roulette"}),s.jsx(ke,{className:"text-center",children:"Place your bets on numbers or combinations"})]}),s.jsxs(ne,{children:[(l||u!==null)&&s.jsx("div",{className:"flex justify-center mb-6",children:l?s.jsx("div",{className:"animate-spin h-20 w-20 border-4 border-casino-gold border-t-transparent rounded-full"}):s.jsx(jN,{spinResult:u,isAmerican:!1})}),s.jsx(kN,{isAmerican:!1,onNumberClick:$}),s.jsx(NN,{bets:o,onClearBets:k,gameType:"European"}),s.jsx(_N,{history:f.slice(0,10),isAmerican:!1})]})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Game History"}),s.jsx(ke,{children:"Your recent European Roulette games"})]}),s.jsx(ne,{children:x?s.jsx("div",{className:"flex justify-center py-8",children:"Loading history..."}):f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No game history yet. Start playing to record your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/30",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Result"}),s.jsx("th",{className:"text-right py-2",children:"Bet Amount"}),s.jsx("th",{className:"text-right py-2",children:"Outcome"})]})}),s.jsx("tbody",{children:f.map((M,I)=>s.jsxs("tr",{className:"border-b border-border/10",children:[s.jsx("td",{className:"py-2",children:Xs(M.createdAt,"HH:mm:ss")}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`${Jm(M.number)} w-6 h-6 rounded-full flex items-center justify-center text-white text-xs`,children:M.number===37?"00":M.number}),s.jsx("span",{children:M.number===0?"Green":M.number%2===0?"Black / Even":"Red / Odd"})]})}),s.jsx("td",{className:"py-2 text-right"}),s.jsx("td",{className:"py-2 text-right"})]},I))})]})})})]})})]})})},aD=({user:e,coins:t,setCoins:n,isAmerican:r=!0})=>{const[a,o]=m.useState(10),[i,l]=m.useState([]),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,x]=m.useState([]),[g,p]=m.useState(!1),[w,v]=m.useState("play"),y=5,b=Math.min(1e3,t);m.useEffect(()=>{(async()=>{if(!e)return;p(!0);const{data:P,error:_}=await W.from("game_results").select("*").eq("user_id",e.id).eq("game","roulette-us").order("created_at",{ascending:!1}).limit(20);if(p(!1),_){console.error("Error fetching game history:",_);return}if(P){const A=P.map(S=>{let O=0;return S.game_data&&typeof S.game_data=="object"&&!Array.isArray(S.game_data)&&"result"in S.game_data&&(O=Number(S.game_data.result)),{number:O,createdAt:new Date(S.created_at)}});x(A)}})()},[e]);const j=E=>{let P=parseInt(E.target.value);if(isNaN(P)){o(y);return}P<y&&(P=y),P>b&&(P=b),o(P)},N=E=>{o(P=>Math.min(b,P+E))},C=E=>{o(P=>Math.max(y,P-E))},k=(E,P,_,A)=>{if(i.reduce((O,B)=>O+B.amount,0)+_>t){D.error("Not enough coins for this bet");return}l(O=>[...O,{type:E,numbers:P,amount:_,payout:A}]),D.success(`Bet placed on ${E}`)},T=()=>{l([])},$=async()=>{if(i.length===0){D.error("Place at least one bet before spinning");return}const E=i.reduce((_,A)=>_+A.amount,0);if(E>t){D.error("Not enough coins for these bets");return}u(!0),f(null),n(_=>_-E);const P=Math.floor(Math.random()*38);setTimeout(()=>{u(!1),f(P);let _=0,A=!1;i.forEach(S=>{if(S.numbers.includes(P)){const O=S.amount*S.payout;_+=O+S.amount,A=!0}}),x(S=>[{number:P,createdAt:new Date},...S]),e?SN(e,A,E,_,i,P,!0,n):_>0&&n(S=>S+_),_>0?D.success(`You won ${_} coins!`):D.error("Better luck next time!")},2e3)},M=E=>{if(E>=0)k(De.STRAIGHT,[E],a,Fe.STRAIGHT);else switch(E){case-1:k("1st Dozen",Array.from({length:12},(P,_)=>_+1),a,Fe.DOZEN);break;case-2:k("2nd Dozen",Array.from({length:12},(P,_)=>_+13),a,Fe.DOZEN);break;case-3:k("3rd Dozen",Array.from({length:12},(P,_)=>_+25),a,Fe.DOZEN);break;case-4:k(De.LOW,Array.from({length:18},(P,_)=>_+1),a,Fe.OUTSIDE);break;case-5:k(De.RED,[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],a,Fe.OUTSIDE);break;case-6:k(De.EVEN,Array.from({length:18},(P,_)=>(_+1)*2),a,Fe.OUTSIDE);break;case-7:k(De.ODD,Array.from({length:18},(P,_)=>_*2+1),a,Fe.OUTSIDE);break;case-8:k(De.BLACK,[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],a,Fe.OUTSIDE);break;case-9:k(De.HIGH,Array.from({length:18},(P,_)=>_+19),a,Fe.OUTSIDE);break;case-10:k(De.COLUMN,[1,4,7,10,13,16,19,22,25,28,31,34],a,Fe.COLUMN);break;case-11:k(De.COLUMN,[2,5,8,11,14,17,20,23,26,29,32,35],a,Fe.COLUMN);break;case-12:k(De.COLUMN,[3,6,9,12,15,18,21,24,27,30,33,36],a,Fe.COLUMN);break}},I=E=>{E.length===2&&k(De.SPLIT,E,a,Fe.SPLIT)},R=E=>{E.length===4&&k(De.CORNER,E,a,Fe.CORNER)},F=E=>{E.length===6&&k(De.SIXLINE,E,a,Fe.SIXLINE)};return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(gt,{value:w,onValueChange:v,children:[s.jsxs(dt,{className:"grid w-full grid-cols-2 mb-8",children:[s.jsx(fe,{value:"play",children:"Play Game"}),s.jsx(fe,{value:"history",children:"Game History"})]}),s.jsxs(pe,{value:"play",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>C(5),disabled:a<=y||c,children:"-5"}),s.jsx("input",{type:"number",value:a,onChange:j,className:"w-20 text-center bg-muted/30 border border-border/30 rounded px-2 py-1",disabled:c}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>N(5),disabled:a>=b||c,children:"+5"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>C(20),disabled:a<=y||c,children:"-20"}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>N(20),disabled:a>=b||c,children:"+20"})]})]}),s.jsx(L,{onClick:$,disabled:c||i.length===0,className:`${c?"bg-muted":"bg-casino-gold hover:bg-casino-gold/90"} text-black`,children:c?"Spinning...":"Spin Wheel"})]}),s.jsxs(J,{className:"bg-card border border-border/30 shadow-xl",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-center",children:"American Roulette"}),s.jsx(ke,{className:"text-center",children:"Place your bets on numbers or combinations"})]}),s.jsxs(ne,{children:[(c||d!==null)&&s.jsx("div",{className:"flex justify-center mb-6",children:c?s.jsx("div",{className:"animate-spin h-20 w-20 border-4 border-casino-gold border-t-transparent rounded-full"}):s.jsx(jN,{spinResult:d,isAmerican:!0})}),s.jsx(kN,{isAmerican:!0,onNumberClick:M,onSplitBet:I,onCornerBet:R,onLineBet:F}),s.jsx(NN,{bets:i,onClearBets:T,gameType:"American"}),s.jsx(_N,{history:h.slice(0,10),isAmerican:!0})]})]})]}),s.jsx(pe,{value:"history",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Game History"}),s.jsx(ke,{children:"Your recent American Roulette games"})]}),s.jsx(ne,{children:g?s.jsx("div",{className:"flex justify-center py-8",children:"Loading history..."}):h.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No game history yet. Start playing to record your results!"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/30",children:[s.jsx("th",{className:"text-left py-2",children:"Time"}),s.jsx("th",{className:"text-left py-2",children:"Result"}),s.jsx("th",{className:"text-right py-2",children:"Bet Amount"}),s.jsx("th",{className:"text-right py-2",children:"Outcome"})]})}),s.jsx("tbody",{children:h.map((E,P)=>s.jsxs("tr",{className:"border-b border-border/10",children:[s.jsx("td",{className:"py-2",children:Xs(E.createdAt,"HH:mm:ss")}),s.jsx("td",{className:"py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`${Jm(E.number)} w-6 h-6 rounded-full flex items-center justify-center text-white text-xs`,children:E.number===37?"00":E.number}),s.jsx("span",{children:E.number===0||E.number===37?"Green":E.number%2===0?"Black / Even":"Red / Odd"})]})}),s.jsx("td",{className:"py-2 text-right"}),s.jsx("td",{className:"py-2 text-right"})]},P))})]})})})]})})]})})},oD=({currentQuestion:e,timeLeft:t,isAnswered:n,selectedAnswer:r,onAnswer:a,onNext:o,currentQuestionIndex:i,totalQuestions:l,getQuestionReward:c})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm font-medium",children:["Question ",i+1," of ",l]}),s.jsx("div",{className:"px-3 py-1 bg-muted/30 rounded-full text-sm font-semibold",children:e.difficulty.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx(Ds,{value:t/30*100,className:"h-2 mb-1"}),s.jsxs("div",{className:"text-sm text-right",children:["Time left: ",t,"s"]})]}),s.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-medium mb-6",children:e.question}),s.jsx("div",{className:"space-y-3",children:e.options.map((u,d)=>{const f=d===e.correctAnswer,h=r===d;let x="w-full justify-start text-left px-4 py-3 bg-muted/30 hover:bg-muted/50 transition-colors";return n&&(f?x="w-full justify-start text-left px-4 py-3 bg-green-500/20 text-green-500 border border-green-500":h&&(x="w-full justify-start text-left px-4 py-3 bg-red-500/20 text-red-500 border border-red-500")),s.jsx(L,{className:x,onClick:()=>!n&&a(d),disabled:n,children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("span",{className:"flex-1",children:u}),n&&f&&s.jsx(os,{className:"h-5 w-5 text-green-500"}),n&&h&&!f&&s.jsx(Cn,{className:"h-5 w-5 text-red-500"})]})},d)})})]}),n&&s.jsx(L,{onClick:o,className:"w-full",children:i<l-1?"Next Question":"Finish Quiz"})]}),iD=({score:e,currentQuestionDifficulty:t,getQuestionReward:n})=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg mb-6",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Score"}),s.jsxs("span",{className:"font-bold text-casino-gold",children:[e," coins"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-sm text-muted-foreground block",children:"Reward for Current Question"}),s.jsxs("span",{className:"font-bold text-casino-gold",children:["+",n(t)," coins"]})]})]}),lD=({score:e,totalQuestions:t,onPlayAgain:n,onViewStats:r})=>s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:s.jsx(Gn,{className:"h-12 w-12 text-casino-gold"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Quiz Complete!"}),s.jsxs("p",{className:"mb-6 text-muted-foreground",children:["You answered ",e>0?"some":"no"," questions correctly."]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg mb-6 w-full max-w-md",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Your Results:"}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{children:"Total Score:"}),s.jsxs("span",{className:"text-casino-gold font-bold",children:[e," coins"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Questions Answered:"}),s.jsxs("span",{children:[t,"/",t]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md",children:[s.jsx(L,{onClick:n,className:"casino-btn flex-1",children:"Play Again"}),s.jsx(L,{onClick:r,className:"flex-1",variant:"outline",children:"View Statistics"})]})]}),cD=async e=>{try{let t=[];const n=e.game.includes("slot")?"slots":e.game==="quiz"?"quiz":null;if(!n)return;try{const a=await _b();t=(Array.isArray(a)?a:[a]).filter(i=>i.game===n&&i.isActive).map(i=>i.id)}catch(a){console.error("Error fetching active tournaments:",a),n==="slots"?t.push("slot-daily-"+At(6),"slot-weekly-"+At(6)):n==="quiz"&&t.push("quiz-daily-"+At(6),"quiz-weekly-"+At(6))}for(const a of t)await T5(a,e.user_id||"",e.win_amount);const r={id:"tournament-activity-bots",enabled:!0,bot_count:3,min_bet:5,max_bet:25,min_wait:1e4,max_wait:3e4,games:[n==="slots"?"slots":"quiz"],created_at:new Date().toISOString(),minBots:1,maxBots:3,joinFrequency:6e4,chatFrequency:12e4,leaveFrequency:9e4};vi(r)}catch(t){console.error("Error updating tournament scores:",t)}},Jf=async e=>{try{console.log("Recording game result:",e),e.is_win&&e.win_amount>0&&(await cD(e),console.log(`User ${e.user_id} won ${e.win_amount}!`))}catch(t){console.error("Error recording game result:",t)}},uD=async(e,t,n,r)=>{if(!e)return D.error("You must be logged in to place a bet"),!1;try{const{data:a,error:o}=await W.from("profiles").select("balance").eq("id",e.id).single();if(o||!a)return console.error("Error checking user balance:",o),D.error("Could not verify your balance"),!1;if(a.balance<n)return D.error("Not enough coins to place this bet"),!1;const{data:i,error:l}=await W.rpc("update_balance",{user_uuid:e.id,amount:-n,t_type:"bet",game_name:t,meta:r||{}});return l?(console.error("Error processing bet:",l),D.error("Failed to place bet"),!1):!0}catch(a){return console.error("Error in processBet:",a),D.error("Failed to process your bet"),!1}},dD=async(e,t,n,r)=>{if(!e)return console.error("Cannot process win: No user provided"),!1;if(n<=0)return console.error("Win amount must be greater than zero"),!1;try{const{data:a,error:o}=await W.rpc("update_balance",{user_uuid:e.id,amount:n,t_type:"win",game_name:t,meta:r||{}});return o?(console.error("Error processing win:",o),!1):!0}catch(a){return console.error("Error in processWin:",a),!1}},fD=async(e,t,n,r,a,o)=>{if(!e)return D.error("You must be logged in to play"),!1;try{return!await uD(e,t,n,o)||a&&r>0&&!await dD(e,t,r,o)?!1:(await Jf({user_id:e.id,game:t,bet_amount:n,win_amount:a?r:0,is_win:a,game_data:o}),!0)}catch(i){return console.error("Error processing game round:",i),D.error("An error occurred while processing your game"),!1}},hD=({user:e,coins:t,setCoins:n,questions:r,quizBet:a,multiplayerMode:o=!1,matchId:i=null})=>{const[l,c]=m.useState(0),[u,d]=m.useState(null),[f,h]=m.useState(!1),[x,g]=m.useState(0),[p,w]=m.useState(30),[v,y]=m.useState(!1),[b,j]=m.useState(!1),[N,C]=m.useState([]),[k,T]=m.useState(!1),$=_=>{switch(_){case"easy":return a;case"medium":return a*2;case"hard":return a*3;default:return a}},M=async _=>{if(e)try{const{data:A,error:S}=await W.rpc("update_balance",{user_uuid:e.id,amount:_,t_type:"quiz_game",game_name:"quiz",meta:{quiz_score:x,questions_answered:l+1}});if(S)throw S;return n(O=>O+_),A}catch(A){throw console.error("Error updating balance:",A),A}},I=async(_,A,S,O,B)=>{if(e)try{await W.from("game_results").insert({user_id:e.id,game:"quiz",bet_amount:A,win_amount:S,is_win:_,game_data:{multiplayer:o,match_id:i,correct_answers:O,total_questions:B,difficulty_breakdown:{easy:N.filter(z=>z.difficulty==="easy").length,medium:N.filter(z=>z.difficulty==="medium").length,hard:N.filter(z=>z.difficulty==="hard").length}}})}catch(z){console.error("Error saving quiz results:",z)}},R=async(_=!0)=>{if(e&&t!==void 0&&n&&t<a*5){D.error(`Not enough coins! You need at least ${a*5} coins to play.`);return}T(!0);try{e&&t!==void 0&&n&&await M(-a*5);const A=[...r].sort(()=>.5-Math.random()).slice(0,5);C(A),c(0),g(0),y(!0),j(!1),w(30),h(!1),d(null),_||D.success("Multiplayer quiz started!",{description:"Playing with other players"})}catch(A){console.error("Failed to start quiz:",A),D.error("Failed to start quiz. Please try again.")}finally{T(!1)}},F=_=>{if(f)return;d(_),h(!0);const A=N[l];if(_===A.correctAnswer){const O=$(A.difficulty);g(B=>B+O),D.success(`Correct! +${O} coins`)}else D.error("Incorrect answer!")},E=()=>{l<N.length-1?(c(_=>_+1),d(null),h(!1),w(30)):P()},P=async()=>{j(!0);const _=N.reduce((O,B,z)=>{const X=z<l||z===l&&f?u:null;return O+(X===B.correctAnswer?1:0)},0),A=l+(f?1:0),S=A>0?_/A:0;if(e)if(await I(x>0,a*5,x,_,N.length),x>0&&n)try{await M(x),S>=.8?D.success(`Excellent! You won ${x} coins!`,{description:`You answered ${_} out of ${A} questions correctly.`}):S>=.5?D.success(`Good job! You won ${x} coins!`,{description:`You answered ${_} out of ${A} questions correctly.`}):D.success(`Quiz completed! You won ${x} coins!`,{description:`Your final score: ${x}`})}catch(O){console.error("Failed to update balance at end of quiz:",O),D.error("Failed to process your winnings. Please contact support.")}else D.info("Quiz completed! Better luck next time!",{description:"You didn't win any coins this round."});else D.info("Quiz completed!",{description:`You got ${_} out of ${A} questions correct.`})};return m.useEffect(()=>{let _=null;return v&&!b&&!f&&p>0&&(_=setInterval(()=>{w(A=>A<=1?(clearInterval(_),h(!0),d(null),D.error("Time's up!"),0):A-1)},1e3)),()=>{_&&clearInterval(_)}},[v,b,f,p]),{currentQuestionIndex:l,selectedAnswer:u,isAnswered:f,score:x,timeLeft:p,quizStarted:v,quizFinished:b,quizQuestions:N,isLoading:k,getQuestionReward:$,startQuiz:R,handleAnswer:F,handleNextQuestion:E,setQuizStarted:y,setQuizFinished:j}},CN=({questions:e=[],maxQuestions:t=10,timeLimit:n=20,onComplete:r})=>{const{user:a}=Ge(),[o,i]=m.useState(1e3),[l,c]=m.useState(null),{currentQuestionIndex:u,selectedAnswer:d,isAnswered:f,score:h,timeLeft:x,quizStarted:g,quizFinished:p,quizQuestions:w,isLoading:v,getQuestionReward:y,startQuiz:b,handleAnswer:j,handleNextQuestion:N}=hD({user:a,coins:o,setCoins:i,questions:e,quizBet:10});m.useEffect(()=>{if(p){C();const M={id:"quiz-bots",enabled:!0,bot_count:8,min_bet:5,max_bet:50,min_wait:1e4,max_wait:3e4,games:["quiz"],created_at:new Date().toISOString(),minBots:3,maxBots:8,joinFrequency:45e3,chatFrequency:6e4,leaveFrequency:9e4};vi(M)}},[p]),m.useEffect(()=>{(async()=>{const I=await R5("quiz");I&&console.log(`Active quiz tournament found: ${I}`)})()},[]);const C=async()=>{if(!a){D.error("You need to be logged in to save your score");return}const M=w.filter((P,_)=>_<u&&w[_].correctAnswer===d).length,I=h>=Math.floor(t*.7);c(I?"win":"lose");const R=100,F=I?h*50:0;await fD(a,"quiz",R,F,I,{score:h,correct:M,wrong:t-M,unanswered:0,time_taken:n*t-x,max_questions:t})&&(I?D.success(`You won ${F} coins!`):D.error(`Better luck next time. You lost ${R} coins.`)),r&&r(h)},k=()=>{if(!a){D.error("You need to be logged in to play");return}b(),c(null)},T=()=>{c(null),setTimeout(()=>{b()},500)},$=g&&!p&&u<w.length?w[u]:null;return s.jsxs(J,{className:"w-full max-w-3xl mx-auto",children:[s.jsx(ae,{children:s.jsx(ie,{children:"Casino Quiz Challenge"})}),s.jsxs(ne,{children:[!g&&s.jsxs("div",{className:"text-center py-10",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Challenge"}),s.jsx("p",{className:"mb-6",children:"Answer questions correctly to win coins!"}),s.jsx("p",{className:"mb-2",children:"• The bet is 100 coins"}),s.jsx("p",{className:"mb-2",children:"• You must answer at least 70% correctly to win"}),s.jsx("p",{className:"mb-2",children:"• Each correct answer is worth 50 coins"}),s.jsxs("p",{className:"mb-6",children:["• You have ",n," seconds per question"]}),s.jsx(L,{size:"lg",onClick:k,children:"Start Quiz"})]}),g&&!p&&$&&s.jsxs("div",{children:[s.jsx(iD,{score:h,currentQuestionDifficulty:$.difficulty,getQuestionReward:y}),s.jsx(oD,{currentQuestion:$,timeLeft:x,isAnswered:f,selectedAnswer:d,onAnswer:j,onNext:N,currentQuestionIndex:u,totalQuestions:t,getQuestionReward:y})]}),p&&s.jsx(lD,{score:h,totalQuestions:t,onPlayAgain:T,onViewStats:()=>console.log("View stats")})]})]})},Ox={"Royal Flush":[250,500,750,1e3,4e3],"Straight Flush":[50,100,150,200,250],"Four of a Kind":[25,50,75,100,125],"Full House":[9,18,27,36,45],Flush:[6,12,18,24,30],Straight:[4,8,12,16,20],"Three of a Kind":[3,6,9,12,15],"Two Pair":[2,4,6,8,10],"Jacks or Better":[1,2,3,4,5],"High Card":[0,0,0,0,0]},mD=({user:e,coins:t,setCoins:n})=>{const[r,a]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(5),[x,g]=m.useState(null),[p,w]=m.useState(0),[v,y]=m.useState(!1);m.useEffect(()=>{b()},[]);const b=()=>{const P=["hearts","diamonds","clubs","spades"],_=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];let A=[];for(const S of P)for(const O of _)A.push({suit:S,value:O,held:!1});A=j(A),a(A)},j=P=>{const _=[...P];for(let A=_.length-1;A>0;A--){const S=Math.floor(Math.random()*(A+1));[_[A],_[S]]=[_[S],_[A]]}return _},N=async()=>{if(f>t){D.error("Not enough coins for this bet");return}if(y(!0),e)try{const{data:A,error:S}=await W.rpc("update_balance",{user_uuid:e.id,amount:-f,t_type:"bet",game_name:"video-poker",meta:{bet_amount:f}});if(S)throw S;n(O=>O-f)}catch(A){console.error("Error placing bet:",A),D.error("Error placing bet"),y(!1);return}else n(A=>A-f);c(!0),d(!1),g(null),w(0);const P=[...r],_=P.splice(0,5).map(A=>({...A,held:!1}));i(_),a(P),y(!1)},C=async()=>{y(!0);const P=[...r],_=[...o];for(let z=0;z<o.length;z++)!o[z].held&&P.length>0&&(_[z]={...P.shift(),held:!1});i(_),a(P),c(!1),d(!0);const A=T(_);g(A);const S=Math.min(f/5-1,4),O=A?Ox[A][S]:0,B=f*O;if(w(B),B>0&&e)try{const{data:z,error:X}=await W.rpc("update_balance",{user_uuid:e.id,amount:B,t_type:"win",game_name:"video-poker",meta:{bet_amount:f,hand_rank:A,payout:O,cards:_.map(V=>`${V.value}${V.suit.charAt(0)}`)}});if(X)throw X;const{error:ce}=await W.from("game_results").insert({user_id:e.id,game:"video-poker",bet_amount:f,win_amount:B,is_win:B>0,game_data:{hand_rank:A,payout:O,cards:_.map(V=>`${V.value}${V.suit.charAt(0)}`)}});if(ce)throw ce;n(V=>V+B),B>0&&D.success(`You won ${B} coins with ${A}!`)}catch(z){console.error("Error updating balance:",z),D.error("Error updating balance")}else B>0?(n(z=>z+B),D.success(`You won ${B} coins with ${A}!`)):D.error("Better luck next time!");y(!1)},k=P=>{if(!l||u)return;const _=[...o];_[P].held=!_[P].held,i(_)},T=P=>{const _=P.map(K=>K.value),A=P.map(K=>K.suit),S=A.every(K=>K===A[0]),O={};for(const K of _)O[K]=(O[K]||0)+1;const B=_.map(K=>K==="A"?14:K==="K"?13:K==="Q"?12:K==="J"?11:parseInt(K)).sort((K,te)=>K-te);let z=!0;for(let K=1;K<B.length;K++)if(B[K]!==B[K-1]+1){z=!1;break}!z&&B.toString()==="2,3,4,5,14"&&(z=!0);const X=Object.values(O).filter(K=>K===2).length,ce=Object.values(O).includes(3),V=Object.values(O).includes(4),oe=S&&z&&B[0]===10;return S&&z?oe?"Royal Flush":"Straight Flush":V?"Four of a Kind":ce&&X===1?"Full House":S?"Flush":z?"Straight":ce?"Three of a Kind":X===2?"Two Pair":X===1&&(O.J===2||O.Q===2||O.K===2||O.A===2)?"Jacks or Better":"High Card"},$=()=>{b(),i([]),c(!1),d(!1),g(null),w(0)},M=()=>{l||u||h(P=>Math.min(P+5,Math.min(25,t)))},I=()=>{l||u||h(P=>Math.max(P-5,5))},R=()=>{l||u||h(Math.min(25,t))},F=P=>P==="hearts"||P==="diamonds"?"text-red-600":"text-slate-900",E=P=>{switch(P){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":return"♠"}};return s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(J,{className:"border-casino-gold/30 shadow-lg",children:[s.jsx(ae,{className:"bg-gradient-to-b from-blue-900 to-slate-900 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{className:"text-2xl",children:"Video Poker"}),s.jsxs("div",{className:"bg-black/50 rounded-full py-1 px-4 flex items-center gap-2",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"text-lg font-bold text-casino-gold",children:t})]})]})}),s.jsxs(ne,{className:"pt-6",children:[s.jsx("div",{className:"mb-6 overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100 border-b",children:[s.jsx("th",{className:"p-2 text-left",children:"Hand"}),s.jsx("th",{className:"p-2 text-center",children:"5"}),s.jsx("th",{className:"p-2 text-center",children:"10"}),s.jsx("th",{className:"p-2 text-center",children:"15"}),s.jsx("th",{className:"p-2 text-center",children:"20"}),s.jsx("th",{className:"p-2 text-center",children:"25"})]})}),s.jsx("tbody",{children:Object.entries(Ox).map(([P,_],A)=>s.jsxs("tr",{className:`
                      ${A%2===0?"bg-slate-50":"bg-white"} 
                      ${x===P?"bg-yellow-100":""}
                      border-b
                    `,children:[s.jsx("td",{className:"p-2 font-medium",children:P}),_.map((S,O)=>s.jsx("td",{className:`p-2 text-center ${f===(O+1)*5?"bg-blue-100":""}`,children:S===0?"-":S},O))]},P))})]})}),s.jsxs("div",{className:"mb-6 flex justify-center items-center gap-4 bg-blue-100 p-4 rounded-lg shadow-inner",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:I,disabled:f<=5||l||u,className:"border-blue-500 text-blue-700",children:"-5"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-blue-800 font-bold text-lg",children:f}),s.jsx("div",{className:"text-xs text-blue-600",children:"Current Bet"})]}),s.jsx(L,{variant:"outline",size:"sm",onClick:M,disabled:f>=25||f>=t||l||u,className:"border-blue-500 text-blue-700",children:"+5"}),s.jsx(L,{variant:"default",size:"sm",onClick:R,disabled:f>=25||f>=t||l||u,className:"bg-blue-700",children:"MAX BET"})]}),s.jsx("div",{className:"grid grid-cols-5 gap-2 mb-6",children:o.length===0?Array(5).fill(null).map((P,_)=>s.jsx("div",{className:"aspect-[3/4] bg-blue-800 rounded-lg shadow-md flex items-center justify-center",children:s.jsx("div",{className:"w-2/3 h-2/3 rounded-full border-4 border-dashed border-white/30"})},_)):o.map((P,_)=>s.jsxs("div",{className:`
                    aspect-[3/4] bg-white rounded-lg shadow-md relative cursor-pointer
                    ${P.held?"ring-4 ring-yellow-500":""}
                    ${l&&!u?"hover:bg-yellow-50":""}
                  `,onClick:()=>k(_),children:[s.jsx("div",{className:"absolute top-2 left-2 font-bold text-xl sm:text-2xl md:text-3xl leading-none",children:s.jsx("span",{className:F(P.suit),children:P.value})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`text-xl sm:text-2xl md:text-3xl ${F(P.suit)}`,children:E(P.suit)})}),s.jsx("div",{className:"absolute bottom-2 right-2 font-bold text-xl sm:text-2xl md:text-3xl leading-none rotate-180",children:s.jsx("span",{className:F(P.suit),children:P.value})}),s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("span",{className:`text-4xl sm:text-5xl md:text-6xl ${F(P.suit)}`,children:E(P.suit)})}),P.held&&s.jsx(Oe,{className:"absolute bottom-2 left-2 bg-yellow-500",children:"HELD"})]},_))}),u&&x&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg text-center ${p>0?"bg-green-100":"bg-red-100"}`,children:[s.jsx("h3",{className:"text-xl font-bold",children:x}),p>0?s.jsxs("p",{className:"text-green-700",children:["You won ",p," coins!"]}):s.jsx("p",{className:"text-red-700",children:"Better luck next time!"})]}),s.jsx("div",{className:"flex justify-center",children:!l&&!u?s.jsx(L,{onClick:N,disabled:v,className:"bg-green-700 hover:bg-green-800",children:v?"Dealing...":"Deal Cards"}):l&&!u?s.jsx(L,{onClick:C,disabled:v,className:"bg-blue-700 hover:bg-blue-800",children:v?"Drawing...":"Draw"}):s.jsx(L,{onClick:$,className:"bg-casino-gold hover:bg-yellow-500 text-black",children:"New Game"})})]})]})})},EN=({gameName:e,onStartGame:t,showChat:n=!0})=>{const{playersInGame:r}=Di(),a=r(e),o=i=>i.substring(0,2).toUpperCase();return s.jsxs(J,{className:"h-full",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"text-lg font-medium flex items-center",children:[s.jsx(kn,{className:"h-5 w-5 mr-2"}),e," Lobby",s.jsxs(Oe,{className:"ml-2 bg-green-600",variant:"secondary",children:[a.length," Online"]})]})}),s.jsxs(ne,{className:"p-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[s.jsxs(J,{children:[s.jsx(ae,{className:"py-3",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Players in Lobby"]})}),s.jsx(ne,{className:"py-0",children:s.jsx(wi,{className:"h-[200px] pr-4",children:s.jsx("div",{className:"space-y-3",children:a.length>0?a.map(i=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Vn,{className:"h-8 w-8",children:[s.jsx(ur,{src:i.avatar_url}),s.jsx(qn,{children:o(i.username)})]}),s.jsx("div",{className:"text-sm font-medium",children:i.username})]}),i.last_activity&&s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(B0,{className:"h-3 w-3 mr-1"}),new Date(i.last_activity).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},i.id)):s.jsx("div",{className:"text-center text-muted-foreground py-10",children:"Waiting for other players..."})})})})]}),n&&s.jsxs(J,{children:[s.jsx(ae,{className:"py-3",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center",children:[s.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Game Chat"]})}),s.jsx(ne,{className:"py-0",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ho,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),s.jsx("p",{className:"text-sm mb-4",children:"Chat with other players"}),s.jsxs(L,{size:"sm",className:"w-full",variant:"outline",children:[s.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Open Chat"]})]})})]})]}),t&&a.length>0&&s.jsx("div",{className:"p-4 border-t",children:s.jsxs(L,{onClick:t,className:"w-full",size:"lg",children:[s.jsx(ze,{className:"mr-2 h-5 w-5"}),"Start Game with ",a.length," Player",a.length!==1?"s":""]})})]})]})},TN=[{id:1,question:"What's the name of the betting system where you double your bet after each loss?",options:["Martingale System","Paroli System","D'Alembert System","Fibonacci System"],correctAnswer:0,explanation:"The Martingale System involves doubling your bet after each loss, with the aim to recover all previous losses plus win a profit equal to the original stake.",difficulty:"easy"},{id:2,question:"In Blackjack, what is the value of an Ace?",options:["1 only","11 only","5","1 or 11"],correctAnswer:3,explanation:"An Ace in Blackjack can count as either 1 or 11, depending on which value benefits the hand more.",difficulty:"easy"},{id:3,question:"What does 'RTP' stand for in casino games?",options:["Real Time Play","Return To Player","Royal Tournament Points","Reward Tier Progress"],correctAnswer:1,explanation:"RTP (Return To Player) is the percentage of all wagered money that a slot machine will pay back to players over time.",difficulty:"easy"},{id:4,question:"Which of these is NOT a poker hand?",options:["Full House","Royal Flush","Straight","Triple Pair"],correctAnswer:3,explanation:"'Triple Pair' is not a valid poker hand. A single pair and three-of-a-kind exist, but not 'Triple Pair'.",difficulty:"medium"},{id:5,question:"In Roulette, what color is the '0'?",options:["Red","Black","Green","Gold"],correctAnswer:2,explanation:"In both American and European roulette, the '0' pocket is colored green.",difficulty:"medium"},{id:6,question:"What is a 'natural' in Baccarat?",options:["Any hand totaling 9","A hand totaling 8 or 9 on the first two cards","Three cards of the same suit","A tie between Player and Banker"],correctAnswer:1,explanation:"In Baccarat, a 'natural' is a hand that totals 8 or 9 on the initial deal of two cards.",difficulty:"medium"},{id:7,question:"What casino game has the lowest house edge?",options:["Slots","Blackjack with perfect strategy","American Roulette","Keno"],correctAnswer:1,explanation:"Blackjack played with perfect basic strategy typically has the lowest house edge in a casino, sometimes less than 1%.",difficulty:"hard"},{id:8,question:"In craps, what is the 'Don't Pass Line'?",options:["A line you shouldn't cross","A bet against the shooter","A bet that play will continue","A losing roll"],correctAnswer:1,explanation:"The 'Don't Pass Line' in craps is a bet that the shooter will lose (betting against the shooter).",difficulty:"hard"},{id:9,question:"What is the probability of being dealt a Royal Flush in poker?",options:["About 1 in 650,000","About 1 in 65,000","About 1 in 6,500","About 1 in 650"],correctAnswer:0,explanation:"The probability of being dealt a Royal Flush in poker is approximately 1 in 649,740.",difficulty:"hard"},{id:10,question:"What does 'comps' refer to in casinos?",options:["Competitions between players","Complimentary items given to players","Computer-controlled games","Complicated betting systems"],correctAnswer:1,explanation:"'Comps' are complimentary items, services, or privileges given by casinos to reward players for their play, such as free drinks, meals, or hotel rooms.",difficulty:"easy"}],Zn=({title:e})=>{const t=st(),{user:n}=Ge(),[r,a]=m.useState(1e3),o=br(),{joinGame:i,leaveGame:l}=Di(),[c,u]=m.useState(!0);m.useEffect(()=>((async()=>{if(n){const{data:p,error:w}=await W.from("profiles").select("balance").eq("id",n.id).single();!w&&p&&a(p.balance)}})(),i(e),()=>{l()}),[n,e,i,l]);const d=()=>{D.success("Thank you for your interest!",{description:"We'll notify you when this game is ready to play!"})},f=()=>{u(!1),D.success(`Starting ${e}`,{description:"Good luck and have fun!"})},h=()=>c?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(EN,{gameName:e,onStartGame:f,showChat:!0})}),s.jsx("div",{children:s.jsx($m,{showGame:!0,showCount:!0})})]}):o.pathname==="/blackjack"?s.jsx(G4,{user:n,coins:r,setCoins:a}):o.pathname==="/cointoss"?s.jsx(Y4,{user:n,coins:r,setCoins:a}):o.pathname==="/highlow"?s.jsx(eD,{user:n,coins:r,setCoins:a}):o.pathname==="/picknumber"?s.jsx(tD,{user:n,coins:r,setCoins:a}):o.pathname==="/dice"?s.jsx(nD,{user:n,coins:r,setCoins:a}):o.pathname==="/racing"?s.jsx(rD,{user:n,coins:r,setCoins:a}):o.pathname==="/roulette-eu"?s.jsx(sD,{user:n,coins:r,setCoins:a,isAmerican:!1}):o.pathname==="/roulette-us"?s.jsx(aD,{user:n,coins:r,setCoins:a,isAmerican:!0}):o.pathname==="/quiz"?s.jsx(CN,{questions:TN,maxQuestions:10,timeLimit:30,onComplete:x=>console.log(`Quiz completed with score: ${x}`)}):o.pathname==="/poker"?s.jsx(mD,{user:n,coins:r,setCoins:a}):s.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:s.jsxs(J,{className:"max-w-2xl w-full p-8 text-center border border-casino-gold/20",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/30 flex items-center justify-center",children:s.jsx(PC,{className:"h-12 w-12 text-casino-gold animate-pulse"})})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Coming Soon!"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["We're working hard to bring you an amazing ",e," experience. Please check back soon!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(L,{onClick:()=>t("/games"),children:[s.jsx(an,{className:"mr-2 h-4 w-4"}),"Browse Other Games"]}),s.jsx(L,{variant:"outline",onClick:d,children:"Get Notified When Ready"})]})]})});return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>t("/games"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:e})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(uo,{}),c&&s.jsx(L,{variant:"default",onClick:f,className:"casino-btn",children:"Start Game"}),!c&&s.jsxs(L,{variant:"outline",onClick:()=>u(!0),children:[s.jsx(kn,{className:"mr-2 h-4 w-4"}),"Back to Lobby"]})]})]}),h()]})},pD=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,o]=m.useState(""),[i,l]=m.useState(!1),{user:c,signIn:u,signUp:d}=Ge(),f=st();m.useEffect(()=>{c&&f("/")},[c,f]);const h=async g=>{g.preventDefault(),l(!0);try{if(!e||!n||!a)throw new Error("Please fill in all fields");if(n.length<6)throw new Error("Password must be at least 6 characters long");const{error:p}=await d(e,n,a);if(p)throw p;D.success("Account created successfully!",{description:"You can now login with your credentials."}),t(""),r(""),o("")}catch(p){D.error("Error creating account",{description:p.message})}finally{l(!1)}},x=async g=>{g.preventDefault(),l(!0);try{if(!e||!n)throw new Error("Please fill in all fields");const{error:p,session:w}=await u(e,n);if(p)throw p;w&&(D.success("Logged in successfully!"),f("/"))}catch(p){D.error("Login failed",{description:p.message})}finally{l(!1)}};return s.jsx(Et,{children:s.jsx("div",{className:"flex min-h-[80vh] flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Welcome to WayneWagers"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Sign in or create an account to play and win"})]}),s.jsxs(J,{className:"border-casino-gold/20 bg-card",children:[s.jsxs(ae,{className:"pb-2",children:[s.jsx(ie,{className:"text-2xl",children:"Account Access"}),s.jsx(ke,{children:"Sign in to your account or create a new one"})]}),s.jsxs(gt,{defaultValue:"login",children:[s.jsxs(dt,{className:"grid w-full grid-cols-2",children:[s.jsx(fe,{value:"login",children:"Login"}),s.jsx(fe,{value:"register",children:"Register"})]}),s.jsx(pe,{value:"login",children:s.jsxs("form",{onSubmit:x,children:[s.jsxs(ne,{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),s.jsx(Ke,{id:"email",type:"email",placeholder:"your@email.com",required:!0,value:e,onChange:g=>t(g.target.value),className:"bg-muted/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),s.jsx(Ke,{id:"password",type:"password",placeholder:"••••••••",required:!0,value:n,onChange:g=>r(g.target.value),className:"bg-muted/50"})]})]}),s.jsx(ds,{className:"flex flex-col",children:s.jsx(L,{type:"submit",className:"w-full bg-casino-gold text-black hover:bg-yellow-400",disabled:i,children:i?"Logging in...":"Log In"})})]})}),s.jsx(pe,{value:"register",children:s.jsxs("form",{onSubmit:h,children:[s.jsxs(ne,{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"register-username",className:"text-sm font-medium",children:"Username"}),s.jsx(Ke,{id:"register-username",type:"text",placeholder:"coolplayer123",required:!0,value:a,onChange:g=>o(g.target.value),className:"bg-muted/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"register-email",className:"text-sm font-medium",children:"Email"}),s.jsx(Ke,{id:"register-email",type:"email",placeholder:"your@email.com",required:!0,value:e,onChange:g=>t(g.target.value),className:"bg-muted/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"register-password",className:"text-sm font-medium",children:"Password"}),s.jsx(Ke,{id:"register-password",type:"password",placeholder:"••••••••",required:!0,value:n,onChange:g=>r(g.target.value),className:"bg-muted/50"})]})]}),s.jsx(ds,{className:"flex flex-col",children:s.jsx(L,{type:"submit",className:"w-full bg-casino-purple hover:bg-purple-600 text-white",disabled:i,children:i?"Creating account...":"Create Account"})})]})})]})]})]})})})},gD=({onLogin:e})=>{const[t,n]=m.useState(""),[r,a]=m.useState(""),[o,i]=m.useState(!1),l=async c=>{c.preventDefault(),i(!0);try{t==="admin"&&r==="password"||t==="admin@casino.com"&&r==="admin123"?setTimeout(()=>{e(!0),D.success("Admin login successful!"),D.info("Welcome to the admin dashboard!",{description:"You now have access to all casino management features."}),i(!1)},500):(D.error("Invalid credentials",{description:"Try admin/password or admin@casino.com/admin123"}),i(!1))}catch(u){console.error("Login error:",u),D.error("Login failed. Please try again."),i(!1)}};return s.jsx("div",{className:"max-w-md mx-auto mt-16",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(zC,{className:"h-6 w-6 text-primary"}),"Admin Login"]}),s.jsx(ke,{children:"Please log in with your admin credentials to access the dashboard."})]}),s.jsx(ne,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Username or Email"}),s.jsx(Ke,{id:"email",type:"text",value:t,onChange:c=>n(c.target.value),placeholder:"admin or admin@casino.com",required:!0,disabled:o})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),s.jsx(Ke,{id:"password",type:"password",value:r,onChange:c=>a(c.target.value),placeholder:"••••••••",required:!0,disabled:o}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use admin/password or admin@casino.com/admin123 for demo purposes"})]}),s.jsxs(L,{type:"submit",className:"w-full",disabled:o,children:[s.jsx(IC,{className:"mr-2 h-4 w-4"}),o?"Logging in...":"Login"]})]})})]})})},xD=({statistics:e})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs(J,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(kn,{className:"h-5 w-5 text-primary mr-2"}),s.jsx("span",{className:"text-2xl font-bold",children:e.totalUsers})]})})]}),s.jsxs(J,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Total Wagered"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ee,{className:"h-5 w-5 text-primary mr-2"}),s.jsx("span",{className:"text-2xl font-bold",children:e.totalWagered})]})})]}),s.jsxs(J,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Gross Revenue"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(z0,{className:"h-5 w-5 text-green-500 mr-2"}),s.jsx("span",{className:"text-2xl font-bold",children:e.grossRevenue})]})})]}),s.jsxs(J,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"House Edge"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($C,{className:"h-5 w-5 text-amber-500 mr-2"}),s.jsxs("span",{className:"text-2xl font-bold",children:[e.houseEdge.toFixed(2),"%"]})]})})]})]});var PN=["PageUp","PageDown"],RN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],AN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ho="Slider",[Xf,vD,yD]=zc(ho),[MN,PL]=Qn(ho,[yD]),[wD,wu]=MN(ho),ON=m.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:x=!1,form:g,...p}=e,w=m.useRef(new Set),v=m.useRef(0),b=i==="horizontal"?bD:jD,[j=[],N]=pr({prop:d,defaultProp:u,onChange:I=>{var F;(F=[...w.current][v.current])==null||F.focus(),f(I)}}),C=m.useRef(j);function k(I){const R=CD(j,I);M(I,R)}function T(I){M(I,v.current)}function $(){const I=C.current[v.current];j[v.current]!==I&&h(j)}function M(I,R,{commit:F}={commit:!1}){const E=RD(o),P=AD(Math.round((I-r)/o)*o+r,E),_=yi(P,[r,a]);N((A=[])=>{const S=SD(A,_,R);if(PD(S,c*o)){v.current=S.indexOf(_);const O=String(S)!==String(A);return O&&F&&h(S),O?S:A}else return A})}return s.jsx(wD,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:v,thumbs:w.current,values:j,orientation:i,form:g,children:s.jsx(Xf.Provider,{scope:e.__scopeSlider,children:s.jsx(Xf.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:ee(p.onPointerDown,()=>{l||(C.current=j)}),min:r,max:a,inverted:x,onSlideStart:l?void 0:k,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:$,onHomeKeyDown:()=>!l&&M(r,0,{commit:!0}),onEndKeyDown:()=>!l&&M(a,j.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:R})=>{if(!l){const P=PN.includes(I.key)||I.shiftKey&&RN.includes(I.key)?10:1,_=v.current,A=j[_],S=o*P*R;M(A+S,_,{commit:!0})}}})})})})});ON.displayName=ho;var[DN,IN]=MN(ho,{startEdge:"left",endEdge:"right",size:"width",direction:1}),bD=m.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=m.useState(null),x=be(t,b=>h(b)),g=m.useRef(),p=Li(a),w=p==="ltr",v=w&&!o||!w&&o;function y(b){const j=g.current||f.getBoundingClientRect(),N=[0,j.width],k=Xm(N,v?[n,r]:[r,n]);return g.current=j,k(b-j.left)}return s.jsx(DN,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(LN,{dir:p,"data-orientation":"horizontal",...d,ref:x,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=y(b.clientX);i==null||i(j)},onSlideMove:b=>{const j=y(b.clientX);l==null||l(j)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:b=>{const N=AN[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:N?-1:1})}})})}),jD=m.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=m.useRef(null),f=be(t,d),h=m.useRef(),x=!a;function g(p){const w=h.current||d.current.getBoundingClientRect(),v=[0,w.height],b=Xm(v,x?[r,n]:[n,r]);return h.current=w,b(p-w.top)}return s.jsx(DN,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:s.jsx(LN,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const w=g(p.clientY);o==null||o(w)},onSlideMove:p=>{const w=g(p.clientY);i==null||i(w)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const v=AN[x?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:v?-1:1})}})})}),LN=m.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=wu(ho,n);return s.jsx(le.span,{...u,ref:t,onKeyDown:ee(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):PN.concat(RN).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ee(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ee(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:ee(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),$N="SliderTrack",FN=m.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=wu($N,n);return s.jsx(le.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});FN.displayName=$N;var Zf="SliderRange",BN=m.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=wu(Zf,n),o=IN(Zf,n),i=m.useRef(null),l=be(t,i),c=a.values.length,u=a.values.map(h=>UN(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(le.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});BN.displayName=Zf;var eh="SliderThumb",zN=m.forwardRef((e,t)=>{const n=vD(e.__scopeSlider),[r,a]=m.useState(null),o=be(t,l=>a(l)),i=m.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(ND,{...e,ref:o,index:i})}),ND=m.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...o}=e,i=wu(eh,n),l=IN(eh,n),[c,u]=m.useState(null),d=be(t,y=>u(y)),f=c?i.form||!!c.closest("form"):!0,h=um(c),x=i.values[r],g=x===void 0?0:UN(x,i.min,i.max),p=kD(r,i.values.length),w=h==null?void 0:h[l.size],v=w?ED(w,g,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${v}px)`},children:[s.jsx(Xf.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(le.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":x,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:x===void 0?{display:"none"}:e.style,onFocus:ee(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&s.jsx(_D,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:x},r)]})});zN.displayName=eh;var _D=e=>{const{value:t,...n}=e,r=m.useRef(null),a=Tm(t);return m.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function SD(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,o)=>a-o)}function UN(e,t,n){const o=100/(n-t)*(e-t);return yi(o,[0,100])}function kD(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function CD(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function ED(e,t,n){const r=e/2,o=Xm([0,50],[0,r]);return(r-o(t)*n)*n}function TD(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function PD(e,t){if(t>0){const n=TD(e);return Math.min(...n)>=t}return!0}function Xm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function RD(e){return(String(e).split(".")[1]||"").length}function AD(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var WN=ON,MD=FN,OD=BN,DD=zN;const Gr=m.forwardRef(({className:e,...t},n)=>s.jsxs(WN,{ref:n,className:re("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(MD,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(OD,{className:"absolute h-full bg-primary"})}),s.jsx(DD,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Gr.displayName=WN.displayName;const ID=({config:e,onSave:t,onToggleStatus:n})=>{const[r,a]=m.useState(e),[o,i]=m.useState(!1),l=async()=>{i(!0);try{const{error:c}=await W.from("game_configs").update({name:r.name,min_bet:r.min_bet,max_bet:r.max_bet,rtp:r.rtp,house_edge:r.house_edge,payouts:r.payouts,enabled:r.enabled}).eq("id",e.id);if(c)throw c;t(r),D.success(`Saved ${e.name} configuration`),console.log("Game configuration updated:",r)}catch(c){console.error("Error saving game config:",c),D.error(`Failed to save configuration: ${c.message}`)}finally{i(!1)}};return s.jsxs(J,{className:"overflow-hidden",children:[s.jsxs(ae,{className:"bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-xl flex items-center gap-2",children:[e.name,s.jsx(Oe,{variant:r.enabled?"default":"secondary",children:r.enabled?"Enabled":"Disabled"})]}),s.jsx(rs,{checked:r.enabled,onCheckedChange:async c=>{try{const{error:u}=await W.from("game_configs").update({enabled:c}).eq("id",e.id);if(u)throw u;a({...r,enabled:c}),n(e.id,c)}catch(u){console.error("Error toggling game status:",u),D.error("Failed to update game status")}}})]}),s.jsx(ke,{children:"Configure game parameters, payouts, and limits"})]}),s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(tm,{className:"h-4 w-4 mr-1"}),"Game Parameters"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Bet"}),s.jsx("span",{className:"text-sm",children:r.min_bet})]}),s.jsx(Gr,{value:[r.min_bet],min:1,max:100,step:1,onValueChange:c=>{a({...r,min_bet:c[0]})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Max Bet"}),s.jsx("span",{className:"text-sm",children:r.max_bet})]}),s.jsx(Gr,{value:[r.max_bet],min:100,max:1e4,step:100,onValueChange:c=>{a({...r,max_bet:c[0]})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Return to Player (RTP)"}),s.jsxs("span",{className:"text-sm",children:[r.rtp,"%"]})]}),s.jsx(Gr,{value:[r.rtp],min:80,max:99.9,step:.1,onValueChange:c=>{a({...r,rtp:c[0],house_edge:100-c[0]})}})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(Ee,{className:"h-4 w-4 mr-1"}),"Payout Configuration"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:Object.entries(r.payouts).map(([c,u])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{value:u,onChange:d=>{const f=parseFloat(d.target.value)||0,h={...r.payouts,[c]:f};a({...r,payouts:h})},type:"number",className:"w-24",min:0,step:.1}),s.jsx("span",{className:"text-sm capitalize flex-1",children:c.replace(/_/g," ")})]},c))})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx(L,{onClick:l,disabled:o,children:o?"Saving...":"Save Changes"})})]})]},e.id)},LD=({gameConfigs:e,onSaveConfig:t,onToggleGameStatus:n})=>s.jsx("div",{className:"space-y-4",children:e.map(r=>s.jsx(ID,{config:r,onSave:t,onToggleStatus:n},r.id))}),$D=({users:e})=>s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Users"}),s.jsx(ke,{children:"Manage casino users and balances"})]}),s.jsx(ne,{children:e.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs($i,{children:[s.jsx(Fi,{children:s.jsxs(vr,{children:[s.jsx(tt,{children:"Username"}),s.jsx(tt,{children:"Balance"}),s.jsx(tt,{children:"Created At"}),s.jsx(tt,{children:"Actions"})]})}),s.jsx(Bi,{children:e.map((t,n)=>s.jsxs(vr,{children:[s.jsx(nt,{className:"font-medium",children:t.username}),s.jsx(nt,{children:t.balance}),s.jsx(nt,{children:new Date(t.created_at).toLocaleDateString()}),s.jsx(nt,{children:s.jsx(L,{variant:"outline",size:"sm",onClick:()=>{D.success(`Adjusting balance for ${t.username}`)},children:"Adjust Balance"})})]},n))})]})}):s.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No users found"})})]}),FD=({transactions:e,users:t})=>s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Recent Transactions"}),s.jsx(ke,{children:"View all casino transactions"})]}),s.jsx(ne,{children:e.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs($i,{children:[s.jsx(Fi,{children:s.jsxs(vr,{children:[s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Type"}),s.jsx(tt,{children:"Game"}),s.jsx(tt,{children:"Time"})]})}),s.jsx(Bi,{children:e.map((n,r)=>{var a;return s.jsxs(vr,{children:[s.jsx(nt,{className:"font-medium",children:((a=t.find(o=>o.id===n.user_id))==null?void 0:a.username)||n.user_id.substring(0,8)}),s.jsxs(nt,{className:n.amount>0?"text-green-500":"text-red-500",children:[n.amount>0?"+":"",n.amount]}),s.jsx(nt,{children:s.jsx(Oe,{variant:n.type==="win"?"default":"secondary",children:n.type})}),s.jsx(nt,{children:n.game||"N/A"}),s.jsx(nt,{children:new Date(n.created_at).toLocaleString()})]},r)})})]})}):s.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No transactions found"})})]}),BD=({config:e,onSave:t,onToggleStatus:n})=>{const[r,a]=m.useState(e),[o,i]=m.useState(!1),l=(d,f)=>{const h={...r.symbol_weights,[d]:f};a({...r,symbol_weights:h})},c=(d,f)=>{const h={...r.payouts,[d]:f};a({...r,payouts:h})},u=async()=>{i(!0);try{const{error:d}=await W.from("slot_configs").update({name:r.name,min_bet:r.min_bet,max_bet:r.max_bet,rtp:r.rtp,house_edge:r.house_edge,reels:r.reels,symbols_per_reel:r.symbols_per_reel,bonus_frequency:r.bonus_frequency,symbol_weights:r.symbol_weights,payouts:r.payouts,special_features:r.special_features,enabled:r.enabled}).eq("id",e.id);if(d)throw d;t(r),D.success(`Saved ${e.name} configuration`),console.log("Slot configuration updated:",r)}catch(d){console.error("Error saving slot config:",d),D.error(`Failed to save configuration: ${d.message}`)}finally{i(!1)}};return s.jsxs(J,{className:"overflow-hidden",children:[s.jsxs(ae,{className:"bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-xl flex items-center gap-2",children:[e.name,s.jsx(Oe,{variant:r.enabled?"default":"secondary",children:r.enabled?"Enabled":"Disabled"})]}),s.jsx(rs,{checked:r.enabled,onCheckedChange:async d=>{try{const{error:f}=await W.from("slot_configs").update({enabled:d}).eq("id",e.id);if(f)throw f;a({...r,enabled:d}),n(e.id,d)}catch(f){console.error("Error toggling slot status:",f),D.error("Failed to update slot machine status")}}})]}),s.jsx(ke,{children:"Configure slot machine parameters, payouts, and odds"})]}),s.jsxs(ne,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(tm,{className:"h-4 w-4 mr-1"}),"Machine Parameters"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Min Bet"}),s.jsx("span",{className:"text-sm",children:r.min_bet})]}),s.jsx(Gr,{value:[r.min_bet],min:1,max:50,step:1,onValueChange:d=>{a({...r,min_bet:d[0]})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Max Bet"}),s.jsx("span",{className:"text-sm",children:r.max_bet})]}),s.jsx(Gr,{value:[r.max_bet],min:50,max:1e3,step:50,onValueChange:d=>{a({...r,max_bet:d[0]})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Return to Player (RTP)"}),s.jsxs("span",{className:"text-sm",children:[r.rtp,"%"]})]}),s.jsx(Gr,{value:[r.rtp],min:85,max:99,step:.5,onValueChange:d=>{a({...r,rtp:d[0],house_edge:100-d[0]})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Bonus Frequency"}),s.jsxs("span",{className:"text-sm",children:[r.bonus_frequency,"%"]})]}),s.jsx(Gr,{value:[r.bonus_frequency],min:1,max:20,step:.5,onValueChange:d=>{a({...r,bonus_frequency:d[0]})}})]})]})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(an,{className:"h-4 w-4 mr-1"}),"Symbol Weights"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:Object.entries(r.symbol_weights||{}).map(([d,f])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{value:f,onChange:h=>{const x=parseFloat(h.target.value)||1;l(d,x)},type:"number",className:"w-20",min:1,step:1}),s.jsx("span",{className:"text-sm capitalize flex-1",children:d.replace(/_/g," ")})]},d))})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(Ee,{className:"h-4 w-4 mr-1"}),"Payout Configuration"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:Object.entries(r.payouts||{}).map(([d,f])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{value:f,onChange:h=>{const x=parseFloat(h.target.value)||0;c(d,x)},type:"number",className:"w-24",min:0,step:1}),s.jsx("span",{className:"text-sm capitalize flex-1",children:d.replace(/_/g," ")})]},d))})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx(L,{onClick:u,disabled:o,children:o?"Saving...":"Save Changes"})})]})]},e.id)},zD=({slotConfigs:e,onSaveSlotConfig:t,onToggleSlotStatus:n})=>s.jsx("div",{className:"space-y-6",children:e.map(r=>s.jsx(BD,{config:r,onSave:t,onToggleStatus:n},r.id))}),UD=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({min_bots:1,max_bots:5,join_frequency:3e4,chat_frequency:6e4,leave_frequency:45e3,is_active:!0});m.useEffect(()=>{const u=localStorage.getItem("botConfigs");if(u)t(JSON.parse(u));else{const d={id:At(),min_bots:3,max_bots:8,join_frequency:45e3,chat_frequency:6e4,leave_frequency:9e4,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t([d])}},[]),m.useEffect(()=>{localStorage.setItem("botConfigs",JSON.stringify(e))},[e]);const a=u=>{r({...n,[u.target.name]:parseInt(u.target.value,10)})},o=u=>{r({...n,is_active:u.target.checked})},i=async()=>{try{const u=At(),d={id:u,min_bots:n.min_bots,max_bots:n.max_bots,join_frequency:n.join_frequency,chat_frequency:n.chat_frequency,leave_frequency:n.leave_frequency,is_active:n.is_active,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t(h=>[...h,d]),D.success("New bot configuration created successfully");const f={id:u,enabled:n.is_active,min_bet:5,max_bet:100,min_wait:3e3,max_wait:1e4,games:["slots","blackjack","roulette-us","roulette-eu"],created_at:new Date().toISOString(),minBots:n.min_bots,maxBots:n.max_bots,joinFrequency:n.join_frequency,chatFrequency:n.chat_frequency,leaveFrequency:n.leave_frequency};await vi(f)}catch(u){console.error("Error creating bot configuration:",u),D.error("Failed to create bot configuration")}},l=async u=>{try{t(f=>{const h=[...f],x=h.findIndex(p=>p.id===u.id),g={id:u.id,min_bots:u.min_bots,max_bots:u.max_bots,join_frequency:u.join_frequency,chat_frequency:u.chat_frequency,leave_frequency:u.leave_frequency,is_active:u.is_active,created_at:u.created_at,updated_at:new Date().toISOString()};return x>=0?h[x]=g:h.push(g),h}),D.success("Bot configuration saved successfully");const d={id:u.id,enabled:u.is_active,min_bet:5,max_bet:100,min_wait:3e3,max_wait:1e4,games:["slots","blackjack","roulette-us","roulette-eu"],created_at:u.created_at,minBots:u.min_bots,maxBots:u.max_bots,joinFrequency:u.join_frequency,chatFrequency:u.chat_frequency,leaveFrequency:u.leave_frequency};await vi(d)}catch(d){console.error("Error saving bot configuration:",d),D.error("Failed to save bot configuration")}},c=async u=>{try{t(d=>d.filter(f=>f.id!==u)),D.success("Bot configuration deleted successfully")}catch(d){console.error("Error deleting bot configuration:",d),D.error("Failed to delete bot configuration")}};return s.jsxs("div",{className:"container py-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Bot Configuration"}),s.jsx(ke,{children:"Manage bot behavior and settings."})]}),s.jsxs(ne,{className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(rn,{htmlFor:"min_bots",children:"Min Bots"}),s.jsx(Ke,{type:"number",id:"min_bots",name:"min_bots",defaultValue:n.min_bots.toString(),onChange:a})]}),s.jsxs("div",{children:[s.jsx(rn,{htmlFor:"max_bots",children:"Max Bots"}),s.jsx(Ke,{type:"number",id:"max_bots",name:"max_bots",defaultValue:n.max_bots.toString(),onChange:a})]}),s.jsxs("div",{children:[s.jsx(rn,{htmlFor:"is_active",children:"Active"}),s.jsx(rs,{id:"is_active",name:"is_active",checked:n.is_active,onCheckedChange:u=>o({target:{name:"is_active",checked:u}})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(rn,{htmlFor:"join_frequency",children:"Join Frequency (ms)"}),s.jsx(Ke,{type:"number",id:"join_frequency",name:"join_frequency",defaultValue:n.join_frequency.toString(),onChange:a})]}),s.jsxs("div",{children:[s.jsx(rn,{htmlFor:"chat_frequency",children:"Chat Frequency (ms)"}),s.jsx(Ke,{type:"number",id:"chat_frequency",name:"chat_frequency",defaultValue:n.chat_frequency.toString(),onChange:a})]}),s.jsxs("div",{children:[s.jsx(rn,{htmlFor:"leave_frequency",children:"Leave Frequency (ms)"}),s.jsx(Ke,{type:"number",id:"leave_frequency",name:"leave_frequency",defaultValue:n.leave_frequency.toString(),onChange:a})]})]}),s.jsx(L,{onClick:i,children:"Create New Bot"})]})]}),s.jsxs(J,{className:"mt-4",children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Existing Bot Configurations"}),s.jsx(ke,{children:"Modify or delete existing bot configurations."})]}),s.jsx(ne,{children:s.jsxs($i,{children:[s.jsx(T1,{children:"A list of your bot configurations."}),s.jsx(Fi,{children:s.jsxs(vr,{children:[s.jsx(tt,{className:"w-[100px]",children:"Min Bots"}),s.jsx(tt,{className:"w-[100px]",children:"Max Bots"}),s.jsx(tt,{children:"Active"}),s.jsx(tt,{children:"Join Frequency"}),s.jsx(tt,{children:"Chat Frequency"}),s.jsx(tt,{children:"Leave Frequency"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(Bi,{children:e.map(u=>s.jsxs(vr,{children:[s.jsx(nt,{className:"font-medium",children:u.min_bots}),s.jsx(nt,{className:"font-medium",children:u.max_bots}),s.jsx(nt,{children:u.is_active?"Yes":"No"}),s.jsx(nt,{children:u.join_frequency}),s.jsx(nt,{children:u.chat_frequency}),s.jsx(nt,{children:u.leave_frequency}),s.jsxs(nt,{className:"text-right",children:[s.jsx(L,{variant:"secondary",size:"sm",onClick:()=>l(u),children:"Save"}),s.jsx(L,{variant:"destructive",size:"sm",onClick:()=>c(u.id),children:"Delete"})]})]},u.id))})]})})]})]})},WD=[{id:"blackjack",name:"Blackjack",min_bet:5,max_bet:1e3,enabled:!0,rtp:99.5,house_edge:.5,payouts:{blackjack:1.5,regular:1,insurance:2}},{id:"roulette-us",name:"American Roulette",min_bet:5,max_bet:1e3,enabled:!0,rtp:94.74,house_edge:5.26,payouts:{straight:35,split:17,street:11,corner:8,sixline:5,column:2,dozen:2,red:1,black:1,odd:1,even:1,high:1,low:1}},{id:"roulette-eu",name:"European Roulette",min_bet:5,max_bet:1e3,enabled:!0,rtp:97.3,house_edge:2.7,payouts:{straight:35,split:17,street:11,corner:8,sixline:5,column:2,dozen:2,red:1,black:1,odd:1,even:1,high:1,low:1}},{id:"highlow",name:"High Low",min_bet:5,max_bet:500,enabled:!0,rtp:98,house_edge:2,payouts:{win:1}},{id:"cointoss",name:"Coin Toss",min_bet:5,max_bet:500,enabled:!0,rtp:97,house_edge:3,payouts:{win:1.94}},{id:"dice",name:"Casino Dice",min_bet:5,max_bet:500,enabled:!0,rtp:98.6,house_edge:1.4,payouts:{number:5,range:1}},{id:"racing",name:"Virtual Racing",min_bet:10,max_bet:1e3,enabled:!0,rtp:92,house_edge:8,payouts:{win:4.5,place:1.8,show:1.2}},{id:"picknumber",name:"Lucky Number",min_bet:5,max_bet:100,enabled:!0,rtp:90,house_edge:10,payouts:{exact:9,adjacent:2}}],HD=[{id:"slot-classic",name:"Classic Slots",min_bet:1,max_bet:100,enabled:!0,rtp:96,house_edge:4,slot_type:"classic",reels:3,symbols_per_reel:5,bonus_frequency:5,jackpot_seed:0,jackpot_contribution:0,special_features:["wild_substitutions","scatter_pays"],symbol_weights:{cherry:25,lemon:25,orange:20,plum:15,bell:10,seven:5},payouts:{three_seven:50,three_bell:25,three_plum:15,three_orange:10,three_lemon:5,three_cherry:3,two_seven:2,two_bell:1}},{id:"slot-fruity",name:"Fruity Slots",min_bet:1,max_bet:200,enabled:!0,rtp:95.5,house_edge:4.5,slot_type:"fruity",reels:5,symbols_per_reel:4,bonus_frequency:7.5,jackpot_seed:0,jackpot_contribution:0,special_features:["wild_substitutions","free_spins","multipliers"],symbol_weights:{strawberry:20,banana:20,apple:20,watermelon:15,pineapple:15,wild_fruit:10},payouts:{five_wild_fruit:200,four_wild_fruit:50,three_wild_fruit:20,five_watermelon:100,four_watermelon:25,three_watermelon:10,five_of_kind:75,four_of_kind:15,three_of_kind:5}},{id:"slot-space",name:"Space Slots",min_bet:5,max_bet:500,enabled:!0,rtp:95,house_edge:5,slot_type:"space",reels:5,symbols_per_reel:4,bonus_frequency:6,jackpot_seed:0,jackpot_contribution:0,special_features:["wild_substitutions","free_spins","cascading_reels","expanding_wilds"],symbol_weights:{planet:25,rocket:20,astronaut:20,alien:15,ufo:10,black_hole:10},payouts:{five_black_hole:250,four_black_hole:50,three_black_hole:15,five_ufo:125,four_ufo:25,three_ufo:10,five_alien:75,four_alien:15,three_alien:5,five_any:50,four_any:10,three_any:3}},{id:"slot-jackpot",name:"Jackpot Slots",min_bet:10,max_bet:1e3,enabled:!0,rtp:94,house_edge:6,slot_type:"jackpot",reels:5,symbols_per_reel:3,bonus_frequency:4,jackpot_seed:1e4,jackpot_contribution:2.5,special_features:["wild_substitutions","scatter_pays","free_spins","bonus_game","multipliers"],symbol_weights:{diamond:5,crown:10,gold_bar:15,ruby:20,emerald:25,sapphire:25},payouts:{five_diamond:1e3,four_diamond:250,three_diamond:50,five_crown:500,four_crown:100,three_crown:25,five_gold_bar:250,four_gold_bar:50,three_gold_bar:15,five_jewels:100,four_jewels:25,three_jewels:5,mega_jackpot:"progressive",mini_jackpot:1e3}}],VD=e=>{const[t,n]=m.useState(WD),[r,a]=m.useState(HD),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState({totalUsers:0,activeUsers:0,totalBets:0,totalWagered:0,grossRevenue:0,houseEdge:0});return m.useEffect(()=>{if(!e)return;(async()=>{try{const{data:w,error:v}=await W.from("profiles").select("*").order("created_at",{ascending:!1});if(v)throw v;i(w||[]);const{data:y,error:b}=await W.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(b)throw b;if(c(y||[]),w){const j=(y==null?void 0:y.filter(C=>C.type==="bet").reduce((C,k)=>C+Math.abs(k.amount),0))||0,N=(y==null?void 0:y.filter(C=>C.type==="win").reduce((C,k)=>C+Math.abs(k.amount),0))||0;d({totalUsers:w.length,activeUsers:w.filter(C=>new Date(C.created_at)>new Date(Date.now()-7*24*60*60*1e3)).length,totalBets:(y==null?void 0:y.filter(C=>C.type==="bet").length)||0,totalWagered:j,grossRevenue:j-N,houseEdge:j>0?(j-N)/j*100:0})}}catch(w){console.error("Error fetching admin data:",w),D.error("Failed to load admin data")}})()},[e]),{gameConfigs:t,slotConfigs:r,users:o,transactions:l,statistics:u,saveConfig:p=>{n(w=>w.map(v=>v.id===p.id?p:v)),D.success(`${p.name} settings updated`)},toggleGameStatus:(p,w)=>{n(v=>v.map(y=>y.id===p?{...y,enabled:w}:y)),D.success(`Game ${w?"enabled":"disabled"}`)},saveSlotConfig:p=>{a(w=>w.map(v=>v.id===p.id?p:v)),D.success(`${p.name} settings updated`)},toggleSlotStatus:(p,w)=>{a(v=>v.map(y=>y.id===p?{...y,enabled:w}:y)),D.success(`Slot machine ${w?"enabled":"disabled"}`)}}},qD=()=>{const{user:e}=Ge(),[t,n]=m.useState(!1),[r,a]=m.useState("dashboard"),{gameConfigs:o,slotConfigs:i,users:l,transactions:c,statistics:u,saveConfig:d,toggleGameStatus:f,saveSlotConfig:h,toggleSlotStatus:x}=VD(t),g=p=>{n(p)};return t?s.jsx(Et,{children:s.jsxs("div",{className:"py-10",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-6 mb-10",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage casino operations, users, and game settings"})]}),s.jsx("div",{className:"flex items-center gap-3",children:e&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"bg-primary h-2 w-2 rounded-full"}),s.jsx("span",{children:"Logged in as Admin"})]})})]}),s.jsx(xD,{statistics:u}),s.jsx("div",{className:"mt-10",children:s.jsxs(gt,{value:r,onValueChange:a,className:"w-full",children:[s.jsxs(dt,{className:"mb-8 grid grid-cols-2 md:grid-cols-5 w-full",children:[s.jsx(fe,{value:"dashboard",children:"Dashboard"}),s.jsx(fe,{value:"users",children:"Users"}),s.jsx(fe,{value:"games",children:"Game Settings"}),s.jsx(fe,{value:"slots",children:"Slot Machines"}),s.jsx(fe,{value:"bots",children:"Bot Control"})]}),s.jsx(pe,{value:"dashboard",children:s.jsx(FD,{transactions:c,users:l})}),s.jsx(pe,{value:"users",children:s.jsx($D,{users:l})}),s.jsx(pe,{value:"games",children:s.jsx(LD,{gameConfigs:o,onSaveConfig:d,onToggleGameStatus:f})}),s.jsx(pe,{value:"slots",children:s.jsx(zD,{slotConfigs:i,onSaveSlotConfig:h,onToggleSlotStatus:x})}),s.jsx(pe,{value:"bots",children:s.jsx(UD,{})})]})})]})}):s.jsx(gD,{onLogin:g})},GD=[{id:"soccer",name:"Soccer",slug:"soccer",icon:"⚽️"},{id:"basketball",name:"Basketball",slug:"basketball",icon:"🏀"},{id:"baseball",name:"Baseball",slug:"baseball",icon:"⚾️"},{id:"football",name:"Football",slug:"football",icon:"🏈"},{id:"hockey",name:"Hockey",slug:"hockey",icon:"🏒"},{id:"tennis",name:"Tennis",slug:"tennis",icon:"🎾"}],YD=()=>{const e=new Date;return[{id:"event1",homeTeam:"Arsenal",awayTeam:"Chelsea",league:"Premier League",startTime:new Date(e.getTime()+24*60*60*1e3).toISOString(),status:"scheduled"},{id:"event2",homeTeam:"Lakers",awayTeam:"Warriors",league:"NBA",startTime:new Date(e.getTime()+2*60*60*1e3).toISOString(),status:"scheduled"},{id:"event3",homeTeam:"Yankees",awayTeam:"Red Sox",league:"MLB",startTime:new Date(e.getTime()+30*60*1e3).toISOString(),status:"scheduled"},{id:"event4",homeTeam:"Barcelona",awayTeam:"Real Madrid",league:"La Liga",startTime:new Date(e.getTime()+48*60*60*1e3).toISOString(),status:"scheduled"},{id:"event5",homeTeam:"Chiefs",awayTeam:"Eagles",league:"NFL",startTime:new Date(e.getTime()+72*60*60*1e3).toISOString(),status:"scheduled"},{id:"event6",homeTeam:"Nadal",awayTeam:"Djokovic",league:"ATP Tennis",startTime:new Date(e.getTime()+10*60*60*1e3).toISOString(),status:"scheduled"},{id:"live1",homeTeam:"Manchester City",awayTeam:"Liverpool",league:"Premier League",startTime:new Date(e.getTime()-45*60*1e3).toISOString(),status:"live",homeScore:2,awayScore:1},{id:"live2",homeTeam:"Celtics",awayTeam:"Bucks",league:"NBA",startTime:new Date(e.getTime()-60*60*1e3).toISOString(),status:"live",homeScore:88,awayScore:92},{id:"live3",homeTeam:"Maple Leafs",awayTeam:"Bruins",league:"NHL",startTime:new Date(e.getTime()-30*60*1e3).toISOString(),status:"live",homeScore:2,awayScore:3}]},ir={waynebucks:{HOUSE_EDGE:.03,RISK_THRESHOLD:.6,RTP_CAP:.97,MAX_PAYOUT:1e5,MAX_BET_PER_USER:1e4,DESCRIPTION:"Entertainment currency with higher RTP and higher limits"},waynesweeps:{HOUSE_EDGE:.15,RISK_THRESHOLD:.4,RTP_CAP:.85,MAX_PAYOUT:5e3,MAX_BET_PER_USER:1e3,DESCRIPTION:"Redeemable currency with conservative parameters"}};let th=[];const QD=(e,t,n,r,a)=>{let o=th.find(i=>i.eventId===e&&i.market===t&&i.currencyType===a);return o||(o={eventId:e,market:t,outcomes:{},totalBets:0,currencyType:a},th.push(o)),o.outcomes[n]=(o.outcomes[n]||0)+r,o.totalBets+=r,console.log("Market exposure updated:",o),o},KD=(e,t,n)=>th.find(r=>r.eventId===e&&r.market===t&&r.currencyType===n),JD=(e,t)=>{const n=ir[t],a=(F=>{let E=0;for(let P=0;P<F.length;P++){const _=F.charCodeAt(P);E=(E<<5)-E+_,E=E&E}return Math.abs(E)})(e),o=(F,E)=>{const P=Math.sin(a)*1e4,_=P-Math.floor(P);return F+_*(E-F)};let i=o(.35,.65),l=o(.35,.65),c=1-i-l;if(c<.05){c=.05;const F=1-c,E=i/(i+l),P=l/(i+l);i=F*E,l=F*P}let u=1/i,d=1/l,f=1/c;const h=1+n.HOUSE_EDGE;let x=u/h,g=d/h,p=f/h;const w=1/((1/x+1/g+1/p)/3);if(w>n.RTP_CAP){const F=w/n.RTP_CAP;x/=F,g/=F,p/=F}const v=Math.round(o(-7,7)*10)/10,y=e.includes("event1")||e.includes("event4")||e.includes("live1"),b=e.includes("event2")||e.includes("live2");let j=0;y?j=o(2,3.5):b?j=o(200,230):j=o(7,9);const N=Math.round(j*10)/10,C=.5,k=.5,T=1/C,$=1/k,M=T/h,I=$/h,R=KD(e,"moneyline",t);if(R&&R.totalBets>0){const{outcomes:F,totalBets:E}=R,P=(F.home||0)/E,_=(F.away||0)/E,A=(F.draw||0)/E,S=n.RISK_THRESHOLD;P>S&&(x*=.9,g*=1.1),_>S&&(g*=.9,x*=1.1),A>S&&(p*=.9,x*=1.05,g*=1.05)}return{type:"moneyline",homeOdds:x,awayOdds:g,drawOdds:p,spreadPoints:v,totalPoints:N,overOdds:M,underOdds:I}},XD=(e,t)=>{const n=1/t,r=e*(t-1),a=1-n;return n*r-a*e},ZD=(e,t,n,r,a,o,i,l,c,u,d="waynebucks")=>{const f=ir[d];if(o<a){D.error("Insufficient balance",{description:"Please deposit more funds to place this bet"});return}if(a>f.MAX_BET_PER_USER){D.error("Bet exceeds maximum amount",{description:`Maximum bet for ${d} is ${f.MAX_BET_PER_USER}`});return}let h=0,x="";switch(r){case"home":h=t.homeOdds,x=`${e.homeTeam} to win`;break;case"away":h=t.awayOdds,x=`${e.awayTeam} to win`;break;case"draw":h=t.drawOdds||0,x="Draw";break;case"over":h=t.overOdds||0,x=`Over ${t.totalPoints}`;break;case"under":h=t.underOdds||0,x=`Under ${t.totalPoints}`;break;default:D.error("Invalid selection");return}let g=Math.round(a*h*100)/100;g>f.MAX_PAYOUT&&(h=f.MAX_PAYOUT/a,g=f.MAX_PAYOUT,D.info("Maximum payout applied",{description:`Your potential payout was capped at ${f.MAX_PAYOUT} due to maximum payout limits.`})),QD(e.id,n,r,a,d);const p=XD(a,h);console.log(`Bet on ${x}: Expected value = ${p.toFixed(2)}`);const w={id:`bet-${Date.now()}`,eventId:e.id,type:n,pick:r,odds:h,amount:a,potentialPayout:g,status:"pending"};i([...c,w]),l(v=>v-a),D.success("Bet placed successfully!",{description:`${x} - Potential win: ${g}`}),u&&console.log(`Recording bet for user ${u.id}`)},eI=async(e,t,n)=>{if(!e)return!1;try{const r={...n,preferredCurrency:t},{error:a}=await W.from("profiles").update({preferences:r}).eq("id",e);return a?(console.error("Error saving currency preference:",a),!1):!0}catch(r){return console.error("Error in saveCurrencyPreference:",r),!1}},tI="https://www.thesportsdb.com/api/v1/json/3",nI={soccer:"4328",basketball:"4387",baseball:"4424",football:"4391",hockey:"4380",tennis:"4464"},rI=async()=>{try{let e=[];for(const[t,n]of Object.entries(nI)){const r=await fetch(`${tI}/eventsnextleague.php?id=${n}`);if(!r.ok){console.error(`Failed to fetch ${t} events:`,r.statusText);continue}const a=await r.json();if(!a.events||!Array.isArray(a.events)){console.log(`No events found for ${t}`);continue}const o=a.events.slice(0,5).map(i=>{const l={id:i.idEvent,homeTeam:i.strHomeTeam,awayTeam:i.strAwayTeam,league:i.strLeague,startTime:new Date(i.strTimestamp).toISOString(),status:"scheduled"},c=new Date(i.strTimestamp),u=new Date;return c<u&&u.getTime()-c.getTime()<2*60*60*1e3&&(l.status="live",l.homeScore=Math.floor(Math.random()*3),l.awayScore=Math.floor(Math.random()*3),t==="basketball"&&(l.homeScore=Math.floor(Math.random()*30)+60,l.awayScore=Math.floor(Math.random()*30)+60)),l});e=[...e,...o]}return e}catch(e){return console.error("Error fetching sports events:",e),D.error("Could not load sports data",{description:"Using fallback data instead"}),[]}},sI=e=>e.map(t=>{if(t.status==="live"){const n=t.league.includes("NBA")||t.league.includes("Basketball"),r=n?Math.random()>.7?Math.floor(Math.random()*3):0:Math.random()>.9?1:0,a=n?Math.random()>.7?Math.floor(Math.random()*3):0:Math.random()>.9?1:0;return{...t,homeScore:(t.homeScore||0)+r,awayScore:(t.awayScore||0)+a}}return t}),aI=()=>{const{user:e}=Ge(),[t,n]=m.useState("upcoming"),[r,a]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState(1e3),[u,d]=m.useState(10),[f,h]=m.useState(!0),[x,g]=m.useState("soccer"),[p,w]=m.useState("waynebucks"),[v,y]=m.useState({preferredCurrency:"waynebucks",darkMode:!0,soundEffects:!0,notifications:!0}),b=m.useRef(null),j=async k=>{w(k);const T={...v,preferredCurrency:k};y(T),console.log(`Switched to ${k}. House edge: ${(ir[k].HOUSE_EDGE*100).toFixed(1)}%, RTP: ${(ir[k].RTP_CAP*100).toFixed(1)}%`),e&&(await eI(e.id,k,v)?D.success(`Switched to ${k==="waynebucks"?"WayneBucks":"WayneSweeps"}`):D.error("Failed to save your currency preference"))};m.useEffect(()=>((async()=>{h(!0);const T=await rI(),$=T.length>0?T:YD();if(a($),e)try{const{data:M,error:I}=await W.from("profiles").select("balance, preferences").eq("id",e.id).single();if(M&&(c(M.balance),M.preferences&&typeof M.preferences=="object")){const R=M.preferences,F={preferredCurrency:R.preferredCurrency||"waynebucks",darkMode:R.darkMode!==void 0?R.darkMode:!0,soundEffects:R.soundEffects!==void 0?R.soundEffects:!0,notifications:R.notifications!==void 0?R.notifications:!0};y(F),w(F.preferredCurrency)}}catch(M){console.error("Error loading user balance and preferences:",M)}h(!1)})(),b.current=window.setInterval(()=>{a(T=>sI(T))},3e4),()=>{b.current!==null&&(window.clearInterval(b.current),b.current=null)}),[e]);const N=r.filter(k=>k.status==="scheduled"),C=r.filter(k=>k.status==="live");return{activeTab:t,setActiveTab:n,events:r,bets:o,setBets:i,balance:l,setBalance:c,betAmount:u,setBetAmount:d,loading:f,activeCategoryId:x,setActiveCategoryId:g,currency:p,handleCurrencyChange:j,upcomingEvents:N,liveEvents:C,user:e,userPreferences:v}},oI=({balance:e,setBalance:t,onCurrencyChange:n,currency:r})=>{const a=st();return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2 transition-all hover:scale-110",onClick:()=>a("/games"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"h-6 w-6 text-casino-gold animate-pulse-glow mr-2"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Sportsbook"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Balance:"}),s.jsxs("div",{className:"flex items-center px-3 py-1 bg-card rounded-lg border border-casino-gold/30 animate-pulse-glow",children:[s.jsx(Ee,{className:"h-4 w-4 text-casino-gold mr-1.5"}),s.jsx("span",{className:"font-bold",children:e})]}),s.jsx(L,{size:"sm",variant:"outline",onClick:()=>t(o=>o+1e3),className:"border-casino-gold/50 hover:border-casino-gold text-casino-gold transition-all hover:scale-105 hover:shadow-lg",children:"+ Deposit"}),s.jsx(uo,{onCurrencyChange:n})]})]})},iI=({categories:e,activeCategoryId:t,setActiveCategoryId:n})=>{const r={soccer:s.jsx(nm,{className:"animate-pulse-glow"}),basketball:s.jsx(Us,{className:"animate-spin-slow"}),baseball:s.jsx(an,{className:"animate-pulse-glow"}),football:s.jsx(em,{className:"animate-pulse-glow"}),hockey:s.jsx(Us,{className:"animate-pulse-glow"}),tennis:s.jsx(Vc,{className:"animate-pulse-glow"})};return s.jsx("div",{className:"overflow-x-auto mb-6",children:s.jsx("div",{className:"flex gap-2 min-w-max",children:e.map(a=>s.jsxs(L,{variant:t===a.id?"default":"outline",onClick:()=>n(a.id),className:`px-4 transition-all duration-300 ${t===a.id?"shadow-lg":""}`,children:[s.jsx("span",{className:"mr-2",children:r[a.id]||s.jsx(ze,{className:"animate-pulse-glow"})}),a.name]},a.id))})})},lI=({events:e,activeCategoryId:t,onPlaceBet:n,currency:r})=>{const a=e.filter(c=>c.status==="scheduled").filter(c=>{var d;const u=((d=c.league)==null?void 0:d.toLowerCase())||"";switch(t){case"soccer":return u.includes("soccer")||u.includes("football")&&!u.includes("american")||u.includes("premier")||u.includes("liga");case"basketball":return u.includes("basketball")||u.includes("nba");case"baseball":return u.includes("baseball")||u.includes("mlb");case"football":return u.includes("nfl")||u.includes("american football");case"hockey":return u.includes("hockey")||u.includes("nhl");case"tennis":return u.includes("tennis")||u.includes("atp")||u.includes("wta");default:return!0}}),o=c=>{const d=new Date(c).getTime()-new Date().getTime(),f=Math.round(d/6e4);if(f<60)return`in ${f} min${f!==1?"s":""}`;{const h=Math.floor(f/60);return`in ${h} hour${h!==1?"s":""}`}},i=c=>c.includes("Premier")||c.includes("Liga")?s.jsx(nm,{className:"text-green-500"}):c.includes("NBA")?s.jsx(Us,{className:"text-orange-500"}):c.includes("MLB")?s.jsx(an,{className:"text-blue-500"}):c.includes("NFL")?s.jsx(em,{className:"text-red-500"}):c.includes("ATP")||c.includes("Tennis")?s.jsx(Vc,{className:"text-purple-500"}):s.jsx(Us,{className:"text-gray-500"}),l=c=>{let u=1.9,d=3.5,f=2.1;return c.league.includes("Premier")&&(c.homeTeam.includes("Manchester")||c.homeTeam.includes("Liverpool")||c.homeTeam.includes("Arsenal"))&&(u-=.3,f+=.4),u+=(Math.random()-.5)*.2,d+=(Math.random()-.5)*.3,f+=(Math.random()-.5)*.2,{home:u,draw:d,away:f}};return a.length===0?s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-xl",children:"Upcoming Events"})}),s.jsx(ne,{children:s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"No upcoming events in this category. Please check other categories."})})]}):s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-xl",children:"Upcoming Events"})}),s.jsx(ne,{children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(c=>{const u=l(c);return s.jsx(J,{className:"overflow-hidden hover:shadow-md transition-shadow",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsxs("div",{className:"flex items-center",children:[i(c.league),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:c.league})]}),s.jsxs("div",{className:"mt-2 text-lg font-bold",children:[c.homeTeam," - ",c.awayTeam]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Oe,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500",children:"Upcoming"}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["Starts ",o(c.startTime)]})]})]}),s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2 justify-center",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs(L,{variant:"outline",size:"sm",className:"flex flex-col items-center transition-all hover:bg-primary hover:text-primary-foreground",onClick:()=>n(c,"home",u.home),children:[s.jsx("span",{className:"text-xs",children:"1"}),s.jsx("span",{className:"font-bold",children:u.home.toFixed(2)})]}),s.jsxs(L,{variant:"outline",size:"sm",className:"flex flex-col items-center transition-all hover:bg-primary hover:text-primary-foreground",onClick:()=>n(c,"draw",u.draw),children:[s.jsx("span",{className:"text-xs",children:"X"}),s.jsx("span",{className:"font-bold",children:u.draw.toFixed(2)})]}),s.jsxs(L,{variant:"outline",size:"sm",className:"flex flex-col items-center transition-all hover:bg-primary hover:text-primary-foreground",onClick:()=>n(c,"away",u.away),children:[s.jsx("span",{className:"text-xs",children:"2"}),s.jsx("span",{className:"font-bold",children:u.away.toFixed(2)})]})]}),s.jsx(L,{variant:"ghost",size:"sm",className:"text-xs text-muted-foreground hover:text-primary",children:"+24 more bets"})]})]})})},c.id)})})})]})},cI=({events:e,onPlaceBet:t,currency:n})=>{const r=e.filter(l=>l.status==="live"),a=l=>{const c=(l==null?void 0:l.toLowerCase())||"";return c.includes("soccer")||c.includes("premier")||c.includes("liga")||c.includes("football")&&!c.includes("american")?s.jsx(nm,{className:"text-green-500"}):c.includes("basketball")||c.includes("nba")?s.jsx(Us,{className:"text-orange-500"}):c.includes("baseball")||c.includes("mlb")?s.jsx(an,{className:"text-blue-500"}):c.includes("nfl")||c.includes("american football")?s.jsx(em,{className:"text-red-500"}):c.includes("tennis")||c.includes("atp")||c.includes("wta")?s.jsx(Vc,{className:"text-purple-500"}):s.jsx(Us,{className:"text-gray-500"})},o=l=>{const c=new Date(l),u=Math.abs(new Date().getTime()-c.getTime()),d=Math.round(u/6e4);if(d<60)return`${d} min${d!==1?"s":""} ago`;{const f=Math.floor(d/60);return`${f} hour${f!==1?"s":""} ago`}},i=l=>{if(!l.homeScore||!l.awayScore)return{home:1.9,draw:3.5,away:2.1};const c=l.homeScore-l.awayScore;let u=1.9,d=3.5,f=2.1;return c>0?(u=Math.max(1.2,1.9-c*.2),f=Math.min(4.5,2.1+c*.5)):c<0&&(f=Math.max(1.2,2.1-Math.abs(c)*.2),u=Math.min(4.5,1.9+Math.abs(c)*.5)),{home:u,draw:d,away:f}};return r.length===0?s.jsxs(J,{className:"mb-6",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-xl flex items-center",children:[s.jsx(Oe,{variant:"destructive",className:"animate-pulse mr-2",children:"LIVE"}),"Live Events"]})}),s.jsx(ne,{children:s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"No live events at the moment. Check back later!"})})]}):s.jsxs(J,{className:"mb-6",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-xl flex items-center",children:[s.jsx(Oe,{variant:"destructive",className:"animate-pulse mr-2",children:"LIVE"}),"Live Events"]})}),s.jsx(ne,{children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(l=>{const c=i(l),u=Math.floor((new Date().getTime()-new Date(l.startTime).getTime())/6e4);return s.jsx(J,{className:"overflow-hidden border-l-4 border-l-red-500 animate-pulse-subtle",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsxs("div",{className:"flex items-center",children:[a(l.league),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:l.league})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"text-lg font-bold",children:l.homeTeam}),s.jsx("div",{className:"text-2xl font-bold text-primary",children:l.homeScore})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-bold",children:l.awayTeam}),s.jsx("div",{className:"text-2xl font-bold text-primary",children:l.awayScore})]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsxs(Oe,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500",children:[u,"'"]}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["Started ",o(l.startTime)]})]})]}),s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2 justify-center",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs(L,{variant:"outline",size:"sm",className:"flex flex-col items-center transition-all hover:bg-primary hover:text-primary-foreground",onClick:()=>t(l,"home",c.home),children:[s.jsx("span",{className:"text-xs",children:"1"}),s.jsx("span",{className:"font-bold",children:c.home.toFixed(2)})]}),s.jsxs(L,{variant:"outline",size:"sm",className:"flex flex-col items-center transition-all hover:bg-primary hover:text-primary-foreground",onClick:()=>t(l,"draw",c.draw),children:[s.jsx("span",{className:"text-xs",children:"X"}),s.jsx("span",{className:"font-bold",children:c.draw.toFixed(2)})]}),s.jsxs(L,{variant:"outline",size:"sm",className:"flex flex-col items-center transition-all hover:bg-primary hover:text-primary-foreground",onClick:()=>t(l,"away",c.away),children:[s.jsx("span",{className:"text-xs",children:"2"}),s.jsx("span",{className:"font-bold",children:c.away.toFixed(2)})]})]}),s.jsx(L,{variant:"ghost",size:"sm",className:"text-xs text-muted-foreground hover:text-primary",children:"+12 more bets"})]})]})})},l.id)})})})]})},uI=({bets:e,events:t,setBets:n,setBalance:r,setActiveTab:a,currency:o})=>e.length===0?s.jsxs(J,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"You have no active bets."}),s.jsx(L,{className:"mt-4",onClick:()=>a("upcoming"),children:"Place a Bet"})]}):s.jsxs("div",{className:"grid gap-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"My Bets"}),e.map(i=>{const l=t.find(c=>c.id===i.eventId);return l?s.jsxs(J,{className:`overflow-hidden transition-all animate-fade-in ${i.status==="won"?"border-green-500 shadow-lg":i.status==="lost"?"border-red-500":"hover:border-casino-gold"}`,children:[s.jsx("div",{className:"p-4 bg-muted/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[l.homeTeam," vs ",l.awayTeam]}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[s.jsx(Ks,{className:"h-4 w-4 mr-1"}),l.league," • ",Xs(new Date(l.startTime),"MMM d, h:mm a")]})]}),s.jsxs(Oe,{className:`
                  ${i.status==="pending"?"bg-yellow-500 animate-pulse":i.status==="won"?"bg-green-500 animate-pulse-glow":"bg-red-500"}
                `,children:[i.status==="won"&&s.jsx(ze,{className:"h-3 w-3 mr-1"}),i.status.toUpperCase()]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Your Pick"}),s.jsx("div",{className:"font-semibold",children:i.pick})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Odds"}),s.jsx("div",{className:"font-semibold",children:i.odds.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stake"}),s.jsx("div",{className:"font-semibold",children:i.amount})]})]}),s.jsx(dn,{className:"my-4"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Potential Payout"}),s.jsxs("div",{className:"text-xl font-bold text-casino-gold flex items-center",children:[s.jsx(Ee,{className:"h-4 w-4 mr-1 animate-pulse-glow"}),i.potentialPayout]})]}),i.status==="pending"&&s.jsx(L,{variant:"outline",onClick:()=>{const c=i.amount*.8,u=ir[o].HOUSE_EDGE,d=Math.round(c*(1-u/2)*100)/100;n(f=>f.map(h=>h.id===i.id?{...h,status:"cashout"}:h)),r(f=>f+d),D.success(`Bet cashed out for ${d} coins`)},className:"transition-all hover:bg-casino-gold/20 hover:scale-105",children:"Cash Out"})]})]})]},i.id):null})]}),dI=()=>{const{activeTab:e,setActiveTab:t,bets:n,setBets:r,balance:a,setBalance:o,betAmount:i,setBetAmount:l,activeCategoryId:c,setActiveCategoryId:u,handleCurrencyChange:d,upcomingEvents:f,liveEvents:h,user:x,currency:g,userPreferences:p}=aI(),[w,v]=m.useState(!1),y=(b,j,N)=>{const C=JD(b.id,g);ZD(b,C,"moneyline",j,i,a,r,o,n,x,g)};return s.jsxs(Et,{children:[s.jsx(oI,{balance:a,setBalance:o,onCurrencyChange:d,currency:g}),s.jsxs("div",{className:"mb-4",children:[s.jsx(m1,{preferences:{preferredCurrency:g},onToggle:d,className:"inline-flex"}),s.jsx(mm,{children:s.jsxs(Aw,{children:[s.jsx(Mw,{asChild:!0,children:s.jsx("button",{onClick:()=>v(!w),className:"ml-2 p-1 text-muted-foreground hover:text-foreground",children:s.jsx(OC,{size:16})})}),s.jsx(pm,{children:s.jsx("p",{children:"View fairness and odds information"})})]})})]}),w&&s.jsxs(J,{className:"p-4 mb-4 bg-muted/30",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Current Betting Parameters"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Currency"}),s.jsx("p",{className:"font-medium",children:g==="waynebucks"?"WayneBucks":"WayneSweeps"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"House Edge"}),s.jsxs("p",{className:"font-medium",children:[(ir[g].HOUSE_EDGE*100).toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Return to Player"}),s.jsxs("p",{className:"font-medium",children:[(ir[g].RTP_CAP*100).toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Max Payout"}),s.jsx("p",{className:"font-medium",children:ir[g].MAX_PAYOUT.toLocaleString()})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:g==="waynesweeps"?"WayneSweeps are redeemable and have conservative payout limits.":"WayneBucks are play-money with higher RTPs for better entertainment value."}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Max bet per user: ",ir[g].MAX_BET_PER_USER.toLocaleString()]})]}),s.jsx(iI,{categories:GD,activeCategoryId:c,setActiveCategoryId:u}),s.jsxs(gt,{defaultValue:"upcoming",onValueChange:t,children:[s.jsxs(dt,{className:"grid grid-cols-3 w-full max-w-md mb-6",children:[s.jsxs(fe,{value:"upcoming",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),s.jsx("span",{children:"Upcoming"})]}),s.jsxs(fe,{value:"live",className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Live"}),s.jsx(Oe,{className:"ml-1 bg-red-500",children:h.length})]}),s.jsxs(fe,{value:"mybets",className:"flex items-center gap-2",children:[s.jsx(U0,{className:"h-4 w-4"}),s.jsx("span",{children:"My Bets"}),s.jsx(Oe,{className:"ml-1",children:n.length})]})]}),s.jsx(pe,{value:"upcoming",children:s.jsx(lI,{events:f,activeCategoryId:c,onPlaceBet:y,currency:g})}),s.jsx(pe,{value:"live",children:s.jsx(cI,{events:h,onPlaceBet:y,currency:g})}),s.jsx(pe,{value:"mybets",children:s.jsx(uI,{bets:n,events:[...f,...h],setBets:r,setBalance:o,setActiveTab:t,currency:g})})]})]})},fI={total_games:0,total_correct:0,total_incorrect:0,accuracy:0,average_score:0,highest_score:0,total_coins_won:0,total_coins_spent:0,profit:0,most_difficult_question:"N/A",easiest_question:"N/A",best_category:"N/A"},hI=()=>{const[e,t]=m.useState(fI),[n,r]=m.useState(!0),{user:a}=Ge();return m.useEffect(()=>{(async()=>{if(a)try{r(!0);const{data:i,error:l}=await W.from("game_results").select("*").eq("user_id",a.id).eq("game","quiz").order("created_at",{ascending:!1});if(l)throw l;if(!i||i.length===0){r(!1);return}let c=0,u=0,d=0,f=0,h=0;i.forEach(w=>{const v=w.game_data||{};d+=w.win_amount||0,f+=w.bet_amount||0,v&&typeof v=="object"&&"correct_answers"in v&&(c+=Number(v.correct_answers)||0),v&&typeof v=="object"&&"total_questions"in v&&(u+=Number(v.total_questions)||0),(w.win_amount||0)>h&&(h=w.win_amount||0)});const x=i.length>0?Math.floor(d/i.length):0,g=u>0?c/u*100:0,p=d-f;t({total_games:i.length,total_correct:c,total_incorrect:u-c,accuracy:g,average_score:x,highest_score:h,total_coins_won:d,total_coins_spent:f,profit:p,most_difficult_question:"Analysis not available",easiest_question:"Analysis not available",best_category:"Analysis not available"})}catch(i){console.error("Error fetching quiz statistics:",i)}finally{r(!1)}})()},[a]),n?s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Quiz Statistics"}),s.jsx(ke,{children:"Loading your quiz statistics..."})]}),s.jsx(ne,{className:"flex justify-center py-10",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4 w-full",children:[s.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})]}):s.jsxs(J,{className:"h-full",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5 text-casino-gold"}),"Quiz Statistics"]}),s.jsx(ke,{children:"Your performance in Casino Quiz games"})]}),s.jsx(ne,{className:"p-0",children:s.jsxs(gt,{defaultValue:"overview",className:"w-full",children:[s.jsxs(dt,{className:"grid grid-cols-3 w-full",children:[s.jsx(fe,{value:"overview",children:"Overview"}),s.jsx(fe,{value:"performance",children:"Performance"}),s.jsx(fe,{value:"earnings",children:"Earnings"})]}),s.jsx(pe,{value:"overview",className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(J,{className:"bg-muted/30",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center",children:[s.jsx(Us,{className:"h-4 w-4 mr-2 text-casino-gold"}),"Quiz Activity"]})}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Total Games:"}),s.jsx("span",{className:"font-bold",children:e.total_games})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Correct Answers:"}),s.jsx("span",{className:"font-bold",children:e.total_correct})]}),s.jsx(Ds,{value:e.accuracy,className:"h-2"}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.accuracy.toFixed(1),"% Accuracy"]})})]})]})})]}),s.jsxs(J,{className:"bg-muted/30",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center",children:[s.jsx(WC,{className:"h-4 w-4 mr-2 text-casino-gold"}),"Score Summary"]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-background/50 p-3 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Average"}),s.jsx("div",{className:"font-bold text-lg text-casino-gold",children:e.average_score})]}),s.jsxs("div",{className:"bg-background/50 p-3 rounded-lg text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Highest"}),s.jsx("div",{className:"font-bold text-lg text-casino-gold",children:e.highest_score})]})]})})})]})]})}),s.jsx(pe,{value:"performance",className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Oe,{variant:"outline",className:"mr-2",children:"Accuracy"}),s.jsxs("span",{children:[e.accuracy.toFixed(1),"%"]})]}),s.jsx(Ds,{value:e.accuracy,className:"w-1/2 h-2"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Oe,{variant:"outline",className:"mr-2",children:"Questions"}),s.jsxs("span",{children:[e.total_correct," / ",e.total_correct+e.total_incorrect]})]}),s.jsx(Ds,{value:e.total_correct/(e.total_correct+e.total_incorrect||1)*100,className:"w-1/2 h-2"})]})]}),e.total_games===0?s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center",children:[s.jsx(kt,{className:"h-10 w-10 mx-auto mb-2 text-muted-foreground opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No quiz games played yet. Play some games to see your statistics."})]}):null]})}),s.jsx(pe,{value:"earnings",className:"p-4",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(J,{className:`bg-muted/30 border-l-4 ${e.profit>=0?"border-l-green-500":"border-l-red-500"}`,children:[s.jsx(ae,{className:"py-2",children:s.jsx(ie,{className:"text-sm",children:"Net Profit"})}),s.jsx(ne,{children:s.jsxs("div",{className:`font-bold text-lg ${e.profit>=0?"text-green-500":"text-red-500"}`,children:[e.profit>=0?"+":"",e.profit," coins"]})})]}),s.jsxs(J,{className:"bg-muted/30",children:[s.jsx(ae,{className:"py-2",children:s.jsx(ie,{className:"text-sm",children:"Total Won"})}),s.jsx(ne,{children:s.jsxs("div",{className:"font-bold text-lg text-casino-gold",children:[e.total_coins_won," coins"]})})]}),s.jsxs(J,{className:"bg-muted/30",children:[s.jsx(ae,{className:"py-2",children:s.jsx(ie,{className:"text-sm",children:"Total Spent"})}),s.jsx(ne,{children:s.jsxs("div",{className:"font-bold text-lg",children:[e.total_coins_spent," coins"]})})]})]})})})]})}),s.jsx(ds,{className:"pt-0 pb-4 px-4",children:e.total_games===0?s.jsxs("div",{className:"w-full p-3 bg-muted/30 rounded-lg text-center",children:[s.jsx(Gn,{className:"h-6 w-6 mx-auto mb-2 text-casino-gold opacity-70"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Play Casino Quiz games to build your statistics and improve your ranking!"})]}):s.jsx("div",{className:"w-full p-3 bg-muted/30 rounded-lg text-center",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Statistics based on your last ",e.total_games," quiz games"]})})})]})},mI=({title:e})=>{const t=st();return s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>t("/games"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:e})]})})},pI=({activeTab:e,onTabChange:t})=>s.jsxs(dt,{className:"mb-6",children:[s.jsxs(fe,{value:"play",className:"flex gap-2 items-center",children:[s.jsx(Vc,{className:"h-4 w-4"}),"Play Quiz"]}),s.jsxs(fe,{value:"stats",className:"flex gap-2 items-center",children:[s.jsx(Gn,{className:"h-4 w-4"}),"Statistics"]}),s.jsxs(fe,{value:"tournaments",className:"flex gap-2 items-center",children:[s.jsx(ze,{className:"h-4 w-4"}),"Tournaments"]}),s.jsxs(fe,{value:"lobby",className:"flex gap-2 items-center",children:[s.jsx(kn,{className:"h-4 w-4"}),"Multiplayer Lobby"]})]}),gI=({tournaments:e,onJoinTournament:t})=>{const n=st(),{user:r}=Ge(),a=o=>{if(!r){D.error("You must be logged in to join tournaments");return}t(o)};return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(o=>s.jsx(J,{className:"casino-card",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:o.title}),o.type==="weekly"&&s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Weekly"}),o.type==="monthly"&&s.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Monthly"}),o.type==="daily"&&s.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 text-xs rounded-full",children:"Daily"})]}),s.jsx("p",{className:"text-muted-foreground mt-1 mb-4",children:o.description})]}),o.type==="weekly"?s.jsx(Ks,{className:"h-10 w-10 text-casino-gold"}):o.type==="monthly"?s.jsx(ze,{className:"h-10 w-10 text-casino-gold"}):s.jsx(Gn,{className:"h-10 w-10 text-casino-gold"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[s.jsxs("div",{className:"bg-muted/20 px-3 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prize Pool"}),s.jsxs("p",{className:"text-lg font-bold text-casino-gold",children:[o.prizePool.toLocaleString()," Coins"]})]}),s.jsxs("div",{className:"bg-muted/20 px-3 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Participants"}),s.jsxs("p",{className:"text-lg font-bold",children:[o.participants," Players"]})]}),s.jsxs("div",{className:"bg-muted/20 px-3 py-2 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Left"}),s.jsx("p",{className:"text-lg font-bold text-casino-red",children:Em(o.endTime)})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(L,{className:"casino-btn flex-1",onClick:()=>a(o.type),children:"Join Tournament"}),s.jsx(L,{variant:"outline",className:"flex-1",onClick:()=>n("/leaderboard"),children:"View Leaderboard"})]})]})},o.id))})},xI=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(EN,{gameName:"Casino Quiz",showChat:!0})}),s.jsx("div",{children:s.jsx($m,{showGame:!0,showCount:!0})})]}),vI=()=>{st();const{user:e}=Ge(),[t,n]=m.useState(1e3),{joinGame:r,leaveGame:a}=Di(),[o,i]=m.useState("play"),[l,c]=m.useState([]);m.useEffect(()=>((async()=>{if(e){const{data:x,error:g}=await W.from("profiles").select("balance").eq("id",e.id).single();!g&&x&&n(x.balance)}})(),r("Casino Quiz"),(async()=>{try{const g=(await Ii()).filter(p=>p.game==="quiz");c(g)}catch(x){console.error("Error fetching tournaments:",x),c([])}})(),()=>{a()}),[e,r,a]);const u=f=>{if(!e){D.error("You must be logged in to join tournaments");return}D.success(`You've joined the ${f} tournament!`,{description:"Play quiz games to increase your rank on the leaderboard."}),i("play")},d=f=>{i(f)};return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(mI,{title:"Casino Quiz"}),s.jsx(uo,{className:"mb-6"})]}),s.jsxs(gt,{value:o,onValueChange:d,children:[s.jsx(pI,{activeTab:o,onTabChange:d}),s.jsx(pe,{value:"play",children:s.jsx(CN,{questions:TN,maxQuestions:10,timeLimit:30,onComplete:f=>console.log(`Quiz completed with score: ${f}`)})}),s.jsx(pe,{value:"stats",children:s.jsx(hI,{})}),s.jsx(pe,{value:"tournaments",children:s.jsx(gI,{tournaments:l,onJoinTournament:u})}),s.jsx(pe,{value:"lobby",children:s.jsx(xI,{})})]})]})},yI=({title:e,subtitle:t})=>{const n=st();return s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e}),s.jsx("p",{className:"text-muted-foreground",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(L,{variant:"outline",onClick:()=>n("/quiz"),className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-4 w-4"}),"Play Quiz"]}),s.jsxs(L,{variant:"outline",onClick:()=>n("/slots"),className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),"Play Slots"]})]})]})},wI=({activeTab:e,onTabChange:t,children:n})=>s.jsxs(gt,{defaultValue:"all",value:e,onValueChange:t,className:"w-full",children:[s.jsxs(dt,{className:"mb-6",children:[s.jsx(fe,{value:"all",children:"All Tournaments"}),s.jsx(fe,{value:"slots",children:"Slot Tournaments"}),s.jsx(fe,{value:"quiz",children:"Quiz Tournaments"})]}),s.jsx(pe,{value:e,children:n})]}),bI=({id:e,title:t,description:n,prizePool:r,participants:a,timeLeft:o,game:i,type:l,style:c,isActive:u,winners:d,isJoined:f=!1,onJoin:h,onViewLeaderboard:x})=>{const[g,p]=m.useState(!1),w=()=>{switch(c){case"premium":return"border-amber-500/30 bg-gradient-to-b from-card to-amber-950/20";case"seasonal":return"border-emerald-500/30 bg-gradient-to-b from-card to-emerald-950/20";case"championship":return"border-purple-500/30 bg-gradient-to-b from-card to-purple-950/20";default:return"border-border/30"}},v=()=>{switch(c){case"premium":return s.jsx(qc,{className:"h-5 w-5 text-amber-500"});case"seasonal":return s.jsx(Gn,{className:"h-5 w-5 text-emerald-500"});case"championship":return s.jsx(H0,{className:"h-5 w-5 text-purple-500"});default:return s.jsx(ze,{className:"h-5 w-5 text-casino-gold"})}},y=()=>{switch(l){case"daily":return"bg-blue-500";case"weekly":return"bg-purple-500";case"monthly":return"bg-amber-500";default:return"bg-gray-500"}},b=()=>{switch(i){case"slots":return"bg-emerald-500";case"quiz":return"bg-cyan-500";default:return"bg-gray-500"}},j=()=>{switch(c){case"premium":return s.jsx(Oe,{variant:"outline",className:"bg-amber-500/10 text-amber-500 border-amber-500/50",children:"Premium"});case"seasonal":return s.jsx(Oe,{variant:"outline",className:"bg-emerald-500/10 text-emerald-500 border-emerald-500/50",children:"Seasonal"});case"championship":return s.jsx(Oe,{variant:"outline",className:"bg-purple-500/10 text-purple-500 border-purple-500/50",children:"Championship"});default:return s.jsx(Oe,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/50",children:"Standard"})}};return s.jsxs(J,{className:`w-full hover:shadow-lg transition-shadow ${w()}`,children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(v,{}),s.jsx(ie,{className:"text-xl",children:t})]}),s.jsx(ke,{children:n})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{variant:"secondary",className:b(),children:i==="slots"?"Slots":"Quiz"}),s.jsx(Oe,{variant:"outline",className:y(),children:l.charAt(0).toUpperCase()+l.slice(1)})]}),s.jsx("div",{className:"flex justify-end",children:j()})]})]})}),s.jsx(ne,{children:g&&d&&d.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx(ze,{className:"h-4 w-4"}),"Winners"]}),d.map(N=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 flex items-center justify-center font-bold text-xs bg-muted rounded-full",children:N.rank}),s.jsxs(Vn,{className:"h-8 w-8",children:[s.jsx(ur,{src:N.avatarUrl}),s.jsx(qn,{children:N.username.substring(0,2).toUpperCase()})]}),s.jsx("span",{className:"text-sm font-medium",children:N.username})]}),s.jsxs("div",{className:"text-sm font-medium",children:[N.prize.toLocaleString()," coins"]})]},N.userId)),s.jsx(L,{variant:"ghost",size:"sm",className:"w-full text-xs",onClick:()=>p(!1),children:"Show Tournament Details"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Gn,{className:"h-4 w-4"}),"Prize Pool"]}),s.jsxs("span",{className:"font-bold",children:[r.toLocaleString()," Coins"]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(kn,{className:"h-4 w-4"}),"Participants"]}),s.jsx("span",{className:"font-bold",children:a})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(B0,{className:"h-4 w-4"}),"Time Remaining"]}),s.jsx("span",{className:"font-bold",children:o})]}),d&&d.length>0&&s.jsx(L,{variant:"ghost",size:"sm",className:"w-full text-xs",onClick:()=>p(!0),children:"Show Winners"})]})}),s.jsx(dn,{}),s.jsxs(ds,{className:"pt-4 flex justify-between gap-2",children:[s.jsx(L,{variant:"outline",className:"flex-1",onClick:x,children:"Leaderboard"}),s.jsx(L,{variant:u?"default":"secondary",className:`flex-1 ${c==="championship"?"bg-purple-600 hover:bg-purple-700":c==="premium"?"bg-amber-600 hover:bg-amber-700":c==="seasonal"?"bg-emerald-600 hover:bg-emerald-700":""}`,disabled:!u||f,onClick:h,children:u?f?"Joined":"Join Tournament":"Ended"})]})]})},jI=({tournaments:e,loading:t,activeTab:n,onJoinTournament:r,onViewLeaderboard:a})=>{const o=e.filter(i=>n==="all"?!0:i.game===n);return t?s.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(DC,{className:"h-12 w-12 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading tournaments..."})]})}):o.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No tournaments available at the moment. Please check back later or contact an administrator."})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(i=>s.jsx(bI,{id:i.id,title:i.title,description:i.description,prizePool:i.prizePool,participants:i.participants,timeLeft:Em(i.endTime),game:i.game,type:i.type,style:i.style,isActive:i.isActive,winners:i.winners,isJoined:i.joined,onJoin:()=>r(i.id),onViewLeaderboard:()=>a(i.id)},i.id))})},NI=()=>{const{user:e}=Ge(),t=st(),[n,r]=m.useState("all"),[a,o]=m.useState([]),[i,l]=m.useState(!0);return m.useEffect(()=>{const d=async()=>{l(!0);try{try{await fetch("https://enrjmivxwhkwticwdqmi.supabase.co/functions/v1/generate-tournaments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVucmptaXZ4d2hrd3RpY3dkcW1pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMzU2NTAsImV4cCI6MjA2MTgxMTY1MH0.9CkLxze4gMQ5YXJqa8zFYYmj_k4sy1sx05Wttq8w3FA"}})}catch(x){console.error("Error generating tournaments:",x)}const h=await Ii();if(e){const x=await Promise.all(h.map(async g=>{const p=await P5(g.id,e.id);return{...g,joined:p}}));o(x)}else o(h)}catch(h){console.error("Error loading tournaments:",h)}finally{l(!1)}};d();const f=setInterval(d,6e4);return()=>clearInterval(f)},[e]),{tournaments:a,loading:i,activeTab:n,setActiveTab:r,handleJoinTournament:async d=>{if(!e){t("/auth");return}if(await du(d,e==null?void 0:e.id)){o(x=>x.map(g=>g.id===d?{...g,joined:!0}:g));const h=a.find(x=>x.id===d);h&&h.game==="quiz"&&t("/quiz"),h&&h.game==="slots"&&t("/slots")}},handleViewLeaderboard:d=>{t(`/leaderboard?tournament=${d}`)}}},_I=()=>{const{tournaments:e,loading:t,activeTab:n,setActiveTab:r,handleJoinTournament:a,handleViewLeaderboard:o}=NI();return s.jsxs(Et,{children:[s.jsx(yI,{title:"Tournaments",subtitle:"Compete against other players for big prizes!"}),s.jsx(wI,{activeTab:n,onTabChange:i=>r(i),children:s.jsx(jI,{tournaments:e,loading:t,activeTab:n,onJoinTournament:a,onViewLeaderboard:o})})]})},HN=(e,t)=>Array(t).fill(0).map(()=>[...e].sort(()=>Math.random()-.5)),SI=(e,t,n,r,a,o)=>{const[i,l]=m.useState({coins:e,betAmount:a,spinning:!1,results:Array(n).fill(Array(r).fill(t[0])),lastWin:0,bonusActive:!1,freeSpins:0,multiplier:1}),[c,u]=m.useState(()=>HN(t,n));return m.useEffect(()=>{o&&!i.spinning&&o(i.coins)},[i.coins,i.spinning,o]),{state:i,setState:l,reelData:c,setReelData:u}},Dx=[{id:"blackjack",name:"Blackjack",min_bet:5,max_bet:1e3,enabled:!0,rtp:99.5,house_edge:.5,payouts:{blackjack:1.5,regular:1,insurance:2}},{id:"roulette-us",name:"American Roulette",min_bet:5,max_bet:1e3,enabled:!0,rtp:94.74,house_edge:5.26,payouts:{straight:35,split:17,street:11,corner:8,sixline:5,column:2,dozen:2,red:1,black:1,odd:1,even:1,high:1,low:1}},{id:"roulette-eu",name:"European Roulette",min_bet:5,max_bet:1e3,enabled:!0,rtp:97.3,house_edge:2.7,payouts:{straight:35,split:17,street:11,corner:8,sixline:5,column:2,dozen:2,red:1,black:1,odd:1,even:1,high:1,low:1}},{id:"highlow",name:"High Low",min_bet:5,max_bet:500,enabled:!0,rtp:98,house_edge:2,payouts:{win:1}},{id:"cointoss",name:"Coin Toss",min_bet:5,max_bet:500,enabled:!0,rtp:97,house_edge:3,payouts:{win:1.94}},{id:"dice",name:"Casino Dice",min_bet:5,max_bet:500,enabled:!0,rtp:98.6,house_edge:1.4,payouts:{number:5,range:1}},{id:"racing",name:"Virtual Racing",min_bet:10,max_bet:1e3,enabled:!0,rtp:92,house_edge:8,payouts:{win:4.5,place:1.8,show:1.2}},{id:"picknumber",name:"Lucky Number",min_bet:5,max_bet:100,enabled:!0,rtp:90,house_edge:10,payouts:{exact:9,adjacent:2}},{id:"quiz",name:"Casino Quiz",min_bet:5,max_bet:100,enabled:!0,rtp:95,house_edge:5,payouts:{correct:2,streak_bonus:.5}}],Ix=[{id:"slot-classic",name:"Classic Slots",min_bet:1,max_bet:100,enabled:!0,rtp:96,house_edge:4,slot_type:"classic",reels:3,symbols_per_reel:5,bonus_frequency:5,jackpot_seed:0,jackpot_contribution:0,special_features:["wild_substitutions","scatter_pays"],symbol_weights:{cherry:25,lemon:25,orange:20,plum:15,bell:10,seven:5},payouts:{three_seven:50,three_bell:25,three_plum:15,three_orange:10,three_lemon:5,three_cherry:3,two_seven:2,two_bell:1}},{id:"slot-fruity",name:"Fruity Slots",min_bet:1,max_bet:200,enabled:!0,rtp:95.5,house_edge:4.5,slot_type:"fruity",reels:5,symbols_per_reel:4,bonus_frequency:7.5,jackpot_seed:0,jackpot_contribution:0,special_features:["wild_substitutions","free_spins","multipliers"],symbol_weights:{strawberry:20,banana:20,apple:20,watermelon:15,pineapple:15,wild_fruit:10},payouts:{five_wild_fruit:200,four_wild_fruit:50,three_wild_fruit:20,five_watermelon:100,four_watermelon:25,three_watermelon:10,five_of_kind:75,four_of_kind:15,three_of_kind:5}},{id:"slot-space",name:"Space Slots",min_bet:5,max_bet:500,enabled:!0,rtp:95,house_edge:5,slot_type:"space",reels:5,symbols_per_reel:4,bonus_frequency:6,jackpot_seed:0,jackpot_contribution:0,special_features:["wild_substitutions","free_spins","cascading_reels","expanding_wilds"],symbol_weights:{planet:25,rocket:20,astronaut:20,alien:15,ufo:10,black_hole:10},payouts:{five_black_hole:250,four_black_hole:50,three_black_hole:15,five_ufo:125,four_ufo:25,three_ufo:10,five_alien:75,four_alien:15,three_alien:5,five_any:50,four_any:10,three_any:3}},{id:"slot-jackpot",name:"Jackpot Slots",min_bet:10,max_bet:1e3,enabled:!0,rtp:94,house_edge:6,slot_type:"jackpot",reels:5,symbols_per_reel:3,bonus_frequency:4,jackpot_seed:1e4,jackpot_contribution:2.5,special_features:["wild_substitutions","scatter_pays","free_spins","bonus_game","multipliers"],symbol_weights:{diamond:5,crown:10,gold_bar:15,ruby:20,emerald:25,sapphire:25},payouts:{five_diamond:1e3,four_diamond:250,three_diamond:50,five_crown:500,four_crown:100,three_crown:25,five_gold_bar:250,four_gold_bar:50,three_gold_bar:15,five_jewels:100,four_jewels:25,three_jewels:5,mega_jackpot:"progressive",mini_jackpot:1e3}}],kI=async()=>{try{const{data:e,error:t}=await W.from("game_configs").select("*");return!t&&e&&e.length>0?(console.log("Fetched game configs from database:",e.length),e):(console.log("No game configs in database, using default configs"),Dx)}catch(e){return console.error("Error fetching game configs:",e),Dx}},CI=async()=>{try{const{data:e,error:t}=await W.from("slot_configs").select("*");return!t&&e&&e.length>0?(console.log("Fetched slot configs from database:",e.length),e):(console.log("No slot configs in database, using default configs"),Ix)}catch(e){return console.error("Error fetching slot configs:",e),Ix}},Zm=({gameId:e,isSlotMachine:t=!1})=>{const[n,r]=m.useState(null),[a,o]=m.useState(!0),[i,l]=m.useState(null);return m.useEffect(()=>{(async()=>{try{if(o(!0),l(null),t){const b=(await CI()).find(j=>j.id===e);b?(console.log("Found slot config:",b),r(b)):(console.warn(`No slot config found for ID: ${e}`),l("Configuration not found"))}else{const b=(await kI()).find(j=>j.id===e);b?(console.log("Found game config:",b),r(b)):(console.warn(`No game config found for ID: ${e}`),l("Configuration not found"))}}catch(y){console.error("Error loading game config:",y),l("Failed to load configuration")}finally{o(!1)}})();const w=t?"slot_configs":"game_configs",v=W.channel("config-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:w,filter:`id=eq.${e}`},y=>{console.log("Config updated in real-time:",y),r(y.new),D.success("Game configuration updated")}).subscribe();return()=>{W.removeChannel(v)}},[e,t]),{config:n,isLoading:a,error:i,isGameEnabled:()=>n?n.enabled??!0:!0,getMinBet:()=>n?n.min_bet??1:1,getMaxBet:()=>n?n.max_bet??100:100,getPayout:p=>{if(!n||!n.payouts)return 0;const w=n.payouts[p];return w===void 0?0:typeof w=="string"?parseFloat(w):Number(w)},calculateExpectedWin:p=>p*(n?(n.rtp??95)/100:.95),applyHouseEdge:p=>{if(!n)return p;const w=n.house_edge??5;return p*(1-w/100)},getRawConfig:()=>n}},EI=({slotType:e,providedConfig:t})=>{const{config:n,refetchConfig:r}=Zm({gameId:`slot-${e}`,isSlotMachine:!0}),[a,o]=m.useState(null);return m.useEffect(()=>{t?o(t):n&&o(n)},[t,n]),m.useEffect(()=>{a&&console.log("✅ Slot Config Loaded:",a)},[a]),{slotConfig:a,refetchConfig:r}},TI=e=>{const t={};e.forEach(a=>{a.isWild,t[a.id]=(t[a.id]||0)+1});let n=0,r="";return Object.entries(t).forEach(([a,o])=>{o>n&&(n=o,r=a)}),n===3?`three_${r}`:n===2?`two_${r}`:""},PI=(e,t,n)=>{const r={},o=e.filter(c=>c.isWild).length;e.forEach(c=>{!c.isWild&&!c.isScatter&&(r[c.id]=(r[c.id]||0)+1)});let i=0,l="";if(Object.entries(r).forEach(([c,u])=>{const d=u+o;if(d>=Math.ceil(n/2)){const f=e.find(h=>h.id===c);if(f){const h=d/n,x=f.value*t*h,g=d>=n?2:1;x*g>i&&(i=x*g,l=c)}}}),o===n){const c=e.find(u=>u.isWild);if(c){const u=c.value*t*3;u>i&&(i=u,l=c.id)}}return{winAmount:i,winningSymbolId:l}},Lx=(e,t)=>{if(!t)return console.log("No slot config provided for RTP adjustment"),e;const n=t.rtp||95,r=n/100;console.log(`Using RTP factor: ${r} from configured RTP: ${n}%`);const a=Math.random()*.1-.05,o=Math.max(0,r+a),i=Math.round(e*o);return console.log(`Original win: ${e}, RTP adjusted win: ${i}`),i},RI=(e,t)=>{if(!t||!t.payouts)return console.log(`No config or payouts found for pattern: ${e}`),0;const r=t.payouts[e];if(r===void 0)return console.log(`No payout defined for pattern: ${e}`),0;const a=typeof r=="string"?parseFloat(r):Number(r);return console.log(`Pattern ${e} has payout: ${a}`),a},Nl=(e,t,n,r)=>{const a=TI(e);if(a){console.log(`Pattern detected: ${a}`);const i=RI(a,r);if(i>0){console.log(`Using configured payout: ${i} for pattern: ${a}`);const l=t*i;return Lx(l,r)}}console.log("No pattern or payout found, using default calculation");const{winAmount:o}=PI(e,t,n);return Lx(o,r)},AI=(e,t,n,r)=>{var i;const a={newFreeSpins:n.freeSpins,newMultiplier:n.multiplier,bonusActive:n.bonusActive,bonusPrize:0},o=r&&r.special_features;if(o&&r.special_features.includes("free_spins")){const l=r.bonus_frequency||5,c=Math.random()*100;if(e>=3||c<=l){const u=e>=3?e*2:Math.floor(Math.random()*6)+5;a.newFreeSpins+=u,r.special_features.includes("multipliers")&&(a.newMultiplier=Math.max(n.multiplier,2)),D.success("Free Spins Bonus!",{description:`You won ${u} free spins with ${a.newMultiplier}x multiplier!`,duration:5e3})}}else if(e>=3){const l=e*2;a.newFreeSpins+=l,a.newMultiplier=Math.max(n.multiplier,2),D.success("Free Spins Bonus!",{description:`You won ${l} free spins with 2x multiplier!`,duration:5e3})}if(o&&r.special_features.includes("bonus_game")){const l=r.bonus_frequency||5,c=Math.random()*100;if(t>=3||c<=l){a.bonusActive=!0;const u=((i=r.payouts)==null?void 0:i.bonus_game)||10,d=typeof u=="string"?parseFloat(u):Number(u);a.bonusPrize=n.betAmount*d,D.success("Bonus Feature Triggered!",{description:`You won ${a.bonusPrize} coins from the bonus!`,duration:5e3})}}else t>=3&&(a.bonusActive=!0,a.bonusPrize=n.betAmount*10,D.success("Bonus Feature Triggered!",{description:`You won ${a.bonusPrize} coins from the bonus!`,duration:5e3}));return a},MI=(e,t,n,r,a,o,i,l)=>{let c=0;if(console.log("Win check using slot config:",l),l?(console.log("Applied slot config RTP:",l.rtp),console.log("Applied payouts:",l.payouts)):console.log("No slot config provided to win logic!"),r===1){const h=e.map(x=>x[0]);c=Nl(h,t.betAmount,a,l)}else{for(let h=0;h<r;h++){const x=e.map(g=>g[h]);c+=Nl(x,t.betAmount,a,l)}if(r>1){const h=[],x=[];for(let g=0;g<Math.min(a,r);g++)e[g]&&e[g][g]&&h.push(e[g][g]),e[g]&&e[g][r-g-1]&&x.push(e[g][r-g-1]);c+=Nl(h,t.betAmount,a,l),c+=Nl(x,t.betAmount,a,l)}}c=Math.round(c*t.multiplier);let u=0,d=0;e.forEach(h=>{h.forEach(x=>{x&&x.isScatter&&u++,x&&x.isBonus&&d++})});const f=AI(u,d,t,l);c+=f.bonusPrize,n(h=>({...h,coins:h.coins+(c>0?c:0),lastWin:c,freeSpins:f.newFreeSpins,multiplier:f.newFreeSpins>0?f.newMultiplier:1,bonusActive:f.newFreeSpins>0?f.bonusActive:!1})),c>0&&(c>t.betAmount*5?D.success(`BIG WIN: ${c} coins!`,{description:"Congratulations on your big win!",duration:5e3}):D.success(`You won ${c} coins!`),i&&i(c))},OI=({state:e,setState:t,symbols:n,reels:r,rows:a,onWin:o,slotConfig:i,setReelData:l,isMountedRef:c,spinTimeoutRef:u,spinInProgressRef:d,trackGameResult:f})=>{const h=m.useCallback(()=>{const g=()=>n[Math.floor(Math.random()*n.length)],p=[];for(let w=0;w<r;w++){const v=[];for(let y=0;y<a;y++)v.push(g());p.push(v)}return p},[r,a,n]);return{spin:m.useCallback(()=>{if(d.current||e.spinning){console.log("Spin already in progress, ignoring");return}if(e.coins<e.betAmount&&e.freeSpins===0){D.error("Not enough coins!",{description:"Please add more coins to continue playing."});return}d.current=!0;const g=HN(n,r);l(g),t(v=>({...v,spinning:!0,coins:v.freeSpins>0?v.coins:v.coins-v.betAmount,freeSpins:v.freeSpins>0?v.freeSpins-1:0,lastWin:0}));const p=h();u.current&&(clearTimeout(u.current),u.current=null);const w=1500+Math.random()*1500;console.log(`Setting spin timeout for ${w}ms`),u.current=setTimeout(()=>{if(!c.current){console.log("Component unmounted, not updating state"),d.current=!1;return}console.log("Spin timeout completed, stopping animation"),t(v=>({...v,spinning:!1,results:p})),d.current=!1,setTimeout(()=>{c.current&&(console.log("Checking for wins with config:",i),MI(p,e,t,a,r,n,o,i),d.current=!1,f(e.betAmount,e.lastWin))},100),u.current=null},w)},[e,t,n,r,a,h,o,i,l,c,u,d,f])}},DI=e=>({trackGameResult:m.useCallback(async(n,r)=>{var a;try{const{error:o}=await W.from("game_results").insert({game:`slot-${e}`,user_id:(a=(await W.auth.getUser()).data.user)==null?void 0:a.id,bet_amount:n,win_amount:r,is_win:r>0,game_data:{betAmount:n,winAmount:r,slotType:e}});o&&console.error("Failed to save game result",o)}catch(o){console.error("Error tracking game result",o)}},[e])}),II=({initialCoins:e,symbols:t,reels:n,rows:r,minBet:a,maxBet:o,onWin:i,onSaveBalance:l,slotType:c="classic",slotConfig:u})=>{const{slotConfig:d}=EI({slotType:c,providedConfig:u}),{state:f,setState:h,reelData:x,setReelData:g}=SI(e,t,n,r,a,l),{trackGameResult:p}=DI(c),w=m.useRef(null),v=m.useRef(!0),y=m.useRef(!1);m.useEffect(()=>(v.current=!0,()=>{v.current=!1,w.current&&(clearTimeout(w.current),w.current=null),l&&l(f.coins)}),[l,f.coins]);const{spin:b}=OI({state:f,setState:h,symbols:t,reels:n,rows:r,onWin:i,slotConfig:d,setReelData:g,isMountedRef:v,spinTimeoutRef:w,spinInProgressRef:y,trackGameResult:p}),j=m.useCallback(N=>{const C=d?d.min_bet:a,k=d?d.max_bet:o;!f.spinning&&N>=C&&N<=k&&h(T=>({...T,betAmount:N}))},[f.spinning,a,o,d,h]);return{state:f,reelData:x,spin:b,changeBet:j,slotConfig:d}},VN=G.createContext(void 0),LI=({initialCoins:e,symbols:t,reels:n,rows:r,minBet:a,maxBet:o,onWin:i,machineName:l,onSaveBalance:c,slotType:u="classic",slotConfig:d,children:f})=>{const{config:h}=d?{config:null}:Zm({gameId:`slot-${u}`,isSlotMachine:!0}),x=d||h;console.log("SlotMachineProvider using effective config:",x);const g=(x==null?void 0:x.min_bet)??a,p=(x==null?void 0:x.max_bet)??o,{state:w,reelData:v,spin:y,changeBet:b}=II({initialCoins:e,symbols:t,reels:n,rows:r,minBet:g,maxBet:p,onWin:C=>{i&&i(C)},onSaveBalance:c,slotType:u,slotConfig:x}),N={state:w,reelData:v,spin:y,changeBet:b,configMinBet:g,configMaxBet:p,effectiveConfig:x,trackWin:C=>{i&&i(C)}};return s.jsx(VN.Provider,{value:N,children:f})},$I=()=>{const e=G.useContext(VN);if(e===void 0)throw new Error("useSlotMachineContext must be used within a BaseSlotMachineProvider");return e},FI=({symbol:e,hasWin:t})=>s.jsx("div",{className:`text-4xl ${t?"animate-pulse-glow":""}`,children:e.emoji}),BI=({reelData:e})=>s.jsx("div",{className:"animate-slot-spin",children:e.map((t,n)=>s.jsx("div",{className:"h-24 flex items-center justify-center text-4xl",children:t.emoji},n))}),zI=({spinning:e,symbol:t,reelData:n,hasWin:r,rowIndex:a})=>s.jsx("div",{className:"w-20 h-24 bg-black/30 rounded-md border-2 border-casino-gold/50 flex items-center justify-center overflow-hidden",children:e?s.jsx(BI,{reelData:n}):s.jsx(FI,{symbol:t,hasWin:r})},`reel-${a}`),UI=({spinning:e,reelData:t,results:n,hasWin:r})=>s.jsx("div",{className:"flex flex-col gap-2",children:n.map((a,o)=>s.jsx(zI,{spinning:e,symbol:a,reelData:t,hasWin:r,rowIndex:o},o))}),WI=({reelData:e,results:t,spinning:n,lastWin:r,reels:a})=>s.jsx("div",{className:"flex justify-center gap-2 relative z-10",children:Array(a).fill(0).map((o,i)=>s.jsx(UI,{spinning:n,reelData:e[i],results:t[i],hasWin:r>0},i))}),HI=({reelData:e,results:t,spinning:n,lastWin:r,reels:a})=>s.jsxs("div",{className:"bg-casino-dark/70 p-4 rounded-lg mb-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-casino-purple/10 to-transparent opacity-50"}),s.jsx(WI,{reelData:e,results:t,spinning:n,lastWin:r,reels:a})]}),VI=({coins:e,betAmount:t,minBet:n,maxBet:r,spinning:a,onChangeBet:o})=>s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ee,{className:"h-5 w-5 text-casino-gold"}),s.jsx("span",{className:"font-bold text-lg",children:e})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",size:"sm",onClick:()=>o(Math.max(n,t-10)),disabled:a||t<=n,className:"border-casino-gold/30 text-casino-gold",children:"-"}),s.jsx("div",{className:"bg-muted/30 px-3 py-1 rounded text-casino-gold font-bold min-w-[60px] text-center",children:t}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>o(Math.min(r,t+10)),disabled:a||t>=r,className:"border-casino-gold/30 text-casino-gold",children:"+"})]})]}),qI=({freeSpins:e,multiplier:t})=>e===0?null:s.jsxs("div",{className:"bg-casino-purple/20 p-2 rounded-md text-center mb-4 animate-pulse",children:[s.jsxs("span",{className:"font-bold text-casino-gold",children:[e," ",e===1?"Free Orbit":"Free Orbits"," Remaining"]}),t>1&&s.jsxs("span",{className:"ml-2 text-sm",children:["(",t,"x Gravity Multiplier)"]})]}),GI=({spinning:e,disabled:t,freeSpins:n,onSpin:r})=>s.jsx(L,{className:"casino-btn-secondary w-full text-lg py-6 relative overflow-hidden",disabled:t,onClick:r,children:e?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(TC,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{className:"animate-pulse",children:"Spinning..."})]}):s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n>0&&s.jsxs("span",{className:"absolute top-0 right-2 bg-casino-purple text-xs px-2 py-0.5 rounded-b font-bold",children:[n," FREE"]}),s.jsx("span",{className:n>0?"mt-1":"",children:n>0?"SPIN (FREE)":"SPIN"})]})}),YI=({lastWin:e})=>{if(e<=0)return null;const n=e>1e3?"COSMIC JACKPOT!":e>500?"STELLAR WIN!":e>200?"GALACTIC BONUS!":"Last Win:",r=e>500?"text-2xl animate-pulse-glow":"text-xl";return s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:`text-casino-gold font-bold ${r}`,children:[n," ",s.jsxs("span",{children:[e," coins"]})]})})},QI=({coins:e,betAmount:t,minBet:n,maxBet:r,spinning:a,freeSpins:o,multiplier:i,lastWin:l,onChangeBet:c,onSpin:u})=>s.jsxs(s.Fragment,{children:[s.jsx(VI,{coins:e,betAmount:t,minBet:n,maxBet:r,spinning:a,onChangeBet:c}),s.jsx(qI,{freeSpins:o,multiplier:i}),s.jsx(GI,{spinning:a,disabled:a||e<t&&o===0,freeSpins:o,onSpin:u}),s.jsx(YI,{lastWin:l})]}),KI=async(e,t,n)=>{try{console.log(`Submitting score ${n} for user ${t} to tournament ${e}`)}catch(r){console.error("Error submitting tournament score:",r)}},JI=({state:e,machineName:t,reels:n,rows:r})=>{const{user:a}=Ge();return m.useEffect(()=>{(async()=>{const l=`slot-${t.toLowerCase().replace(/\s+/g,"-")}`;await Sb(l)||D.error(`${t} is currently disabled by the casino`,{description:"Please try another game or check back later.",duration:5e3})})()},[t]),m.useEffect(()=>{!e.spinning&&e.lastWin===0&&a&&e.betAmount>0&&e.freeSpins===0&&Jf({user_id:a.id,game:`slot-${t.toLowerCase().replace(/\s+/g,"-")}`,bet_amount:e.betAmount,win_amount:0,is_win:!1,game_data:{reels:n,rows:r}})},[e.spinning,e.lastWin,e.betAmount,a,t,n,r,e.freeSpins]),{trackWin:i=>{a&&i>0&&(Jf({user_id:a.id,game:`slot-${t.toLowerCase().replace(/\s+/g,"-")}`,bet_amount:e.betAmount,win_amount:i,is_win:!0,game_data:{reels:n,rows:r,multiplier:e.multiplier,freeSpins:e.freeSpins>0}}),KI("slot-daily-tournament",a.id,i))}}},bu=e=>s.jsx(LI,{...e,children:s.jsx(XI,{machineName:e.machineName,reels:e.reels,rows:e.rows})}),XI=({machineName:e,reels:t,rows:n})=>{const{state:r,reelData:a,spin:o,changeBet:i,configMinBet:l,configMaxBet:c}=$I(),{trackWin:u}=JI({state:r,machineName:e,reels:t,rows:n});return s.jsxs("div",{className:"casino-card p-6 max-w-lg mx-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:e}),s.jsx(HI,{reelData:a,results:r.results,spinning:r.spinning,lastWin:r.lastWin,reels:t}),s.jsx(QI,{coins:r.coins,betAmount:r.betAmount,minBet:l,maxBet:c,spinning:r.spinning,freeSpins:r.freeSpins,multiplier:r.multiplier,lastWin:r.lastWin,onChangeBet:i,onSpin:()=>{o(),r.lastWin>0&&u(r.lastWin)}})]})},ZI=({machineType:e})=>{const[t,n]=m.useState([]),[r,a]=m.useState(!0),{user:o}=Ge();m.useEffect(()=>{(async()=>{try{a(!0);const u=(await Ii()).filter(d=>d.game==="slots"&&d.isActive);if(o){const d=u.map(f=>({...f,joined:Math.random()>.5}));n(d)}else n(u)}catch(c){console.error("Error loading tournaments:",c),D.error("Failed to load tournaments")}finally{a(!1)}})()},[o]);const i=async l=>{if(!o){D.error("You must be logged in to join tournaments");return}try{await du(l,o.id)&&(n(u=>u.map(d=>d.id===l?{...d,joined:!0}:d)),D.success("You have joined the tournament!",{description:"Your gameplay will now count toward this tournament."}))}catch(c){console.error("Error joining tournament:",c),D.error("Failed to join tournament")}};return r?s.jsxs("div",{className:"space-y-2 p-4 bg-background/10 rounded-lg animate-pulse",children:[s.jsx("div",{className:"h-6 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-20 bg-muted rounded"}),s.jsx("div",{className:"h-20 bg-muted rounded"})]}):t.length===0?s.jsxs(J,{className:"p-4 text-center",children:[s.jsx(ze,{className:"h-10 w-10 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{children:"No active tournaments available"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5 text-casino-gold"}),"Active Tournaments"]}),t.map(l=>s.jsxs(J,{className:"p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-base",children:l.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]}),s.jsx("div",{className:"bg-casino-purple/20 px-2 py-1 rounded-full text-sm",children:s.jsx("span",{className:"text-casino-gold font-medium",children:l.type})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 my-3 text-sm",children:[s.jsxs("div",{className:"flex flex-col items-center bg-background/20 p-2 rounded",children:[s.jsx(Gn,{className:"h-4 w-4 mb-1 text-casino-gold"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Prize"}),s.jsx("span",{className:"font-medium",children:l.prizePool.toLocaleString()})]}),s.jsxs("div",{className:"flex flex-col items-center bg-background/20 p-2 rounded",children:[s.jsx(Ks,{className:"h-4 w-4 mb-1 text-casino-gold"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Ends In"}),s.jsx("span",{className:"font-medium",children:"24h"})]}),s.jsxs("div",{className:"flex flex-col items-center bg-background/20 p-2 rounded",children:[s.jsx(kn,{className:"h-4 w-4 mb-1 text-casino-gold"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Players"}),s.jsx("span",{className:"font-medium",children:l.participants})]})]}),s.jsx(L,{className:"w-full casino-btn-secondary",size:"sm",onClick:()=>i(l.id),disabled:l.joined,children:l.joined?"Participating":"Join Tournament"})]},l.id))]})},$x=[{id:"cherry",value:10,emoji:"🍒"},{id:"lemon",value:20,emoji:"🍋"},{id:"orange",value:30,emoji:"🍊"},{id:"watermelon",value:40,emoji:"🍉"},{id:"bell",value:50,emoji:"🔔"},{id:"seven",value:100,emoji:"7️⃣"},{id:"diamond",value:200,emoji:"💎"}],eL=()=>{const[e,t]=m.useState(1e3),[n,r]=m.useState(!1),a=st(),{config:o,isLoading:i,error:l}=Zm({gameId:"slot-classic",isSlotMachine:!0}),c=o;m.useEffect(()=>{c?(console.log("Slot configuration loaded:",c),console.log("RTP value:",c.rtp),console.log("Symbol weights:",c.symbol_weights),console.log("Payouts:",c.payouts)):l&&console.error("Error loading slot configuration:",l)},[c,l]);const u=p=>{if(!c)return 0;const w=`three_${p}`,v=c.payouts[w];return v===void 0?0:typeof v=="string"?parseFloat(v):v},[d,f]=m.useState($x);m.useEffect(()=>{if(!c)return;const p=$x.map(w=>({...w,value:u(w.id)||w.value}));console.log("Updated symbols with config values:",p),f(p)},[c]);const h=p=>{console.log(`Won ${p} coins`)},x=c?c.min_bet:10,g=c?c.max_bet:100;return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>a("/slots"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Lucky Spinner"}),s.jsxs(L,{variant:"outline",size:"sm",className:"ml-auto flex items-center gap-1",onClick:()=>r(!n),children:[s.jsx(ze,{className:"h-4 w-4 text-casino-gold"}),s.jsx("span",{children:n?"Hide Tournaments":"Show Tournaments"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:i?s.jsx("div",{className:"text-center py-10",children:"Loading slot configuration..."}):s.jsx(bu,{initialCoins:e,symbols:d,reels:3,rows:1,minBet:x,maxBet:g,onWin:h,machineName:"Lucky Spinner",onSaveBalance:t,slotType:"classic",slotConfig:c})}),s.jsx("div",{className:"lg:col-span-1",children:n?s.jsx(ZI,{machineType:"classic"}):s.jsxs(J,{className:"bg-card border-border/30 shadow-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"How To Play"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Select your bet amount using + and - buttons"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Click SPIN to start the game"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Match 3 identical symbols for a big win!"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Match 2 identical symbols for a smaller win"})]})]}),s.jsx(dn,{className:"my-6 bg-border/30"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Symbol Values"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(p=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl",children:p.emoji}),s.jsxs("span",{children:[p.value,"x bet"]})]},p.id))}),s.jsx(dn,{className:"my-6 bg-border/30"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(L,{variant:"outline",className:"border-casino-gold/50 hover:border-casino-gold text-casino-gold hover:bg-casino-gold/10",onClick:()=>t(p=>p+1e3),children:[s.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Get Free Coins"]}),s.jsxs("div",{className:"text-casino-gold font-bold",children:[s.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:"Balance:"}),e]})]})]})})]})]})},Fx=[{id:"cherry",value:8,emoji:"🍒"},{id:"strawberry",value:10,emoji:"🍓"},{id:"lemon",value:15,emoji:"🍋"},{id:"orange",value:20,emoji:"🍊"},{id:"apple",value:25,emoji:"🍎"},{id:"watermelon",value:30,emoji:"🍉"},{id:"grapes",value:40,emoji:"🍇"},{id:"banana",value:50,emoji:"🍌"},{id:"star",value:100,emoji:"⭐",isWild:!0},{id:"scatter",value:0,emoji:"🎁",isScatter:!0}],tL=()=>{const[e,t]=m.useState(1e3),n=st(),r=a=>{console.log(`Won ${a} coins`)};return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>n("/slots"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Fruit Frenzy"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(bu,{initialCoins:e,symbols:Fx,reels:5,rows:3,minBet:20,maxBet:200,onWin:r,machineName:"Fruit Frenzy",onSaveBalance:t})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(J,{className:"bg-card border-border/30 shadow-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"How To Play"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"This is a 5-reel slot with multiple paylines"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:[s.jsx(qc,{className:"h-4 w-4 inline text-yellow-500"})," is a Wild symbol and substitutes any fruit"]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"🎁 is a Scatter - get 3+ for free spins bonus"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-casino-gold flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Free spins come with a 2x win multiplier!"})]})]}),s.jsx(dn,{className:"my-6 bg-border/30"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Symbol Values"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Fx.filter(a=>!a.isScatter).map(a=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-2xl",children:a.emoji}),s.jsxs("span",{children:[a.value,"x bet"]})]},a.id))}),s.jsx(dn,{className:"my-6 bg-border/30"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(L,{variant:"outline",className:"border-casino-gold/50 hover:border-casino-gold text-casino-gold hover:bg-casino-gold/10",onClick:()=>t(a=>a+1e3),children:[s.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Get Free Coins"]}),s.jsxs("div",{className:"text-casino-gold font-bold",children:[s.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:"Balance:"}),e]})]})]})})]})]})},nL=({title:e})=>{const t=st();return s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>t("/slots"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:e})]})},qN=[{id:"planet1",value:15,emoji:"🪐"},{id:"planet2",value:25,emoji:"🌎"},{id:"moon",value:30,emoji:"🌙"},{id:"star",value:40,emoji:"⭐"},{id:"comet",value:50,emoji:"☄️"},{id:"alien",value:75,emoji:"👽"},{id:"rocket",value:100,emoji:"🚀"},{id:"galaxy",value:150,emoji:"🌌",isWild:!0},{id:"ufo",value:0,emoji:"🛸",isScatter:!0}],rL=({coins:e,onAddCoins:t})=>s.jsxs(J,{className:"bg-gradient-to-b from-indigo-900/80 to-black/70 border-indigo-500/20 shadow-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-indigo-200 mb-4",children:"Space Features"}),s.jsxs("ul",{className:"space-y-3 text-slate-200",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"5 reels with expanding wilds and bonus rounds"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"🌌 Galaxy is wild and expands to fill the reel"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"🛸 UFO triggers the bonus abduction feature"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Higher risk but bigger rewards!"})]})]}),s.jsx(dn,{className:"my-6 bg-indigo-500/30"}),s.jsx("h3",{className:"text-xl font-bold text-indigo-200 mb-4",children:"Symbol Values"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:qN.filter(n=>!n.isScatter).map(n=>s.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[s.jsx("div",{className:"text-2xl",children:n.emoji}),s.jsxs("span",{children:[n.value,"x bet"]})]},n.id))}),s.jsx(dn,{className:"my-6 bg-indigo-500/30"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(L,{variant:"outline",className:"border-indigo-500/50 hover:border-indigo-400 text-indigo-300 hover:bg-indigo-900/30",onClick:t,children:[s.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Get Free Coins"]}),s.jsxs("div",{className:"text-indigo-200 font-bold",children:[s.jsx("span",{className:"text-sm text-indigo-400 mr-1",children:"Balance:"}),e]})]})]}),sL=()=>{const[e,t]=m.useState(1e3),{user:n}=Ge();m.useEffect(()=>{(async()=>{if(n)try{const{data:i,error:l}=await W.from("profiles").select("balance").eq("id",n.id).single();!l&&i&&t(i.balance)}catch(i){console.error("Error fetching balance:",i)}})()},[n]);const r=o=>{console.log(`Won ${o} coins`)},a=async()=>{if(n)try{const{data:o,error:i}=await W.rpc("update_balance",{user_uuid:n.id,amount:1e3,t_type:"purchase",game_name:"Cosmic Cash",meta:{source:"slot-bonus"}});i?(console.error("Error adding coins:",i),D.error("Failed to add coins. Please try again.")):(t(l=>l+1e3),D.success("1000 coins added to your balance!"))}catch(o){console.error("Error adding coins:",o),D.error("Failed to add coins. Please try again.")}else t(o=>o+1e3),D.success("1000 coins added to your balance!")};return s.jsxs(Et,{children:[s.jsx(nL,{title:"Cosmic Cash"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"bg-gradient-to-b from-indigo-900 to-black/80 p-6 rounded-lg shadow-lg",children:s.jsx(bu,{initialCoins:e,symbols:qN,reels:5,rows:3,minBet:50,maxBet:500,onWin:r,machineName:"Cosmic Cash",onSaveBalance:t})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(rL,{coins:e,onAddCoins:a})})]})]})},Bx=[{id:"bar",value:20,emoji:"📊"},{id:"bell",value:30,emoji:"🔔"},{id:"cherry",value:40,emoji:"🍒"},{id:"clover",value:50,emoji:"🍀"},{id:"horseshoe",value:60,emoji:"🧲"},{id:"seven",value:77,emoji:"7️⃣"},{id:"crown",value:100,emoji:"👑"},{id:"diamond",value:200,emoji:"💎",isWild:!0},{id:"bonus",value:0,emoji:"🎰",isBonus:!0,isScatter:!0}],zx=[{name:"Mini",amount:1e3,color:"bg-green-500"},{name:"Minor",amount:5e3,color:"bg-blue-500"},{name:"Major",amount:25e3,color:"bg-purple-500"},{name:"Mega",amount:1e5,color:"bg-red-500"}],aL=()=>{const[e,t]=m.useState(1e3),[n,r]=m.useState(zx.map(c=>({...c}))),[a,o]=m.useState(0),i=st();m.useEffect(()=>{const c=setInterval(()=>{r(u=>u.map(d=>({...d,amount:d.amount+Math.floor(Math.random()*10)})))},5e3);return()=>clearInterval(c)},[]);const l=c=>{o(u=>{const d=Math.min(u+c/1e3,100);if(d>=100){const f=Math.random();let h=0;f>.97?h=3:f>.9?h=2:f>.7?h=1:h=0;const x=n[h].amount;return t(g=>g+x),setTimeout(()=>{r(g=>{const p=[...g];return p[h].amount=zx[h].amount,p})},5e3),0}return d})};return s.jsxs(Et,{children:[s.jsxs("div",{className:"flex items-center mb-8",children:[s.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>i("/slots"),children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Mega Jackpot"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:n.map(c=>s.jsxs(J,{className:`border-${c.color.replace("bg-","")}/30 p-4 text-center`,children:[s.jsx("h3",{className:"text-lg font-bold mb-1",children:c.name}),s.jsx("p",{className:`text-xl font-mono ${c.color.replace("bg-","text-")}`,children:c.amount.toLocaleString()})]},c.name))}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Jackpot Chance"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.round(a),"%"]})]}),s.jsx(Ds,{value:a,className:"h-2"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"bg-gradient-to-b from-amber-900/40 to-black/80 p-6 rounded-lg",children:s.jsx(bu,{initialCoins:e,symbols:Bx,reels:5,rows:3,minBet:100,maxBet:1e3,onWin:l,machineName:"Mega Jackpot",onSaveBalance:t})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(J,{className:"bg-gradient-to-b from-amber-900/40 to-black/80 border-amber-500/30 shadow-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-amber-200 mb-4 flex items-center",children:[s.jsx(AC,{className:"h-5 w-5 mr-2 text-amber-500"}),"Progressive Jackpots"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-slate-200",children:"Four progressive jackpot tiers"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-slate-200",children:"Every win increases jackpot chance"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-slate-200",children:"Higher bets give better jackpot odds"})]})]}),s.jsx(dn,{className:"my-6 bg-amber-500/30"}),s.jsx("h3",{className:"text-xl font-bold text-amber-200 mb-4",children:"Symbol Values"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Bx.filter(c=>!c.isScatter).map(c=>s.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[s.jsx("div",{className:"text-2xl",children:c.emoji}),s.jsxs("span",{children:[c.value,"x bet"]})]},c.id))}),s.jsx(dn,{className:"my-6 bg-amber-500/30"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(L,{variant:"outline",className:"border-amber-500/50 hover:border-amber-400 text-amber-300 hover:bg-amber-900/30",onClick:()=>t(c=>c+5e3),children:[s.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Get 5000 Coins"]}),s.jsxs("div",{className:"text-amber-200 font-bold",children:[s.jsx("span",{className:"text-sm text-amber-400 mr-1",children:"Balance:"}),e]})]})]})})]})]})},oL=new YT,iL=({children:e})=>{const{user:t,loading:n}=Ge();return n?s.jsx("div",{children:"Loading..."}):t?e:s.jsx(LP,{to:"/auth"})},lL=()=>s.jsx(KT,{client:oL,children:s.jsx(mm,{children:s.jsx(p5,{children:s.jsx(x5,{children:s.jsxs(v5,{children:[s.jsx(S2,{}),s.jsx(tw,{}),s.jsx(GP,{children:s.jsxs(FP,{children:[s.jsx(Ve,{path:"/",element:s.jsx(oO,{})}),s.jsx(Ve,{path:"/games",element:s.jsx(dO,{})}),s.jsx(Ve,{path:"/slots",element:s.jsx(iO,{})}),s.jsx(Ve,{path:"/slots/classic",element:s.jsx(eL,{})}),s.jsx(Ve,{path:"/slots/fruity",element:s.jsx(tL,{})}),s.jsx(Ve,{path:"/slots/space",element:s.jsx(sL,{})}),s.jsx(Ve,{path:"/slots/jackpot",element:s.jsx(aL,{})}),s.jsx(Ve,{path:"/sportsbook",element:s.jsx(dI,{})}),s.jsx(Ve,{path:"/tournaments",element:s.jsx(_I,{})}),s.jsx(Ve,{path:"/profile",element:s.jsx(iL,{children:s.jsx(I4,{})})}),s.jsx(Ve,{path:"/leaderboard",element:s.jsx(B4,{})}),s.jsx(Ve,{path:"/auth",element:s.jsx(pD,{})}),s.jsx(Ve,{path:"/admin",element:s.jsx(qD,{})}),s.jsx(Ve,{path:"/quiz",element:s.jsx(vI,{})}),s.jsx(Ve,{path:"/blackjack",element:s.jsx(Zn,{title:"Blackjack"})}),s.jsx(Ve,{path:"/cointoss",element:s.jsx(Zn,{title:"Coin Toss"})}),s.jsx(Ve,{path:"/highlow",element:s.jsx(Zn,{title:"High Low"})}),s.jsx(Ve,{path:"/picknumber",element:s.jsx(Zn,{title:"Lucky Number"})}),s.jsx(Ve,{path:"/poker",element:s.jsx(Zn,{title:"Video Poker"})}),s.jsx(Ve,{path:"/roulette-eu",element:s.jsx(Zn,{title:"European Roulette"})}),s.jsx(Ve,{path:"/roulette-us",element:s.jsx(Zn,{title:"American Roulette"})}),s.jsx(Ve,{path:"/dice",element:s.jsx(Zn,{title:"Casino Dice"})}),s.jsx(Ve,{path:"/racing",element:s.jsx(Zn,{title:"Virtual Racing"})}),s.jsx(Ve,{path:"*",element:s.jsx(z4,{})})]})})]})})})})});d0(document.getElementById("root")).render(s.jsx(lL,{}));export{Kx as g};
